{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/@fuselab/ui-fabric/lib/index.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/@fuselab/ui-fabric/lib/themes/index.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/@fuselab/ui-shared/lib/index.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/@fuselab/ui-shared/lib/path.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/base64url/index.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///C:/Users/juwilaby/Documents/dev/BotFramework-Emulator/node_modules/classnames/index.js","webpack:///../node_modules/glamor/lib/index.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///../node_modules/jsonpath/index.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/msbot/bin/models/index.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///../node_modules/msbot/bin/schema.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///../node_modules/office-ui-fabric-react/lib/Spinner.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/process/browser.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/prop-types/index.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/react-dom/index.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///C:/Users/juwilaby/Documents/dev/BotFramework-Emulator/node_modules/react-hot-loader/dist/react-hot-loader.production.min.js","webpack:///C:/Users/juwilaby/Documents/dev/BotFramework-Emulator/node_modules/react-hot-loader/index.js","webpack:///../node_modules/react-redux/es/index.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///../node_modules/react/index.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///../node_modules/redux-promise-middleware/dist/es/index.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/redux-saga/es/effects.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/redux-saga/es/index.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/redux-thunk/lib/index.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/redux/es/index.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///../node_modules/rxjs/Rx.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/url/url.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///../node_modules/webpack/buildin/harmony-module.js\" from dll-reference vendors_f50214d7a018df6e22eb","webpack:///C:/Users/juwilaby/Documents/dev/BotFramework-Emulator/packages/custom-botframework-webchat/CognitiveServices.js","webpack:///custom-botframework-webchat/adaptivecards-hostconfig.json\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///custom-botframework-webchat/built/BotChat.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///sdk/shared/built/index.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///sdk/ui-react/built/index.js\" from dll-reference shared_5e358c4ce1c49d05e044","webpack:///delegated ../shared/built/index.js from dll-reference shared_5e358c4ce1c49d05e044","webpack:///./src/commands.ts","webpack:///./src/constants.js","webpack:///./src/data/action/azureBotServiceActions.ts","webpack:///./src/data/action/botActions.ts","webpack:///./src/data/action/chatActions.ts","webpack:///./src/data/action/dialogActions.ts","webpack:///./src/data/action/dispatchServiceActions.ts","webpack:///./src/data/action/editorActions.ts","webpack:///./src/data/action/endpointServiceActions.ts","webpack:///./src/data/action/explorerActions.ts","webpack:///./src/data/action/fileActions.ts","webpack:///./src/data/action/luisAuthActions.ts","webpack:///./src/data/action/luisServiceActions.ts","webpack:///./src/data/action/navBarActions.ts","webpack:///./src/data/action/presentationActions.ts","webpack:///./src/data/action/qnaMakerServiceActions.ts","webpack:///./src/data/action/serverActions.ts","webpack:///./src/data/botHelpers.ts","webpack:///./src/data/chatHelpers.ts","webpack:///./src/data/editorHelpers.ts","webpack:///./src/data/http/luisApi.ts","webpack:///./src/data/reducer/bot.ts","webpack:///./src/data/reducer/chat.ts","webpack:///./src/data/reducer/dialog.ts","webpack:///./src/data/reducer/editor.ts","webpack:///./src/data/reducer/explorer.ts","webpack:///./src/data/reducer/files.ts","webpack:///./src/data/reducer/luisAuthReducer.ts","webpack:///./src/data/reducer/navBar.ts","webpack:///./src/data/reducer/presentation.ts","webpack:///./src/data/reducer/server.ts","webpack:///./src/data/sagas/azureBotServiceSagas.ts","webpack:///./src/data/sagas/dispatchSagas.ts","webpack:///./src/data/sagas/endpointSagas.ts","webpack:///./src/data/sagas/index.ts","webpack:///./src/data/sagas/luisSagas.ts","webpack:///./src/data/sagas/qnaMakerSagas.ts","webpack:///./src/data/store.ts","webpack:///./src/extensions.ts","webpack:///./src/hyperlinkHandler.ts","webpack:///./src/index.tsx","webpack:///./src/interceptError.ts","webpack:///./src/interceptHyperlink.ts","webpack:///./src/ipc/index.ts","webpack:///./src/platform/commands/commandService.ts","webpack:///./src/platform/log/logService.ts","webpack:///./src/platform/settings/settingsService.ts","webpack:///./src/ui/debug/storeVisualizer.tsx","webpack:///./src/ui/dialogs/botCreationDialog.tsx","webpack:///./src/ui/dialogs/host.tsx","webpack:///./src/ui/dialogs/secretPromptDialog.tsx","webpack:///./src/ui/dialogs/service/index.ts","webpack:///./src/ui/dialogs/tabManager/index.jsx","webpack:///./src/ui/editor/appSettingsEditor.tsx","webpack:///./src/ui/editor/botSettingsEditor/index.tsx","webpack:///./src/ui/editor/emulator/chatPanel.tsx","webpack:///./src/ui/editor/emulator/detailPanel.tsx","webpack:///./src/ui/editor/emulator/index.tsx","webpack:///./src/ui/editor/emulator/logPanel.tsx","webpack:///./src/ui/editor/emulator/parts/chat.tsx","webpack:///./src/ui/editor/emulator/parts/detail.tsx","webpack:///./src/ui/editor/emulator/parts/inspector.tsx","webpack:///./src/ui/editor/emulator/parts/log.tsx","webpack:///./src/ui/editor/emulator/playbackBar.tsx","webpack:///./src/ui/editor/index.jsx","webpack:///./src/ui/editor/panel.tsx","webpack:///./src/ui/editor/toolbar.tsx","webpack:///./src/ui/editor/welcomePage/index.tsx","webpack:///./src/ui/helpers/activeBotHelper.ts","webpack:///./src/ui/layout/genericDocument.tsx","webpack:///./src/ui/layout/index.ts","webpack:///./src/ui/shell/explorer/assetExplorerBar/index.tsx","webpack:///./src/ui/shell/explorer/azureBotServiceExplorer/azureBotServiceEditor/azureBotServiceEditor.tsx","webpack:///./src/ui/shell/explorer/azureBotServiceExplorer/azureBotServiceEditor/azureBotServiceEditorContainer.ts","webpack:///./src/ui/shell/explorer/azureBotServiceExplorer/azureBotServiceEditor/index.ts","webpack:///./src/ui/shell/explorer/azureBotServiceExplorer/azureBotServiceExplorer.tsx","webpack:///./src/ui/shell/explorer/azureBotServiceExplorer/azureBotServiceExplorerContainer.ts","webpack:///./src/ui/shell/explorer/azureBotServiceExplorer/index.ts","webpack:///./src/ui/shell/explorer/botNotOpenExplorer.jsx","webpack:///./src/ui/shell/explorer/dispatchExplorer/dispatchEditor/dispatchEditor.tsx","webpack:///./src/ui/shell/explorer/dispatchExplorer/dispatchEditor/dispatchEditorContainer.ts","webpack:///./src/ui/shell/explorer/dispatchExplorer/dispatchEditor/index.ts","webpack:///./src/ui/shell/explorer/dispatchExplorer/dispatchExplorer.tsx","webpack:///./src/ui/shell/explorer/dispatchExplorer/dispatchExplorerContainer.ts","webpack:///./src/ui/shell/explorer/dispatchExplorer/index.tsx","webpack:///./src/ui/shell/explorer/endpointExplorer/endpointEditor/endpointEditor.tsx","webpack:///./src/ui/shell/explorer/endpointExplorer/endpointEditor/endpointEditorContainer.ts","webpack:///./src/ui/shell/explorer/endpointExplorer/endpointEditor/index.ts","webpack:///./src/ui/shell/explorer/endpointExplorer/endpointExplorer.tsx","webpack:///./src/ui/shell/explorer/endpointExplorer/endpointExplorerContainer.ts","webpack:///./src/ui/shell/explorer/endpointExplorer/index.tsx","webpack:///./src/ui/shell/explorer/explorerBarBody.tsx","webpack:///./src/ui/shell/explorer/explorerBarHeader.tsx","webpack:///./src/ui/shell/explorer/explorerItem.tsx","webpack:///./src/ui/shell/explorer/explorerSet.tsx","webpack:///./src/ui/shell/explorer/explorerStyle.js","webpack:///./src/ui/shell/explorer/index.jsx","webpack:///./src/ui/shell/explorer/luisExplorer/index.tsx","webpack:///./src/ui/shell/explorer/luisExplorer/luisEditor/index.ts","webpack:///./src/ui/shell/explorer/luisExplorer/luisEditor/luisEditor.tsx","webpack:///./src/ui/shell/explorer/luisExplorer/luisEditor/luisEditorContainer.ts","webpack:///./src/ui/shell/explorer/luisExplorer/luisExplorer.tsx","webpack:///./src/ui/shell/explorer/luisExplorer/luisExplorerContainer.ts","webpack:///./src/ui/shell/explorer/qnaMakerExplorer/index.ts","webpack:///./src/ui/shell/explorer/qnaMakerExplorer/qnaMakerEditor/index.ts","webpack:///./src/ui/shell/explorer/qnaMakerExplorer/qnaMakerEditor/qnaMakerEditor.tsx","webpack:///./src/ui/shell/explorer/qnaMakerExplorer/qnaMakerEditor/qnaMakerEditorContainer.ts","webpack:///./src/ui/shell/explorer/qnaMakerExplorer/qnaMakerExplorer.tsx","webpack:///./src/ui/shell/explorer/qnaMakerExplorer/qnaMakerExplorerContainer.ts","webpack:///./src/ui/shell/explorer/servicePane.tsx","webpack:///./src/ui/shell/explorer/servicesExplorerBar/index.tsx","webpack:///./src/ui/shell/explorer/servicesExplorerBar/servicesExplorerBarContainer.ts","webpack:///./src/ui/shell/explorer/servicesExplorerBar/servicesExporerBar.tsx","webpack:///./src/ui/shell/explorer/transcriptExplorer/fileTreeProvider.ts","webpack:///./src/ui/shell/explorer/transcriptExplorer/index.ts","webpack:///./src/ui/shell/explorer/transcriptExplorer/transcriptExplorer.tsx","webpack:///./src/ui/shell/main.jsx","webpack:///./src/ui/shell/mdi/emulatorTab.jsx","webpack:///./src/ui/shell/mdi/genericTab.jsx","webpack:///./src/ui/shell/mdi/index.jsx","webpack:///./src/ui/shell/mdi/tab.jsx","webpack:///./src/ui/shell/mdi/tabFactory.jsx","webpack:///./src/ui/shell/mdi/tabStyle.jsx","webpack:///./src/ui/shell/mdi/testBedTab.jsx","webpack:///./src/ui/shell/multiTabs/index.jsx","webpack:///./src/ui/shell/multiTabs/tabBar.jsx","webpack:///./src/ui/shell/multiTabs/tabBarTab.jsx","webpack:///./src/ui/shell/multiTabs/tabbedDocument/contentOverlay.jsx","webpack:///./src/ui/shell/multiTabs/tabbedDocument/contentWrapper.jsx","webpack:///./src/ui/shell/multiTabs/tabbedDocument/index.jsx","webpack:///./src/ui/shell/multiTabs/tabbedDocument/leftContentOverlay.jsx","webpack:///./src/ui/shell/multiTabs/tabbedDocument/overlayStyle.js","webpack:///./src/ui/shell/multiTabs/tabbedDocument/rightContentOverlay.jsx","webpack:///./src/ui/shell/navBar/index.jsx","webpack:///./src/ui/shell/statusBar/index.jsx","webpack:///./src/ui/utils/debounce.ts","webpack:///external \"shared_5e358c4ce1c49d05e044\"","webpack:///external \"vendors_f50214d7a018df6e22eb\""],"names":["parentHotUpdateCallback","window","chunkId","moreModules","hotAvailableFilesMap","hotRequestedFilesMap","moduleId","Object","prototype","hasOwnProperty","call","hotUpdate","hotWaitingFiles","hotChunksLoading","hotUpdateDownloaded","hotAddUpdateChunk","hotCurrentChildModule","hotApplyOnUpdate","hotCurrentHash","hotRequestTimeout","hotCurrentModuleData","hotCurrentParents","hotCurrentParentsTemp","hotCreateRequire","me","installedModules","__webpack_require__","fn","request","hot","active","parents","indexOf","push","children","console","warn","ObjectFactory","name","configurable","enumerable","get","set","value","defineProperty","e","hotStatus","hotSetStatus","then","finishChunkLoading","err","hotWaitingFilesMap","hotEnsureUpdateChunk","hotStatusHandlers","newStatus","i","length","hotDeferred","hotUpdateNewHash","toModuleId","id","hotCheck","apply","Error","requestTimeout","Promise","resolve","reject","XMLHttpRequest","requestPath","p","open","timeout","send","onreadystatechange","readyState","status","update","JSON","parse","responseText","c","h","promise","head","document","getElementsByTagName","script","createElement","charset","src","appendChild","hotDownloadUpdateChunk","deferred","hotApply","result","outdatedModules","options","cb","j","module","getAffectedStuff","updateModuleId","outdatedDependencies","queue","slice","map","chain","queueItem","pop","_selfAccepted","_selfDeclined","type","_main","parentId","parent","_declinedDependencies","concat","_acceptedDependencies","addAllToSet","a","b","item","appliedUpdate","warnUnexpectedRequire","abortError","doApply","doDispose","chainInfo","join","onDeclined","ignoreDeclined","onUnaccepted","ignoreUnaccepted","onAccepted","onDisposed","idx","outdatedSelfAcceptedModules","errorHandler","keys","forEach","installedChunks","hotDisposeChunk","dependency","moduleOutdatedDependencies","data","disposeHandlers","_disposeHandlers","child","splice","modules","error","callbacks","onErrored","dependencyId","ignoreErrored","err2","originalError","exports","l","accept","dep","callback","decline","dispose","addDisposeHandler","removeDisposeHandler","check","addStatusHandler","removeStatusHandler","undefined","hotCreateModule","m","d","getter","o","r","n","__esModule","object","property","s","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","classNames","classes","arguments","arg","argType","Array","isArray","key","React","default","classCallCheck","t","TypeError","possibleConstructorReturn","ReferenceError","AppContainer","this","create","constructor","writable","setPrototypeOf","__proto__","inherits","render","Children","only","props","Component","areComponentsEqual","setConfig","factory","__export","tslib_1","ArgumentNullError","_super","argumentName","_this","message","__extends","InvalidOperationError","ObjectDisposedError","objectName","CreateGuid","Date","getTime","replace","Math","random","floor","toString","CreateNoDashGuid","RegExp","toUpperCase","__webpack_exports__","__","extendStatics","__assign","getOwnPropertySymbols","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","paramIndex","decorator","metadataKey","metadataValue","metadata","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","throw","done","body","f","y","g","_","label","sent","trys","ops","verb","return","Symbol","iterator","v","op","__values","__read","ar","__await","asyncIterator","q","resume","fulfill","settle","shift","assign","Guid_1","EventType","PlatformEvent","eventType","eventId","eventTime","toISOString","AuthInfo","headerName","token","Exports_1","SpeechRecognitionEvent","eventName","requestId","Info","SpeechRecognitionResultEvent","RecognitionTriggeredEvent","audioSourceId","audioNodeId","ListeningStartedEvent","ConnectingToServiceEvent","authFetchEventid","connectionId","RecognitionStartedEvent","authFetchEventId","SpeechStartDetectedEvent","SpeechHypothesisEvent","SpeechEndDetectedEvent","SpeechSimplePhraseEvent","RecognitionCompletionStatus","SpeechDetailedPhraseEvent","RecognitionEndedEvent","serviceTag","Success","WebsocketMessageAdapter","uri","messageFormatter","Open","connectionState","ConnectionState","Disconnected","PromiseHelper","FromError","connectionEstablishDeferral","Deferred","Connecting","websocketClient","WebSocket","receivingMessageQueue","Queue","disconnectDeferral","sendMessageQueue","ProcessSendQueue","OnEvent","ConnectionStartEvent","onopen","Connected","ConnectionEstablishedEvent","Resolve","ConnectionOpenResponse","onerror","onclose","ConnectionEstablishErrorEvent","code","reason","ConnectionClosedEvent","OnClose","onmessage","networkReceivedTime","deferred_1","EnqueueFromPromise","Blob","fileReader_1","FileReader","onload","le","rawMessage","RawWebsocketMessage","MessageType","Binary","ToConnectionMessage","On","connectionMessage","ConnectionMessageReceivedEvent","Reject","ev","readAsArrayBuffer","Text","Send","messageSendStatusDeferral","messageSendDeferral","FromConnectionMessage","Message","SendStatusDeferral","Read","Dequeue","Close","deferral","close","SendRawMessage","sendItem","ConnectionMessageSentEvent","Payload","FromResult","closeReason","Dispose","DrainAndDispose","pendingReceiveItem","pendingSendItem","sendError","event","connectionEvents","Events","Instance","EventSource","None","Error_1","ConnectionMessage","messageType","headers","ArrayBuffer","eventListeners","isDisposed","IsDisposed","Metadata","paramName","Attach","onEventCallback","Detach","AttachListener","listener","InMemoryStorage","store","Get","GetOrAdd","valueToAdd","Set","Remove","List","list","subscriptionIdCounter","addSubscriptions","removeSubscriptions","disposedSubscriptions","disposeReason","itemIndex","ThrowIfDisposed","First","Last","Length","Add","InsertAt","index","unshift","TriggerSubscriptions","RemoveFirst","RemoveAt","RemoveLast","count","removedElements","Clear","OnAdded","addedCallback","subscriptionId","OnRemoved","removedCallback","OnDisposed","disposedCallback","Join","seperator","ToArray","cloneCopy","val","Any","Where","All","ForEach","Select","selectList","filteredList","OrderBy","compareFn","sort","OrderByDesc","Clone","Concat","ConcatArray","array","subscriptions","_i","list_1","PromiseState","PromiseResult","promiseResultEventSource","ThrowIfError","IsError","isCompleted","isError","PromiseResultEventSource","SetResult","onSetResult","SetError","onSetError","WhenAll","promises","errors","completedPromises","checkForCompletion","promises_1","sink","Result","ContinueWith","continuationCallback","continuationDeferral","on","coninuationResult","OnSuccessContinueWith","ContinueWithPromise","continuationPromise","OnSuccessContinueWithPromise","successCallback","errorCallback","Finally","callbackWrapper","State","Sink","state","promiseResult","promiseResultEvents","successHandlers","errorHandlers","Resolved","ExecuteSuccessCallback","DetachHandlers","Rejected","_a","ExecuteErrorCallback","SubscriberType","List_1","Promise_1","promiseStore","isDrainInProgress","isDisposing","Enqueue","ThrowIfDispose","IsCompleted","deferredSubscriber","subscribers","Drain","Peek","pendingItemProcessor","detachables","subscriber","dequeuedItem","Exports_2","Exports_3","TestHooksParamName","ConnectionIdHeader","SpeechConnectionFactory","Create","config","authInfo","endpoint","RecognitionMode","Conversation","Host","ConversationRelativeUri","Dictation","DictationRelativeUri","InteractiveRelativeUri","queryParams","format","SpeechResultFormat","Format","toLowerCase","language","Language","IsDebugModeEnabled","HeaderName","Token","WebsocketConnection","WebsocketMessageFormatter","Storage","Local","System","RecognizerConfig","platformConfig","recognitionMode","Interactive","Simple","speechConfig","SpeechConfig","Context","recognitionActivityTimeout","context","Serialize","stringify","replacement","k","charAt","substring","os","device","system","version","OS","platform","Device","manufacturer","model","log","optionalParams","konsole","CognitiveSpeech","SpeechRecognizer","properties","audioStreamStartInitiated","isStreamingToService","onIntermediateResult","onFinalResult","onAudioStreamingToService","onRecognitionFailed","locale","actualRecognizer","authentication","recognizerConfig","navigator","userAgent","subscriptionKey","CognitiveSubscriptionKeyAuthentication","fetchCallback","fetchOnExpiryCallback","CognitiveTokenAuthentication","getUserMedia","CreateRecognizer","warmup","startRecognizing","speechContext","referenceGrammarId","dgi","Groups","Type","Hints","ReferenceGrammar","Recognize","Name","hypothesisEvent","simplePhraseEvent","RecognitionStatus","DisplayText","speechIsAvailable","stopRecognizing","AudioSource","TurnOff","SynthesisGender","SpeechSynthesizer","_requestQueue","_isPlaying","_helper","CognitiveServicesHelper","_properties","speak","text","lang","onSpeakingStarted","onSpeakingFinished","isReadyToPlay","getSpeechData","playAudio","stopSpeaking","_audioElement","top","AudioContext","decodeAudioData","buffer","source","createBufferSource","connect","destination","start","onended","ex","setTimeout","latest","fetchSpeechData","_tokenURL","_synthesisURL","_outputFormat","_femaleVoiceMap","ar-eg","ca-es","da-dk","de-de","en-au","en-ca","en-gb","en-in","en-us","es-es","es-mx","fi-fi","fr-ca","fr-fr","hi-in","ja-jp","ko-kr","nb-no","nl-nl","pl-pl","pt-br","pt-pt","ru-ru","sv-se","tr-tr","zh-cn","zh-hk","zh-tw","_maleVoiceMap","ar-sa","cs-cz","de-at","de-ch","el-gr","en-ie","fr-ch","he-il","hu-hu","id-id","it-it","ro-ro","sk-sk","th-th","_tokenCallback","fetchSpeechToken","_tokenExpiredCallback","synthesisProperties","SSML","makeSSML","cbAfterToken","_lastTokenTime","now","optionalHeaders","makeHttpCall","processSSML","ssml","gender","voiceName","fetchVoiceName","Female","encodeHTML","processDone","match","exec","dom","DOMParser","parseFromString","nodes","documentElement","childNodes","nodeName","attributes","nodeValue","Male","attribute","createAttribute","setNamedItem","serializer","XMLSerializer","voiceNode","firstChild","serializeToString","apiKey","actionType","url","isArrayBuffer","dataToSend","xhr","responseType","response","header","setRequestHeader","localeLowerCase","ConsoleLoggingListener","logLevelFilter","Warning","ToString","Debug","debug","info","logFragments","EventTime","prop","valueToLog","LocalStorage","localStorage","getItem","setItem","removeItem","MicAudioSource","recorder","streams","TurnOn","initializeDeferral","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","AudioSourceInitializingEvent","audio","mediaStream","AudioSourceReadyEvent","errorMsg","AudioSourceErrorEvent","Id","AudioStreamNodeAttachingEvent","Listen","streamReader","AudioStreamNodeAttachedEvent","AudioStreamNodeDetachedEvent","streamId","stream","ReleaseMediaResources","AudioSourceOffEvent","Stream","Record","AudioStreamNodeErrorEvent","GetReader","events","OpusRecorder","outputStream","mediaRecorder","MediaRecorder","mediaRecorderOptions","ondataavailable","dataAvailableEvent","reader_1","onloadend","Write","mediaResources","stop","getTracks","track","PcmRecorder","audioContext","mediaStreamSource","createMediaStreamSource","bufferSize","isFirstFrameWritten","desiredSampleRate","sampleRate","scriptNode","createScriptProcessor","waveStreamEncoder","RiffPcmEncoder","onaudioprocess","audioProcessingEvent","encodedAudioFrameWithRiffHeader","encodedAudioFrame","monoAudioChunk","inputBuffer","getChannelData","Encode","scriptProcessorNode","disconnect","SessionStorage","sessionStorage","Timer","delayInMillisec","params","timerId","clearTimeout","WebsocketMessageAdapter_1","queryParameters","connectionMessageAdapter","encodeURIComponent","PlatformEvent_1","AudioSourceEvent","AudioStreamNodeEvent","ConnectionEvent","statusCode","statuscode","networkReceivedTimeISO","networkSentTimeISO","networkSentTime","EventSource_1","instance","SetEventSource","eventSource","ConnectionMessage_1","payload","actualSampleRate","channelCount","isFirstAudioFrame","actualAudioFrame","audioFrame","DownSampleAudioFrame","audioLength","buffer_1","view_1","DataView","FloatTo16BitPCM","view","SetString","setUint32","setUint16","bitsPerSample","offset","str","setUint8","charCodeAt","input","max","min","setInt16","desiredSamplerate","sampleRateRatio","newLength","round","downSampledAudioFrame","Float32Array","offsetResult","offsetBuffer","nextOffsetBuffer","accum","InMemoryStorage_1","SetSessionStorage","SetLocalStorage","Queue_1","readerIdCounter","isEnded","ThrowIfClosed","WriteStreamChunk","Buffer","IsEnd","readerId","readerQueue","currentLength","streambuffer","readerQueues","StreamReader","streamChunk","onClose","isClosed","IsClosed","SpeechConnectionFactory_1","CreateRecognizerWithPcmRecorder","CreateRecognizerWithCustomAudioSource","audioSource","Recognizer","IAuthentication_1","AuthHeader","Fetch","FetchOnExpiry","RecognitionEvents_1","RecognizerConfig_1","ServiceTelemetryListener_Internal_1","SpeechConnectionMessage_Internal_1","connectionFactory","speechContextJson","requestSession","RequestSession","ListenForServiceTelemetry","AudioNodeId","OnAudioSourceAttachCompleted","audioNode","FetchConnection","connection","messageRetrievalPromise","ReceiveMessage","messageSendPromise","SendSpeechConfig","RequestId","SendSpeechContext","SendAudio","completionPromise","SendTelemetryData","GetTelemetry","CompletionPromise","isUnAuthorized","connectionFetchPromise","OnPreConnectionStart","OnConnectionEstablishCompleted","authPromise","OnAuthCompleted","StatusCode","Reason","SpeechConnectionMessage","Path","OnServiceTurnStartResponse","TextBody","OnServiceSpeechStartDetectedResponse","OnServiceSpeechHypothesisResponse","OnServiceSpeechEndDetectedResponse","IsContinuousRecognition","OnServiceSimpleSpeechPhraseResponse","OnServiceDetailedSpeechPhraseResponse","OnServiceTurnEndResponse","speechConfigJson","speechConfigConnectionId","telemetryData","audioStreamNode","audioStreamChunk","IsSpeechEnded","isAudioNodeDetached","OnComplete","AudioSourceError","AuthTokenFetchError","UnAuthorized","ConnectError","DetachAudioNode","OnConnectionError","UnknownError","serviceTelemetryListener","requestCompletionDeferral","ServiceTelemetryListener","listeningTriggerMetric","micMetric","connectionEstablishMetric","End","Start","AudioSourceId","micStartTime","ConnectionId","connectionStartTime","GetConnectionError","Headers","path","receivedMessages","NetworkReceivedTime","metrics","telemetry","Metrics","ReceivedMessages","json","PathHeaderName","ContentTypeHeaderName","RequestIdHeaderName","RequestTimestampHeaderName","contentType","additionalHeaders","Body","CRLF","textMessage","TextContent","headerBodySplit","split","ParseHeaders","binaryMessage","BinaryContent","byteLength","dataView","headerLength","getInt16","headersString","String","fromCharCode","getInt8","MakeHeaders","content_1","BinaryBody","fr_1","headerInt8Array","Int8Array","setInt8","bodyInt8Array","headerMatches","headerMatches_1","seperatorIndex","substr","trim","headerValue","SpeechRecognition_1","SpeechSynthesis_1","import","CommandRegistry","_bfemulator_sdk_shared__WEBPACK_IMPORTED_MODULE_1__","registerCommands","_platform_log_logService__WEBPACK_IMPORTED_MODULE_13__","_platform_settings_settingsService__WEBPACK_IMPORTED_MODULE_14__","_extensions__WEBPACK_IMPORTED_MODULE_11__","registerCommand","_data_editorHelpers__WEBPACK_IMPORTED_MODULE_9__","_ui_dialogs_service__WEBPACK_IMPORTED_MODULE_17__","showDialog","_ui_dialogs_botCreationDialog__WEBPACK_IMPORTED_MODULE_15__","__awaiter","_ui_dialogs_secretPromptDialog__WEBPACK_IMPORTED_MODULE_16__","botPath","_ui_helpers_activeBotHelper__WEBPACK_IMPORTED_MODULE_18__","confirmAndSwitchBots","confirmAndCloseBot","confirmAndOpenBotFromFile","bot","_data_botHelpers__WEBPACK_IMPORTED_MODULE_8__","confirmAndCreateBot","bots","_data_store__WEBPACK_IMPORTED_MODULE_10__","dispatch","_data_action_botActions__WEBPACK_IMPORTED_MODULE_3__","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_12__","remoteCall","filename","_data_action_chatActions__WEBPACK_IMPORTED_MODULE_4__","_data_action_editorActions__WEBPACK_IMPORTED_MODULE_5__","_constants__WEBPACK_IMPORTED_MODULE_2__","tabName","_data_action_navBarActions__WEBPACK_IMPORTED_MODULE_7__","documentId","endpointId","additionalData","title","buttonLabel","filters","extensions","catch","_data_action_fileActions__WEBPACK_IMPORTED_MODULE_6__","botDirectory","_bfemulator_app_shared__WEBPACK_IMPORTED_MODULE_0__","dispatchEvent","Event","args","DocumentId_WelcomePage","ContentType_AppSettings","ContentType_WelcomePage","ContentType_BotSettings","ContentType_Transcript","ContentType_LiveChat","ContentType_TestBed","NavBar_App","NavBar_Bot_Explorer","NavBar_Services","NavBar_Settings","EditorKey_Primary","EditorKey_Secondary","EditorKeys","DocumentId_AppSettings","DocumentId_BotSettings","OPEN_AZURE_BOT_SERVICE_DEEP_LINK","OPEN_AZURE_BOT_SERVICE_CONTEXT_MENU","LAUNCH_AZURE_BOT_SERVICE_EDITOR","launchAzureBotServiceEditor","azureBotServiceEditorComponent","azureBotService","openAzureBotServiceDeepLink","openAzureBotServiceExplorerContextMenu","CREATE","LOAD","PATCH","SET_ACTIVE","CLOSE","botFilePath","secret","load","filter","patch","setActive","NEW_CHAT_DOCUMENT","CLOSE_CHAT_DOCUMENT","PING_CHAT_DOCUMENT","NEW_CONVERSATION","LOG_APPEND","LOG_CLEAR","SET_INSPECTOR_OBJECTS","ADD_TRANSCRIPT","CLEAR_TRANSCRIPTS","REMOVE_TRANSCRIPT","pingDocument","addTranscript","clearTranscripts","removeTranscript","newDocument","mode","pingId","conversationId","webChatStore","_bfemulator_custom_botframework_webchat__WEBPACK_IMPORTED_MODULE_0__","directLine","entries","inspectorObjects","ui","horizontalSplitter","absolute","percentage","verticalSplitter","closeDocument","newConversation","appendToLog","entry","clearLog","setInspectorObjects","objs","SET_SHOWING","setShowing","showing","OPEN_DISPATCH_DEEP_LINK","OPEN_DISPATCH_CONTEXT_MENU","LAUNCH_DISPATCH_EDITOR","RETRIEVE_DISPATCH_MODELS","launchDispatchEditor","dispatchEditorComponent","dispatchService","openDispatchDeepLink","openDispatchExplorerContextMenu","retrieveDispatchModels","APPEND_TAB","CLOSE_ALL","SET_DIRTY_FLAG","OPEN","SET_ACTIVE_TAB","SET_ACTIVE_EDITOR","SPLIT_TAB","SWAP_TABS","TOGGLE_DRAGGING_TAB","UPDATE_DOCUMENT","appendTab","srcEditorKey","destEditorKey","editorKey","closeNonGlobalTabs","includeGlobal","setDirtyFlag","dirty","isGlobal","meta","updateDocument","updatedDocument","setActiveTab","setActiveEditor","splitTab","swapTabs","srcTabId","destTabId","toggleDraggingTab","draggingTab","OPEN_ENDPOINT_DEEP_LINK","OPEN_ENDPOINT_CONTEXT_MENU","LAUNCH_ENDPOINT_EDITOR","launchEndpointEditor","endpointEditorComponent","endpointService","openEndpointDeepLink","openEndpointExplorerContextMenu","SHOW","show","FileActions","addFile","add","removeFile","remove","setRoot","LUIS_LAUNCH_MODELS_VIEWER","LUIS_AUTHORING_DATA_CHANGED","LUIS_AUTH_STATUS_CHANGED","launchLuisModelsViewer","luisModelViewer","luisAuthoringDataChanged","luisAuthData","luisAuthStatusChanged","luisAuthWorkflowStatus","OPEN_LUIS_DEEP_LINK","OPEN_LUIS_CONTEXT_MENU","LAUNCH_LUIS_EDITOR","RETRIEVE_LUIS_MODELS","launchLuisEditor","luisEditorComponent","luisService","openLuisDeepLink","openLuisExplorerContextMenu","retrieveLuisModels","SELECT_OR_TOGGLE","SELECT","selectOrToggle","selection","select","ENABLE","DISABLE","enable","disable","OPEN_QNA_MAKER_DEEP_LINK","OPEN_QNA_MAKER_CONTEXT_MENU","LAUNCH_QNA_MAKER_EDITOR","launchQnaMakerEditor","qnaMakerEditorComponent","qnaMakerService","openQnAMakerDeepLink","openQnaMakerExplorerContextMenu","ALIVE","PING","ping","getActiveBot","_store__WEBPACK_IMPORTED_MODULE_0__","getState","activeBot","getBotInfoByPath","botFiles","find","pathExistsInRecentBots","some","documentIdForConversation","chat","chats","hasNonGlobalTabs","tabGroups","editor","editors","documents","getTabGroupForDocument","getOtherTabGroup","tabGroup","showWelcomePage","_action_editorActions__WEBPACK_IMPORTED_MODULE_1__","showAppSettingsPage","tabGroupHasDocuments","LuisApi","[object Object]","skip","take","authoringKey","region","Content-Accept","Ocp-Apim-Subscription-Key","isNaN","fetch","method","DEFAULT_STATE","action","_action_botActions__WEBPACK_IMPORTED_MODULE_0__","newBot","displayName","_bfemulator_app_shared__WEBPACK_IMPORTED_MODULE_1__","setBotFilesState","patchedBot","_botHelpers__WEBPACK_IMPORTED_MODULE_2__","setActiveBot","mostRecentBot","recentBots","newState","botFilesState","changeKey","transcripts","_action_chatActions__WEBPACK_IMPORTED_MODULE_0__","xs","setTranscriptsState","copy","dialog","_action_dialogActions__WEBPACK_IMPORTED_MODULE_0__","activeEditor","_constants__WEBPACK_IMPORTED_MODULE_1__","activeDocumentId","recentTabs","tabOrder","freeze","_action_editorActions__WEBPACK_IMPORTED_MODULE_2__","docId","editorState","setEditorState","docToAppend","srcEditor","removeDocumentFromTabGroup","destTabOrder","destRecentTabs","destDocs","destEditor","setDraggingTab","_editorHelpers__WEBPACK_IMPORTED_MODULE_3__","setNewPrimaryEditor","newPrimaryEditorKey","tmp","newTabOrder","newRecentTabs","newDocs","newTabGroup","fixupTabGroups","otherTabGroup","tabGroupState","activeIndex","editorKeys","outer","documentKeys","tabId","srcTabIndex","findIndex","destTabIndex","destTab","docToSwap","getNewEditor","newActiveDocumentId","newPrimaryEditor","dragging","explorer","_action_explorerActions__WEBPACK_IMPORTED_MODULE_0__","seps","detectedSep","detectSep","parts","ensureAncestors","cur","root","ancestors","x","ancestor","level","file","files","selected","_action_fileActions__WEBPACK_IMPORTED_MODULE_1__","rootInfo","_fuselab_ui_shared_lib_path__WEBPACK_IMPORTED_MODULE_0__","initialState","luisAuth","luisAuthoringKey","_action_luisAuthActions__WEBPACK_IMPORTED_MODULE_0__","_constants__WEBPACK_IMPORTED_MODULE_0__","expanded","navBar","_action_navBarActions__WEBPACK_IMPORTED_MODULE_1__","enabled","presentation","_action_presentationActions__WEBPACK_IMPORTED_MODULE_0__","setEnabled","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_1__","connected","server","_action_serverActions__WEBPACK_IMPORTED_MODULE_0__","host","_ui_dialogs_service__WEBPACK_IMPORTED_MODULE_3__","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_2__","msbot_bin_schema__WEBPACK_IMPORTED_MODULE_0__","AzureBotService","openAzureBotServiceContextMenu","redux_saga_effects__WEBPACK_IMPORTED_MODULE_1__","bind","removeAzureBotServiceFromActiveBot","tenantId","resourceGroup","link","buttons","defaultId","cancelId","azureBotServiceSagas","_action_azureBotServiceActions__WEBPACK_IMPORTED_MODULE_4__","appId","openDispatchContextMenu","removeDispatchServiceFromActiveBot","Dispatch","dispatchSagas","_action_dispatchServiceActions__WEBPACK_IMPORTED_MODULE_4__","Endpoint","openEndpointContextMenu","removeEndpointServiceFromActiveBot","endpointSagas","_action_endpointServiceActions__WEBPACK_IMPORTED_MODULE_4__","applicationSagas","_luisSagas__WEBPACK_IMPORTED_MODULE_3__","_qnaMakerSagas__WEBPACK_IMPORTED_MODULE_4__","_dispatchSagas__WEBPACK_IMPORTED_MODULE_1__","_endpointSagas__WEBPACK_IMPORTED_MODULE_2__","_azureBotServiceSagas__WEBPACK_IMPORTED_MODULE_0__","getLuisAuthFromState","isModalServiceBusy","_action_luisAuthActions__WEBPACK_IMPORTED_MODULE_4__","beginModelViewLifeCycle","luisModels","_http_luisApi__WEBPACK_IMPORTED_MODULE_6__","getApplicationsList","openLuisContextMenu","removeLuisServiceFromActiveBot","Luis","luisSagas","_action_luisServiceActions__WEBPACK_IMPORTED_MODULE_5__","QnA","openQnaMakerContextMenu","openQnaMakerDeepLink","removeQnaMakerServiceFromActiveBot","kbId","qnaService","qnaMakerSagas","_action_qnaMakerServiceActions__WEBPACK_IMPORTED_MODULE_4__","_window","electron","process","versions","sagaMiddleWare","redux_saga__WEBPACK_IMPORTED_MODULE_2__","configureStore","redux__WEBPACK_IMPORTED_MODULE_0__","_reducer_bot__WEBPACK_IMPORTED_MODULE_4__","_reducer_dialog__WEBPACK_IMPORTED_MODULE_6__","_reducer_editor__WEBPACK_IMPORTED_MODULE_7__","_reducer_files__WEBPACK_IMPORTED_MODULE_9__","_reducer_explorer__WEBPACK_IMPORTED_MODULE_8__","_reducer_chat__WEBPACK_IMPORTED_MODULE_5__","_reducer_navBar__WEBPACK_IMPORTED_MODULE_11__","_reducer_presentation__WEBPACK_IMPORTED_MODULE_12__","_reducer_server__WEBPACK_IMPORTED_MODULE_13__","_reducer_luisAuthReducer__WEBPACK_IMPORTED_MODULE_10__","redux_promise_middleware__WEBPACK_IMPORTED_MODULE_1__","redux_thunk__WEBPACK_IMPORTED_MODULE_3___default","_sagas__WEBPACK_IMPORTED_MODULE_14__","saga","run","Extension","_config","_unid","_ext","_bfemulator_sdk_shared__WEBPACK_IMPORTED_MODULE_0__","_ipc__WEBPACK_IMPORTED_MODULE_1__","unid","obj","inspector","client","inspectors","InspectorAPI","canInspect","extension","commandName","criterias","criteria","jsonpath__WEBPACK_IMPORTED_MODULE_3__","startsWith","regex","test","ret","summaryTexts","summaryText","results","ExtensionManager","removeExtension","ext","getExtensions","defaultToJson","inspectorForObject","jsonExtension","findExtension","_commands__WEBPACK_IMPORTED_MODULE_2__","addExtension","Electron","shell","navigate","parsed","url__WEBPACK_IMPORTED_MODULE_2__","protocol","navigateEmulatedOAuthUrl","navigateOAuthUrl","openExternal","activate","oauthParam","_interceptError__WEBPACK_IMPORTED_MODULE_3__","_interceptHyperlink__WEBPACK_IMPORTED_MODULE_4__","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_7__","init","_platform_settings_settingsService__WEBPACK_IMPORTED_MODULE_8__","_platform_log_logService__WEBPACK_IMPORTED_MODULE_9__","_commands__WEBPACK_IMPORTED_MODULE_11__","react_dom__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_0__","_data_store__WEBPACK_IMPORTED_MODULE_6__","_ui_shell_main__WEBPACK_IMPORTED_MODULE_5__","getElementById","_data_editorHelpers__WEBPACK_IMPORTED_MODULE_10__","interceptError","lineno","colno","interceptHyperlink","addEventListener","href","preventDefault","_hyperlinkHandler__WEBPACK_IMPORTED_MODULE_0__","parentNode","ElectronIPC","super","ipcRenderer","sender","channelName","channel","getChannel","onMessage","registerChannel","CommandService","registry","_service","_ipc__WEBPACK_IMPORTED_MODULE_2__","_commands__WEBPACK_IMPORTED_MODULE_1__","toDispose","handler","_commands__WEBPACK_IMPORTED_MODULE_3__","LogService","logToChat","_data_chatHelpers__WEBPACK_IMPORTED_MODULE_4__","logToDocument","_data_store__WEBPACK_IMPORTED_MODULE_2__","_data_action_chatActions__WEBPACK_IMPORTED_MODULE_1__","settings","SettingsService","emulator","cwd","EmulatorSettings","_url","_cwd","cwdAsBase","base","_emulator","CSS","glamor__WEBPACK_IMPORTED_MODULE_2__","position","maxWidth","display","flexFlow","bottom","left","opacity","pointerEvents","& pre","maxHeight","overflowY","& select","width","& select, & option","& .visualizer-button","StoreVisualizer","react__WEBPACK_IMPORTED_MODULE_0__","toggleShowing","onSelectSlice","selectedSlice","setState","prettyState","rootState","onChange","_bfemulator_ui_react__WEBPACK_IMPORTED_MODULE_3__","className","onClick","mapStateToProps","react_redux__WEBPACK_IMPORTED_MODULE_1__","backgroundColor","_bfemulator_ui_react__WEBPACK_IMPORTED_MODULE_1__","DIALOG_BACKGROUND_DARK","padding","& .multi-input-row > *","marginLeft","& .multi-input-row > *:first-child","& .button-row","marginTop","& .bot-create-header","color","DIALOG_FOREGROUND_DARK","marginBottom","& .secret-checkbox","paddingBottom","& .bot-creation-input","border","DIALOG_INPUT_BORDER_DARK","& .text-input-label, & input","INPUT_TEXT_DARK","& input::placeholder","INPUT_PLACEHOLDER_TEXT_DARK","& .bot-creation-cta","minWidth","whiteSpace","textOverflow","overflow","textDecoration","APP_HYPERLINK_FOREGROUND_DARK","flexShrink",":hover","& .small-input","& .secret-row","paddingLeft","& > .secret-input","BotCreationDialog","react__WEBPACK_IMPORTED_MODULE_5__","onChangeEndpoint","onChangeAppId","onChangeAppPw","appPassword","onChangeName","onChangeBotLocation","onCancel","_service__WEBPACK_IMPORTED_MODULE_8__","hideDialog","onToggleSecret","secretEnabled","onSaveAndConnect","showBotSaveDialog","performCreate","fromJSON","description","services","_helpers_activeBotHelper__WEBPACK_IMPORTED_MODULE_7__","dialogOptions","defaultPath","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_6__","showsTagField","onChangeSecret","secretsMatch","secretConfirmation","onChangeSecretConfirmation","secretKey","msbot_bin_models__WEBPACK_IMPORTED_MODULE_3__","msbot_bin_schema__WEBPACK_IMPORTED_MODULE_4__","secretCriteria","requiredFieldsCompleted","inputClass","required","placeholder","checked","justify","Right","secondary","disabled","glamor__WEBPACK_IMPORTED_MODULE_0__","right","alignItems","justifyContent","& .dialog-host-content","height","boxShadow","&.dialog-host-visible","DialogHost","handleOverlayClick","stopPropagation","_service__WEBPACK_IMPORTED_MODULE_3__","handleContentClick","saveHostRef","elem","setHost","visibilityClass","ref","react_redux__WEBPACK_IMPORTED_MODULE_2__","glamor__WEBPACK_IMPORTED_MODULE_1__","_bfemulator_ui_react__WEBPACK_IMPORTED_MODULE_2__","EDITOR_TAB_BACKGROUND_DARK","& > .save-button","SecretPromptDialog","onClickDismiss","_service_index__WEBPACK_IMPORTED_MODULE_3__","onClickSave","DialogService","_hostElement","reactElement","_data_store__WEBPACK_IMPORTED_MODULE_4__","react_dom__WEBPACK_IMPORTED_MODULE_1__","_data_action_dialogActions__WEBPACK_IMPORTED_MODULE_3__","_dialogReturnValue","_resolve","dialogReturnValue","hostElement","& > ul","margin","listStyle","_bfemulator_ui_react__WEBPACK_IMPORTED_MODULE_4__","EDITOR_TAB_INACTIVE_BACKGROUND_DARK","EDITOR_TAB_INACTIVE_FOREGROUND_DARK","& > ul > li","textAlign","&:focus","outline","& > ul > .selected-tab","EDITOR_TAB_HOVER_FOREGROUND_DARK","TabManager","react__WEBPACK_IMPORTED_MODULE_0___default","onKeyDown","onKeyUp","saveTabRef","controlIsPressed","selectedIndex","shiftIsPressed","tabRefs","removeEventListener","element","moveIndexUp","moveIndexDown","focus","tabClassName","tabIndex","propTypes","prop_types__WEBPACK_IMPORTED_MODULE_3___default","bool","isRequired","defaultProps","ownProps","& .right-column","& p","& a","& .browse-button, & .save-button","& .size-limit-suffix","lineHeight","& .checkboxOverrides","defaultAppSettings","bypassNgrokLocalhost","localhost","ngrokPath","stateSizeLimit","use10Tokens","useCodeValidation","shallowEqual","every","AppSettingsEditor","onClickBrowse","onChangeSizeLimit","onChangeNgrok","onChangeNgrokBypass","onChangeAuthTokenVersion","onChangeUseValidationToken","_utils_debounce__WEBPACK_IMPORTED_MODULE_9__","onClickDiscard","onChangeLocalhost","onChangeLocale","committed","uncommitted","nextUncommitted","clean","nextClean","setUncommittedState","commit","_data_action_editorActions__WEBPACK_IMPORTED_MODULE_4__","_data_editorHelpers__WEBPACK_IMPORTED_MODULE_7__","_constants__WEBPACK_IMPORTED_MODULE_5__","_layout__WEBPACK_IMPORTED_MODULE_8__","style","align","Center","readOnly","glamor__WEBPACK_IMPORTED_MODULE_3__","& .bot-settings-header","& .browse-path-button","alignSelf","& .save-button","& .save-connect-button","& .multiple-input-row","& > div","& > div:first-child","& .locale-input","getFirstBotEndpointOrDefault","service","BotSettingsEditor","onSave","botName","botInfo","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_10__","newProps","newBotPath","newBotInfo","_data_store__WEBPACK_IMPORTED_MODULE_9__","_data_action_editorActions__WEBPACK_IMPORTED_MODULE_7__","_layout__WEBPACK_IMPORTED_MODULE_11__","react_redux__WEBPACK_IMPORTED_MODULE_6__","flexDirection","& > header","SECTION_HEADER_BACKGROUND_DARK","SECTION_HEADER_FOREGROUND_DARK","minHeight","textTransform","userSelect","ChatPanel","botUrl","_parts_chat__WEBPACK_IMPORTED_MODULE_2__","onStartConversation","& .accessories","& .accessory-button","_bfemulator_ui_react__WEBPACK_IMPORTED_MODULE_7__","TOOLBAR_BUTTON_FOREGROUND_DARK","TOOLBAR_BUTTON_BACKGROUND_DARK","& .accessory-button-icon","& .accessory-button:disabled","cursor","TOOLBAR_BUTTON_DISABLED_FOREGROUND_DARK","& .accessory-button:active","TOOLBAR_BUTTON_ACTIVE_FOREGROUND_DARK","DetailPanel","onAccessoryClick","detailRef","accessoryClick","onToggleDevToolsClick","toggleDevTools","enableAccessory","button","setAccessoryState","states","setInspectortitle","inspectObj","_extensions__WEBPACK_IMPORTED_MODULE_5__","prevProps","prevState","prevContext","getInsp","getInspector","accessories","accessoryState","icon","office_ui_fabric_react_lib_Spinner__WEBPACK_IMPORTED_MODULE_6__","size","xSmall","currentState","renderAccessoryIcon","_panel__WEBPACK_IMPORTED_MODULE_4__","renderAccessoryButton","renderAccessoryButtons","_parts_detail__WEBPACK_IMPORTED_MODULE_3__","setInspectorTitle","encode","base64url__WEBPACK_IMPORTED_MODULE_3___default","glamor__WEBPACK_IMPORTED_MODULE_4__","flex","& .vertical","& .header","flexGrow","flexBasis","& .content","PRESENTATION_CSS","APP_BACKGROUND_DARK","& .chat-panel","transform","& > .presentation-content","& > .close-presentation-icon","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","& .presentation-playback-dock","Emulator","getVerticalSplitterSizes","0","getHorizontalSplitterSizes","onVerticalSizeChange","_utils_debounce__WEBPACK_IMPORTED_MODULE_19__","sizes","onHorizontalSizeChange","handlePresentationClick","enablePresentationMode","handleStartOverClick","startNewConversation","handleExportClick","shouldStartNewConversation","nextProps","nextContext","subscription","unsubscribe","selectedActivity$","rxjs__WEBPACK_IMPORTED_MODULE_7__","subscribe","activity","_data_botHelpers__WEBPACK_IMPORTED_MODULE_11__","conversationMode","end","initConversation","conversation","deepLink","activities","fileInfo","fileName","encodedOptions","domain","_platform_settings_settingsService__WEBPACK_IMPORTED_MODULE_13__","webSocket","presentationModeEnabled","renderPresentationView","renderDefaultView","_chatPanel__WEBPACK_IMPORTED_MODULE_15__","_playbackBar__WEBPACK_IMPORTED_MODULE_18__","_toolbar__WEBPACK_IMPORTED_MODULE_14__","visible","orientation","primaryPaneIndex","minSizes","1","initialSizes","onSizeChange","_detailPanel__WEBPACK_IMPORTED_MODULE_16__","_logPanel__WEBPACK_IMPORTED_MODULE_17__","mapDispatchToProps","_data_action_chatActions__WEBPACK_IMPORTED_MODULE_8__","_data_action_presentationActions__WEBPACK_IMPORTED_MODULE_10__","objects","updatedValues","_data_action_editorActions__WEBPACK_IMPORTED_MODULE_9__","LogPanel","_panel__WEBPACK_IMPORTED_MODULE_3__","_parts_log__WEBPACK_IMPORTED_MODULE_2__","CognitiveServices","AdaptiveCardsHostConfig","& .wc-chatview-panel","&::-webkit-scrollbar-thumb","& h1, & h2, & h3, & h4","& br","content","fontSize","& ol, & ul","& .wc-message-content *","& .wc-message-content.selected","WEBCHAT_SELECTED_BACKGROUND_DARK","& .wc-message-content.selected>svg.wc-message-callout>path","fill","& .wc-card","& .wc-card button","borderRadius","transition","& .wc-list ul","& .clickable:hover","DISCONNECTED_CSS","flexAlign","& .start-button","Chat","react__WEBPACK_IMPORTED_MODULE_3__","getEndpoint","adaptiveCardsHostConfig","user","formatOptions","showHeader","speechOptions","speechRecognizer","fetchSpeechTokenOnExpiry","speechSynthesizer","BrowserSpeechSynthesizer","selectedActivity","botConnection","showShell","authIdEvent","getSpeechToken","refresh","command","speechToken","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_5__","access_Token","error_Description","fontFamily","FONT_FAMILY_MONOSPACE","wordWrap","boxSizing","Detail","inspectorRef","_inspector__WEBPACK_IMPORTED_MODULE_3__","crypto","Inspector","react__WEBPACK_IMPORTED_MODULE_2__","domReadyEventHandler","botUpdated","_data_botHelpers__WEBPACK_IMPORTED_MODULE_3__","inspect","ipcMessageEventHandler","titleOverride","inspectorName","_platform_log_logService__WEBPACK_IMPORTED_MODULE_5__","updateRef","botHash","hash","md5","createHash","digest","sendToInspector","_extensions__WEBPACK_IMPORTED_MODULE_4__","webpreferences","partition","preload","& > .entry","& > .source","LOG_PANEL_SOURCE_DARK","& .timestamp","LOG_PANEL_TIMESTAMP_DARK","& .src-dst","LOG_PANEL_SRC_DST_DARK","LOG_PANEL_LINK_DARK","& .level-0","LOG_PANEL_INFO_DARK","& .level-1","LOG_PANEL_DEBUG_DARK","& .level-2","LOG_PANEL_WARN_DARK","& .level-3","LOG_PANEL_ERROR_DARK","& .spaced","& .spaced:first-child","number2","timestamp","getHours","getMinutes","getSeconds","logLevelToClassName","_bfemulator_app_shared__WEBPACK_IMPORTED_MODULE_6__","Warn","Log","scrollMe","scrollTop","scrollHeight","LogEntry","_data_store__WEBPACK_IMPORTED_MODULE_3__","_data_action_chatActions__WEBPACK_IMPORTED_MODULE_2__","renderTimestamp","items","renderItem","renderTextItem","hyperlink","renderExternalLinkItem","renderAppSettingsItem","renderExceptionItem","renderInspectableItem","facility","renderNetworkRequestItem","statusMessage","srcUrl","renderNetworkResponseItem","inspectAndHighlight","inspResult","& > span","& .play-icon","BackgroundPosition","PlaybackBar","onClickStartOver","onClickStepBack","onClickStepForward","onClickJumpToEnd","onClickPlay","onClickPause","playing","EditorFactory","react__WEBPACK_IMPORTED_MODULE_1___default","_emulator__WEBPACK_IMPORTED_MODULE_5__","_botSettingsEditor__WEBPACK_IMPORTED_MODULE_4__","_appSettingsEditor__WEBPACK_IMPORTED_MODULE_3__","_welcomePage__WEBPACK_IMPORTED_MODULE_6__","prop_types__WEBPACK_IMPORTED_MODULE_0___default","shape","string","any","& > .header","& > .accessories","& > button","& > .body","PANEL_BACKGROUND_DARK","PANEL_FOREGROUND_DARK","Panel","PanelControls","PanelContent","TOOLBAR_BACKGROUND_DARK","listStyleType","& > li","& > .button > button","TOOLBAR_BUTTON_HOVER_BACKGROUND_DARK","TOOLBAR_BUTTON_HOVER_FOREGROUND_DARK","TOOLBAR_BUTTON_HOVER_TEXTDECORATION","& > .separator","ToolBar","createClass","Button","Separator","& .section","& .well","background","&:hover","SCROLLBAR_THUMB_BACKGROUND_DARK","& .no-bots","fontStyle","& .recent-bots-list","overflowX","& .recent-bot-detail","APP_HYPERLINK_DETAIL_DARK","& ul","& .open-bot","& .primary-button-text","& .cta-link","WelcomePage","onNewBotClick","onOpenBotClick","onBotClick","_layout__WEBPACK_IMPORTED_MODULE_6__","react_redux__WEBPACK_IMPORTED_MODULE_3__","react_hot_loader__WEBPACK_IMPORTED_MODULE_0__","ActiveBotHelper","_data_editorHelpers__WEBPACK_IMPORTED_MODULE_2__","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_3__","_data_store__WEBPACK_IMPORTED_MODULE_11__","_data_action_botActions__WEBPACK_IMPORTED_MODULE_5__","_data_action_fileActions__WEBPACK_IMPORTED_MODULE_9__","botToCreate","confirmSwitchBot","msbot_bin_schema__WEBPACK_IMPORTED_MODULE_1__","_data_action_navBarActions__WEBPACK_IMPORTED_MODULE_10__","_constants__WEBPACK_IMPORTED_MODULE_6__","_data_action_explorerActions__WEBPACK_IMPORTED_MODULE_8__","browseForBotFile","_data_botHelpers__WEBPACK_IMPORTED_MODULE_4__","botAlreadyOpen","confirmCloseBot","closeActiveBot","& > .generic-doc-content","GenericDocument","_genericDocument__WEBPACK_IMPORTED_MODULE_0__","&.explorer-offscreen","IAssetExplorerBarProps","AssetExplorerBar","onClickSettings","_data_botHelpers__WEBPACK_IMPORTED_MODULE_7__","hidden","_explorerBarHeader__WEBPACK_IMPORTED_MODULE_5__","_explorerBarBody__WEBPACK_IMPORTED_MODULE_4__","_endpointExplorer__WEBPACK_IMPORTED_MODULE_3__","_transcriptExplorer__WEBPACK_IMPORTED_MODULE_6__","_botNotOpenExplorer__WEBPACK_IMPORTED_MODULE_8__","detailedDescription","modalCssOverrides","AzureBotServiceEditor","onCancelClick","cancel","onSubmitClick","updateAzureBotService","onInputChange","currentTarget","trimmedValue","originalAzureBotService","propName","getAttribute","errorMessage","isDirty","reduce","msbot_bin_models__WEBPACK_IMPORTED_MODULE_1__","idError","nameError","tenantIdError","subscriptionIdError","resourceGroupError","valid","_bfemulator_ui_react__WEBPACK_IMPORTED_MODULE_0__","cssOverrides","inputAttributes","data-propname","updatedAzureBotService","_dialogs_service__WEBPACK_IMPORTED_MODULE_1__","AzureBotServiceEditorContainer","_azureBotServiceEditor__WEBPACK_IMPORTED_MODULE_2__","_azureBotServiceEditorContainer__WEBPACK_IMPORTED_MODULE_0__","AzureBotServiceExplorer","_servicePane__WEBPACK_IMPORTED_MODULE_1__","onLinkClick","dataset","azureBotServiceService","azureBotServices","onAddIconClick","links","li","onContextMenuOverLiElement","openContextMenu","azureBotServiceEditor","_data_action_azureBotServiceActions__WEBPACK_IMPORTED_MODULE_2__","AzureBotServiceExplorerContainer","_azureBotServiceExplorer__WEBPACK_IMPORTED_MODULE_3__","_azureBotServiceExplorerContainer__WEBPACK_IMPORTED_MODULE_0__","EXPLORER_BACKGROUND_DARK","EXPLORER_FOREGROUND_DARK","& .explorer-empty-state","BotNotOpenExplorer","react__WEBPACK_IMPORTED_MODULE_2___default","onOpenBot","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_4__","DispatchEditor","updateDispatchService","originalDispatchService","appIdError","authoringKeyError","versionError","subscriptionKeyError","updatedDispatchService","DispatchEditorContainer","_dispatchEditor__WEBPACK_IMPORTED_MODULE_2__","_dispatchEditorContainer__WEBPACK_IMPORTED_MODULE_0__","DispatchExplorer","dispatchServices","dispatchEditor","_data_action_dispatchServiceActions__WEBPACK_IMPORTED_MODULE_2__","DispatchExplorerContainer","_dispatchExplorer__WEBPACK_IMPORTED_MODULE_3__","_dispatchExplorerContainer__WEBPACK_IMPORTED_MODULE_0__","EndpointEditor","updateEndpointService","originalEndpointService","endpointError","appPasswordError","updatedEndpointService","EndpointEditorContainer","_endpointEditor__WEBPACK_IMPORTED_MODULE_2__","_endpointEditorContainer__WEBPACK_IMPORTED_MODULE_0__","EndpointExplorer","_servicePane__WEBPACK_IMPORTED_MODULE_2__","endpointServices","_endpointEditor__WEBPACK_IMPORTED_MODULE_3__","msbot_bin_models__WEBPACK_IMPORTED_MODULE_0__","endpointEditor","_data_action_endpointServiceActions__WEBPACK_IMPORTED_MODULE_2__","EndpointExplorerContainer","_endpointExplorerContainer__WEBPACK_IMPORTED_MODULE_0__","ExplorerBarBody","_explorerSet__WEBPACK_IMPORTED_MODULE_1__","& > span.accessory","& > span.bot-settings-icon","ExplorerBarHeader","Title","Accessories","EXPLORER_ITEM_HOVER_BACKGROUND_DARK","&.active-explorer-item","EXPLORER_ITEM_ACTIVE_BACKGROUND_DARK","&:before","C5","paddingRight","&:last-child","ExplorerItem","ExplorerSet","EXPLORER_CSS","& .empty-list","_bfemulator_ui_react__WEBPACK_IMPORTED_MODULE_5__","ExplorerBar","_assetExplorerBar__WEBPACK_IMPORTED_MODULE_3__","selectedNavTab","_servicesExplorerBar__WEBPACK_IMPORTED_MODULE_4__","_luisExplorerContainer__WEBPACK_IMPORTED_MODULE_0__","_luisEditorContainer__WEBPACK_IMPORTED_MODULE_0__","LuisEditor","updateLuisService","originalLuisService","updatedLuisService","LuisEditorContainer","_luisEditor__WEBPACK_IMPORTED_MODULE_2__","LuisExplorer","luisServices","_luisEditor__WEBPACK_IMPORTED_MODULE_3__","luisEditor","_data_action_luisServiceActions__WEBPACK_IMPORTED_MODULE_2__","LuisExplorerContainer","_luisExplorer__WEBPACK_IMPORTED_MODULE_3__","_qnaMakerExplorerContainer__WEBPACK_IMPORTED_MODULE_0__","_qnaMakerEditorContainer__WEBPACK_IMPORTED_MODULE_0__","QnaMakerEditor","updateQnaMakerService","originalQnaMakerService","kbIdError","endpointKeyError","hostnameError","hostname","endpointKey","updatedQnaMakerService","QnaMakerEditorContainer","_qnaMakerEditor__WEBPACK_IMPORTED_MODULE_2__","QnaMakerExplorer","qnaMakerServices","_qnaMakerEditor__WEBPACK_IMPORTED_MODULE_3__","qnaMakerEditor","_data_action_qnaMakerServiceActions__WEBPACK_IMPORTED_MODULE_2__","QnaMakerExplorerContainer","_qnaMakerExplorer__WEBPACK_IMPORTED_MODULE_3__","ServicePane","onContextMenu","listRef","tagName","parentElement","contains","controls","componentCss","xmlns","viewBox","listCss","emptyContent","ul","emptyContentCss","& .addIconButton","> svg","C14","> li","&[data-selected]","C12","& span","&::before","_listRef","setAttributeNode","deselectLiElement","removeAttribute","_servicesExplorerBarContainer__WEBPACK_IMPORTED_MODULE_0__","activeBotExists","ServicesExplorerBarContainer","_servicesExporerBar__WEBPACK_IMPORTED_MODULE_1__","ServicesExplorerBar","explorerBodyChildren","_azureBotServiceExplorer__WEBPACK_IMPORTED_MODULE_6__","_dispatchExplorer__WEBPACK_IMPORTED_MODULE_4__","_qnaMakerExplorer__WEBPACK_IMPORTED_MODULE_5__","_explorerBarHeader__WEBPACK_IMPORTED_MODULE_2__","_explorerBarBody__WEBPACK_IMPORTED_MODULE_1__","FileTreeDataProvider","_tree","container","node","tree","_selected","iconDefinition","_fuselab_ui_fabric_lib_themes__WEBPACK_IMPORTED_MODULE_0__","theme","_transcriptExplorer__WEBPACK_IMPORTED_MODULE_0__","CONVO_CSS","isTranscript","_fuselab_ui_shared_lib__WEBPACK_IMPORTED_MODULE_3__","_TranscriptExplorer","onItemClick","handleItemClick","_platform_commands_commandService__WEBPACK_IMPORTED_MODULE_8__","provider","_fileTreeProvider__WEBPACK_IMPORTED_MODULE_9__","loadContainer","insertAt","selectNode","selectedData","getStyle","compact","readonly","hideRoot","_fuselab_ui_fabric_lib__WEBPACK_IMPORTED_MODULE_4__","_explorerItem__WEBPACK_IMPORTED_MODULE_6__","setiFont","_explorerStyle__WEBPACK_IMPORTED_MODULE_7__","renderFileTree","__decorate","__metadata","TranscriptExplorer","global","FONT_FAMILY_DEFAULT","SCROLLBAR_TRACK_BACKGROUND_DARK","APP_FOREGROUND_DARK","NAV_CSS","& > .workbench","& .mdi-wrapper","& .secondary-mdi","borderLeft","C3","Main","handleTabChange","tabValue","exitPresentationMode","nextTabValue","primaryEditor","_mdi__WEBPACK_IMPORTED_MODULE_5__","owningEditor","_constants__WEBPACK_IMPORTED_MODULE_8__","secondaryEditor","tG","workbenchChildren","showingExplorer","_explorer__WEBPACK_IMPORTED_MODULE_4__","_navBar__WEBPACK_IMPORTED_MODULE_6__","_dialogs_tabManager__WEBPACK_IMPORTED_MODULE_7__","_statusBar__WEBPACK_IMPORTED_MODULE_9__","_dialogs_host__WEBPACK_IMPORTED_MODULE_10__","_debug_storeVisualizer__WEBPACK_IMPORTED_MODULE_11__","connectToProps","keyCode","_data_action_presentationActions__WEBPACK_IMPORTED_MODULE_12__","EmulatorTab","onCloseClick","_data_action_chatActions__WEBPACK_IMPORTED_MODULE_3__","_tab__WEBPACK_IMPORTED_MODULE_5__","botEndpoint","GenericTab","_data_action_editorActions__WEBPACK_IMPORTED_MODULE_3__","_data_editorHelpers__WEBPACK_IMPORTED_MODULE_5__","_tab__WEBPACK_IMPORTED_MODULE_4__","prop_types__WEBPACK_IMPORTED_MODULE_2___default","MDI","_multiTabs__WEBPACK_IMPORTED_MODULE_5__","_multiTabs_tabbedDocument__WEBPACK_IMPORTED_MODULE_7__","_tabFactory__WEBPACK_IMPORTED_MODULE_6__","_editor__WEBPACK_IMPORTED_MODULE_4__","truncateTextCss","Tab","onDragStart","onDragOver","onDragEnter","onDragLeave","onDrop","onDragEnd","_data_editorHelpers__WEBPACK_IMPORTED_MODULE_6__","dragData","dataTransfer","setData","draggedOver","tabData","getData","_tabStyle__WEBPACK_IMPORTED_MODULE_4__","draggable","_emulatorTab__WEBPACK_IMPORTED_MODULE_3__","_testBedTab__WEBPACK_IMPORTED_MODULE_4__","_genericTab__WEBPACK_IMPORTED_MODULE_2__","TAB_CSS","borderRight","EDITOR_TAB_BORDER_DARK","&.active-editor-tab","EDITOR_TAB_ACTIVE_BACKGROUND_DARK","EDITOR_TAB_ACTIVE_FOREGROUND_DARK","& > span.editor-tab-close","&.dragged-over-editor-tab","EDITOR_TAB_DRAGGED_OVER_BACKGROUND_DARK","& > span.editor-tab-icon","marginRight","&:after","C2","TestBedTab","_data_action_editorActions__WEBPACK_IMPORTED_MODULE_2__","_data_editorHelpers__WEBPACK_IMPORTED_MODULE_4__","_genericTab__WEBPACK_IMPORTED_MODULE_3__","MultiTabs","handleTabClick","setRef","childRefs","nextValue","_tabBar__WEBPACK_IMPORTED_MODULE_4__","tabbedDocument","_tabBarTab__WEBPACK_IMPORTED_MODULE_5__","_tabbedDocument__WEBPACK_IMPORTED_MODULE_6__","toArray","prop_types__WEBPACK_IMPORTED_MODULE_1___default","func","number","&.dragged-over-tab-bar","zIndex","&::-webkit-scrollbar","&::-webkit-scrollbar-track","& > div.tab-bar-widgets","&:first-of-type","& > .widget","& > .split-widget","& > .presentation-widget","TabBar","onPresentationModeClick","_data_action_presentationActions__WEBPACK_IMPORTED_MODULE_8__","onSplitClick","saveScrollable","docIdToSplit","docToSplit","_scrollable","scrollable","scrollWidth","clientWidth","leftOffset","offsetWidth","scrollLeft","splitEnabled","activeDoc","presentationEnabled","tabBarClassName","oneOf","&:active","_overlayStyle__WEBPACK_IMPORTED_MODULE_4__","ContentOverlay","newDocumentId","overlayClassName","onDragEnterCapture","onDragOverCapture","onDropCapture","TabbedDocumentContentWrapper","splittingEnabled","onClickCapture","_contentOverlay__WEBPACK_IMPORTED_MODULE_6__","Fragment","_leftContentOverlay__WEBPACK_IMPORTED_MODULE_7__","_rightContentOverlay__WEBPACK_IMPORTED_MODULE_8__","_constants__WEBPACK_IMPORTED_MODULE_9__","TabbedDocument","Content","_contentWrapper__WEBPACK_IMPORTED_MODULE_2__","OVERLAY_CSS","EDITOR_DRAG_OVERLAY_TRANSPARENT_DARK","&.dragged-over-overlay","EDITOR_DRAG_OVERLAY_VISIBLE_DARK","&.enabled-for-drop","RightContentOverlay","NAVBAR_BACKGROUND_DARK","&.app > div","& > div.selected","& > ul > li > div","& > ul.app","& > li.app > div","& > li.bot-explorer > div","& > li.assets > div","& > li.services > div","& > li.analytics > div","& > ul.sys","& > li.settings > div","& > li.notifications > div","& > li.user > div","NavBar","react__WEBPACK_IMPORTED_MODULE_3___default","handleFilesClick","handleClick","handleServicesClick","handleSettingsClick","explorerShowing","_data_action_navBarActions__WEBPACK_IMPORTED_MODULE_6__","role","classnames__WEBPACK_IMPORTED_MODULE_2___default","STATUS_BAR_BACKGROUND_DARK","STATUS_BAR_FOREGROUND_DARK","debounce","closure","lastTick","shared_5e358c4ce1c49d05e044","vendors_f50214d7a018df6e22eb"],"mappings":"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","file":"index.js","sourcesContent":[" \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = window[\"webpackHotUpdate\"];\n \twindow[\"webpackHotUpdate\"] = // eslint-disable-next-line no-unused-vars\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) {\n \t\thotAddUpdateChunk(chunkId, moreModules);\n \t\tif (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\n \t} ;\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\tvar script = document.createElement(\"script\");\n \t\tscript.charset = \"utf-8\";\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\n \t\t;\n \t\thead.appendChild(script);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest(requestTimeout) {\n \t\trequestTimeout = requestTimeout || 10000;\n \t\treturn new Promise(function(resolve, reject) {\n \t\t\tif (typeof XMLHttpRequest === \"undefined\")\n \t\t\t\treturn reject(new Error(\"No browser support\"));\n \t\t\ttry {\n \t\t\t\tvar request = new XMLHttpRequest();\n \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\n \t\t\t\trequest.open(\"GET\", requestPath, true);\n \t\t\t\trequest.timeout = requestTimeout;\n \t\t\t\trequest.send(null);\n \t\t\t} catch (err) {\n \t\t\t\treturn reject(err);\n \t\t\t}\n \t\t\trequest.onreadystatechange = function() {\n \t\t\t\tif (request.readyState !== 4) return;\n \t\t\t\tif (request.status === 0) {\n \t\t\t\t\t// timeout\n \t\t\t\t\treject(\n \t\t\t\t\t\tnew Error(\"Manifest request to \" + requestPath + \" timed out.\")\n \t\t\t\t\t);\n \t\t\t\t} else if (request.status === 404) {\n \t\t\t\t\t// no update available\n \t\t\t\t\tresolve();\n \t\t\t\t} else if (request.status !== 200 && request.status !== 304) {\n \t\t\t\t\t// other failure\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\n \t\t\t\t} else {\n \t\t\t\t\t// success\n \t\t\t\t\ttry {\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\n \t\t\t\t\t} catch (e) {\n \t\t\t\t\t\treject(e);\n \t\t\t\t\t\treturn;\n \t\t\t\t\t}\n \t\t\t\t\tresolve(update);\n \t\t\t\t}\n \t\t\t};\n \t\t});\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \tvar hotCurrentHash = \"d933497cd9c5d1c656e0\"; // eslint-disable-line no-unused-vars\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule; // eslint-disable-line no-unused-vars\n \tvar hotCurrentParents = []; // eslint-disable-line no-unused-vars\n \tvar hotCurrentParentsTemp = []; // eslint-disable-line no-unused-vars\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1)\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) me.children.push(request);\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (typeof dep === \"undefined\") hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (typeof dep === \"undefined\") hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\")\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(\"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tvar chunkId = 0;\n \t\t\t{\n \t\t\t\t// eslint-disable-line no-lone-blocks\n \t\t\t\t/*globals chunkId */\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.slice().map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (!module || module.hot._selfAccepted) continue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted\n \t\t\t)\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Not in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\thotCurrentHash = hotUpdateNewHash;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = [moduleId];\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:3000/\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(\"./src/index.tsx\")(__webpack_require__.s = \"./src/index.tsx\");\n","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/@fuselab/ui-fabric/lib/index.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/@fuselab/ui-fabric/lib/themes/index.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/@fuselab/ui-shared/lib/index.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/@fuselab/ui-shared/lib/path.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/base64url/index.js\");","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../../node_modules/glamor/lib/index.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/jsonpath/index.js\");","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../../node_modules/msbot/bin/models/index.js\");","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../../node_modules/msbot/bin/schema.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/office-ui-fabric-react/lib/Spinner.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/process/browser.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/prop-types/index.js\");","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../../node_modules/react-dom/index.js\");","\"use strict\";function _interopDefault(e){return e&&\"object\"==typeof e&&\"default\"in e?e.default:e}Object.defineProperty(exports,\"__esModule\",{value:!0});var React=_interopDefault(require(\"react\")),classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},inherits=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t},AppContainer=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,e.apply(this,arguments))}return inherits(t,e),t.prototype.render=function(){return React.Children.only(this.props.children)},t}(React.Component),hot_prod=function(){return function(e){return e}},areComponentsEqual=function(e,t){return e===t},setConfig=function(){};exports.AppContainer=AppContainer,exports.hot=hot_prod,exports.areComponentsEqual=areComponentsEqual,exports.setConfig=setConfig;\n","'use strict'\n\nif (!module.hot || process.env.NODE_ENV === 'production') {\n  module.exports = require('./dist/react-hot-loader.production.min.js');\n} else {\n  module.exports = require('./dist/react-hot-loader.development.js');\n}\n","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../../node_modules/react-redux/es/index.js\");","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../../node_modules/react/index.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/redux-promise-middleware/dist/es/index.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/redux-saga/es/effects.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/redux-saga/es/index.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/redux-thunk/lib/index.js\");","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../../node_modules/redux/es/index.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/rxjs/Rx.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/url/url.js\");","module.exports = (__webpack_require__(\"dll-reference vendors_f50214d7a018df6e22eb\"))(\"../../../node_modules/webpack/buildin/harmony-module.js\");","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"CognitiveServices\"] = factory();\n\telse\n\t\troot[\"CognitiveServices\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 58);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(31));\n__export(__webpack_require__(32));\n__export(__webpack_require__(10));\n__export(__webpack_require__(33));\n__export(__webpack_require__(1));\n__export(__webpack_require__(34));\n__export(__webpack_require__(11));\n__export(__webpack_require__(2));\n__export(__webpack_require__(35));\n__export(__webpack_require__(36));\n__export(__webpack_require__(37));\n__export(__webpack_require__(38));\n__export(__webpack_require__(39));\n__export(__webpack_require__(40));\n__export(__webpack_require__(41));\n__export(__webpack_require__(12));\n__export(__webpack_require__(42));\n__export(__webpack_require__(43));\n__export(__webpack_require__(13));\n__export(__webpack_require__(5));\n__export(__webpack_require__(14));\n__export(__webpack_require__(15));\n__export(__webpack_require__(44));\n__export(__webpack_require__(45));\n__export(__webpack_require__(46));\n__export(__webpack_require__(47));\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(3);\n/**\n * The error that is thrown when an argument passed in is null.\n *\n * @export\n * @class ArgumentNullError\n * @extends {Error}\n */\nvar ArgumentNullError = (function (_super) {\n    tslib_1.__extends(ArgumentNullError, _super);\n    /**\n     * Creates an instance of ArgumentNullError.\n     *\n     * @param {string} argumentName Name of the argument that is null\n     *\n     * @memberOf ArgumentNullError\n     */\n    function ArgumentNullError(argumentName) {\n        var _this = _super.call(this, argumentName) || this;\n        _this.name = \"ArgumentNull\";\n        _this.message = argumentName;\n        return _this;\n    }\n    return ArgumentNullError;\n}(Error));\nexports.ArgumentNullError = ArgumentNullError;\n/**\n * The error that is thrown when an invalid operation is performed in the code.\n *\n * @export\n * @class InvalidOperationError\n * @extends {Error}\n */\n// tslint:disable-next-line:max-classes-per-file\nvar InvalidOperationError = (function (_super) {\n    tslib_1.__extends(InvalidOperationError, _super);\n    /**\n     * Creates an instance of InvalidOperationError.\n     *\n     * @param {string} error The error\n     *\n     * @memberOf InvalidOperationError\n     */\n    function InvalidOperationError(error) {\n        var _this = _super.call(this, error) || this;\n        _this.name = \"InvalidOperation\";\n        _this.message = error;\n        return _this;\n    }\n    return InvalidOperationError;\n}(Error));\nexports.InvalidOperationError = InvalidOperationError;\n/**\n * The error that is thrown when an object is disposed.\n *\n * @export\n * @class ObjectDisposedError\n * @extends {Error}\n */\n// tslint:disable-next-line:max-classes-per-file\nvar ObjectDisposedError = (function (_super) {\n    tslib_1.__extends(ObjectDisposedError, _super);\n    /**\n     * Creates an instance of ObjectDisposedError.\n     *\n     * @param {string} objectName The object that is disposed\n     * @param {string} error The error\n     *\n     * @memberOf ObjectDisposedError\n     */\n    function ObjectDisposedError(objectName, error) {\n        var _this = _super.call(this, error) || this;\n        _this.name = objectName + \"ObjectDisposed\";\n        _this.message = error;\n        return _this;\n    }\n    return ObjectDisposedError;\n}(Error));\nexports.ObjectDisposedError = ObjectDisposedError;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CreateGuid = function () {\n    var d = new Date().getTime();\n    var guid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n    return guid;\n};\nexports.CreateGuid = CreateGuid;\nvar CreateNoDashGuid = function () {\n    return CreateGuid().replace(new RegExp(\"-\", \"g\"), \"\").toUpperCase();\n};\nexports.CreateNoDashGuid = CreateNoDashGuid;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (immutable) */ __webpack_exports__[\"__extends\"] = __extends;\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__assign\", function() { return __assign; });\n/* harmony export (immutable) */ __webpack_exports__[\"__rest\"] = __rest;\n/* harmony export (immutable) */ __webpack_exports__[\"__decorate\"] = __decorate;\n/* harmony export (immutable) */ __webpack_exports__[\"__param\"] = __param;\n/* harmony export (immutable) */ __webpack_exports__[\"__metadata\"] = __metadata;\n/* harmony export (immutable) */ __webpack_exports__[\"__awaiter\"] = __awaiter;\n/* harmony export (immutable) */ __webpack_exports__[\"__generator\"] = __generator;\n/* harmony export (immutable) */ __webpack_exports__[\"__exportStar\"] = __exportStar;\n/* harmony export (immutable) */ __webpack_exports__[\"__values\"] = __values;\n/* harmony export (immutable) */ __webpack_exports__[\"__read\"] = __read;\n/* harmony export (immutable) */ __webpack_exports__[\"__spread\"] = __spread;\n/* harmony export (immutable) */ __webpack_exports__[\"__await\"] = __await;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncGenerator\"] = __asyncGenerator;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncDelegator\"] = __asyncDelegator;\n/* harmony export (immutable) */ __webpack_exports__[\"__asyncValues\"] = __asyncValues;\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = Object.setPrototypeOf ||\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\nfunction __extends(d, b) {\n    extendStatics(d, b);\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n}\n\nfunction __rest(s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n}\n\nfunction __decorate(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nfunction __param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nfunction __metadata(metadataKey, metadataValue) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator.throw(value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n}\n\nfunction __generator(thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n}\n\nfunction __exportStar(m, exports) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\n\nfunction __values(o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n}\n\nfunction __read(o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n}\n\nfunction __spread() {\n    for (var ar = [], i = 0; i < arguments.length; i++)\n        ar = ar.concat(__read(arguments[i]));\n    return ar;\n}\n\nfunction __await(v) {\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nfunction __asyncGenerator(thisArg, _arguments, generator) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\n    function fulfill(value) { resume(\"next\", value); }\n    function reject(value) { resume(\"throw\", value); }\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nfunction __asyncDelegator(o) {\n    var i, p;\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\n}\n\nfunction __asyncValues(o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator];\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(22));\n__export(__webpack_require__(23));\n__export(__webpack_require__(24));\n__export(__webpack_require__(25));\n__export(__webpack_require__(26));\n__export(__webpack_require__(27));\n__export(__webpack_require__(28));\n__export(__webpack_require__(29));\n__export(__webpack_require__(30));\n__export(__webpack_require__(9));\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Guid_1 = __webpack_require__(2);\nvar EventType;\n(function (EventType) {\n    EventType[EventType[\"Debug\"] = 0] = \"Debug\";\n    EventType[EventType[\"Info\"] = 1] = \"Info\";\n    EventType[EventType[\"Warning\"] = 2] = \"Warning\";\n    EventType[EventType[\"Error\"] = 3] = \"Error\";\n})(EventType = exports.EventType || (exports.EventType = {}));\nvar PlatformEvent = (function () {\n    function PlatformEvent(eventType) {\n        this.eventId = Guid_1.CreateNoDashGuid();\n        this.eventTime = new Date().toISOString();\n        this.eventType = eventType;\n        this.metadata = {};\n    }\n    Object.defineProperty(PlatformEvent.prototype, \"EventId\", {\n        get: function () {\n            return this.eventId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PlatformEvent.prototype, \"EventTime\", {\n        get: function () {\n            return this.eventTime;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PlatformEvent.prototype, \"EventType\", {\n        get: function () {\n            return this.eventType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PlatformEvent.prototype, \"Metadata\", {\n        get: function () {\n            return this.metadata;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PlatformEvent;\n}());\nexports.PlatformEvent = PlatformEvent;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// IMPORTANT - Dont publish internal modules.\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(50));\n__export(__webpack_require__(51));\n__export(__webpack_require__(7));\n__export(__webpack_require__(52));\n__export(__webpack_require__(8));\n__export(__webpack_require__(53));\n__export(__webpack_require__(17));\n__export(__webpack_require__(56));\n__export(__webpack_require__(57));\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AuthInfo = (function () {\n    function AuthInfo(headerName, token) {\n        this.headerName = headerName;\n        this.token = token;\n    }\n    Object.defineProperty(AuthInfo.prototype, \"HeaderName\", {\n        get: function () {\n            return this.headerName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AuthInfo.prototype, \"Token\", {\n        get: function () {\n            return this.token;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AuthInfo;\n}());\nexports.AuthInfo = AuthInfo;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(3);\nvar Exports_1 = __webpack_require__(0);\nvar SpeechRecognitionEvent = (function (_super) {\n    tslib_1.__extends(SpeechRecognitionEvent, _super);\n    function SpeechRecognitionEvent(eventName, requestId, eventType) {\n        if (eventType === void 0) { eventType = Exports_1.EventType.Info; }\n        var _this = _super.call(this, eventType) || this;\n        _this.eventName = eventName;\n        _this.requestId = requestId;\n        return _this;\n    }\n    Object.defineProperty(SpeechRecognitionEvent.prototype, \"Name\", {\n        get: function () {\n            return this.eventName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechRecognitionEvent.prototype, \"RequestId\", {\n        get: function () {\n            return this.requestId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpeechRecognitionEvent;\n}(Exports_1.PlatformEvent));\nexports.SpeechRecognitionEvent = SpeechRecognitionEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechRecognitionResultEvent = (function (_super) {\n    tslib_1.__extends(SpeechRecognitionResultEvent, _super);\n    function SpeechRecognitionResultEvent(eventName, requestId, result) {\n        var _this = _super.call(this, eventName, requestId) || this;\n        _this.result = result;\n        return _this;\n    }\n    Object.defineProperty(SpeechRecognitionResultEvent.prototype, \"Result\", {\n        get: function () {\n            return this.result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpeechRecognitionResultEvent;\n}(SpeechRecognitionEvent));\nexports.SpeechRecognitionResultEvent = SpeechRecognitionResultEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar RecognitionTriggeredEvent = (function (_super) {\n    tslib_1.__extends(RecognitionTriggeredEvent, _super);\n    function RecognitionTriggeredEvent(requestId, audioSourceId, audioNodeId) {\n        var _this = _super.call(this, \"RecognitionTriggeredEvent\", requestId) || this;\n        _this.audioSourceId = audioSourceId;\n        _this.audioNodeId = audioNodeId;\n        return _this;\n    }\n    Object.defineProperty(RecognitionTriggeredEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionTriggeredEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecognitionTriggeredEvent;\n}(SpeechRecognitionEvent));\nexports.RecognitionTriggeredEvent = RecognitionTriggeredEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ListeningStartedEvent = (function (_super) {\n    tslib_1.__extends(ListeningStartedEvent, _super);\n    function ListeningStartedEvent(requestId, audioSourceId, audioNodeId) {\n        var _this = _super.call(this, \"ListeningStartedEvent\", requestId) || this;\n        _this.audioSourceId = audioSourceId;\n        _this.audioNodeId = audioNodeId;\n        return _this;\n    }\n    Object.defineProperty(ListeningStartedEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ListeningStartedEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ListeningStartedEvent;\n}(SpeechRecognitionEvent));\nexports.ListeningStartedEvent = ListeningStartedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectingToServiceEvent = (function (_super) {\n    tslib_1.__extends(ConnectingToServiceEvent, _super);\n    function ConnectingToServiceEvent(requestId, authFetchEventid, connectionId) {\n        var _this = _super.call(this, \"ConnectingToServiceEvent\", requestId) || this;\n        _this.authFetchEventid = authFetchEventid;\n        _this.connectionId = connectionId;\n        return _this;\n    }\n    Object.defineProperty(ConnectingToServiceEvent.prototype, \"AuthFetchEventid\", {\n        get: function () {\n            return this.authFetchEventid;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectingToServiceEvent.prototype, \"ConnectionId\", {\n        get: function () {\n            return this.connectionId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectingToServiceEvent;\n}(SpeechRecognitionEvent));\nexports.ConnectingToServiceEvent = ConnectingToServiceEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar RecognitionStartedEvent = (function (_super) {\n    tslib_1.__extends(RecognitionStartedEvent, _super);\n    function RecognitionStartedEvent(requestId, audioSourceId, audioNodeId, authFetchEventId, connectionId) {\n        var _this = _super.call(this, \"RecognitionStartedEvent\", requestId) || this;\n        _this.audioSourceId = audioSourceId;\n        _this.audioNodeId = audioNodeId;\n        _this.authFetchEventId = authFetchEventId;\n        _this.connectionId = connectionId;\n        return _this;\n    }\n    Object.defineProperty(RecognitionStartedEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionStartedEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionStartedEvent.prototype, \"AuthFetchEventId\", {\n        get: function () {\n            return this.authFetchEventId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionStartedEvent.prototype, \"ConnectionId\", {\n        get: function () {\n            return this.connectionId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecognitionStartedEvent;\n}(SpeechRecognitionEvent));\nexports.RecognitionStartedEvent = RecognitionStartedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechStartDetectedEvent = (function (_super) {\n    tslib_1.__extends(SpeechStartDetectedEvent, _super);\n    function SpeechStartDetectedEvent(requestId, result) {\n        return _super.call(this, \"SpeechStartDetectedEvent\", requestId, result) || this;\n    }\n    return SpeechStartDetectedEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechStartDetectedEvent = SpeechStartDetectedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechHypothesisEvent = (function (_super) {\n    tslib_1.__extends(SpeechHypothesisEvent, _super);\n    function SpeechHypothesisEvent(requestId, result) {\n        return _super.call(this, \"SpeechHypothesisEvent\", requestId, result) || this;\n    }\n    return SpeechHypothesisEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechHypothesisEvent = SpeechHypothesisEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechEndDetectedEvent = (function (_super) {\n    tslib_1.__extends(SpeechEndDetectedEvent, _super);\n    function SpeechEndDetectedEvent(requestId, result) {\n        return _super.call(this, \"SpeechEndDetectedEvent\", requestId, result) || this;\n    }\n    return SpeechEndDetectedEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechEndDetectedEvent = SpeechEndDetectedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechSimplePhraseEvent = (function (_super) {\n    tslib_1.__extends(SpeechSimplePhraseEvent, _super);\n    function SpeechSimplePhraseEvent(requestId, result) {\n        return _super.call(this, \"SpeechSimplePhraseEvent\", requestId, result) || this;\n    }\n    return SpeechSimplePhraseEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechSimplePhraseEvent = SpeechSimplePhraseEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechDetailedPhraseEvent = (function (_super) {\n    tslib_1.__extends(SpeechDetailedPhraseEvent, _super);\n    function SpeechDetailedPhraseEvent(requestId, result) {\n        return _super.call(this, \"SpeechDetailedPhraseEvent\", requestId, result) || this;\n    }\n    return SpeechDetailedPhraseEvent;\n}(SpeechRecognitionResultEvent));\nexports.SpeechDetailedPhraseEvent = SpeechDetailedPhraseEvent;\nvar RecognitionCompletionStatus;\n(function (RecognitionCompletionStatus) {\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"Success\"] = 0] = \"Success\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AudioSourceError\"] = 1] = \"AudioSourceError\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AudioSourceTimeout\"] = 2] = \"AudioSourceTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AuthTokenFetchError\"] = 3] = \"AuthTokenFetchError\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"AuthTokenFetchTimeout\"] = 4] = \"AuthTokenFetchTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"UnAuthorized\"] = 5] = \"UnAuthorized\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"ConnectTimeout\"] = 6] = \"ConnectTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"ConnectError\"] = 7] = \"ConnectError\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"ClientRecognitionActivityTimeout\"] = 8] = \"ClientRecognitionActivityTimeout\";\n    RecognitionCompletionStatus[RecognitionCompletionStatus[\"UnknownError\"] = 9] = \"UnknownError\";\n})(RecognitionCompletionStatus = exports.RecognitionCompletionStatus || (exports.RecognitionCompletionStatus = {}));\n// tslint:disable-next-line:max-classes-per-file\nvar RecognitionEndedEvent = (function (_super) {\n    tslib_1.__extends(RecognitionEndedEvent, _super);\n    function RecognitionEndedEvent(requestId, audioSourceId, audioNodeId, authFetchEventId, connectionId, serviceTag, status, error) {\n        var _this = _super.call(this, \"RecognitionEndedEvent\", requestId, status === RecognitionCompletionStatus.Success ? Exports_1.EventType.Info : Exports_1.EventType.Error) || this;\n        _this.audioSourceId = audioSourceId;\n        _this.audioNodeId = audioNodeId;\n        _this.connectionId = connectionId;\n        _this.authFetchEventId = authFetchEventId;\n        _this.serviceTag = serviceTag;\n        return _this;\n    }\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"AuthFetchEventId\", {\n        get: function () {\n            return this.authFetchEventId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"ConnectionId\", {\n        get: function () {\n            return this.connectionId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"ServiceTag\", {\n        get: function () {\n            return this.serviceTag;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"Status\", {\n        get: function () {\n            return this.status;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognitionEndedEvent.prototype, \"Error\", {\n        get: function () {\n            return this.error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecognitionEndedEvent;\n}(SpeechRecognitionEvent));\nexports.RecognitionEndedEvent = RecognitionEndedEvent;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar WebsocketMessageAdapter = (function () {\n    function WebsocketMessageAdapter(uri, connectionId, messageFormatter) {\n        var _this = this;\n        this.Open = function () {\n            if (_this.connectionState === Exports_1.ConnectionState.Disconnected) {\n                return Exports_1.PromiseHelper.FromError(\"Cannot open a connection that is in \" + _this.connectionState + \" state\");\n            }\n            if (_this.connectionEstablishDeferral) {\n                return _this.connectionEstablishDeferral.Promise();\n            }\n            _this.connectionEstablishDeferral = new Exports_1.Deferred();\n            _this.connectionState = Exports_1.ConnectionState.Connecting;\n            _this.websocketClient = new WebSocket(_this.uri);\n            _this.receivingMessageQueue = new Exports_1.Queue();\n            _this.disconnectDeferral = new Exports_1.Deferred();\n            _this.sendMessageQueue = new Exports_1.Queue();\n            _this.ProcessSendQueue();\n            _this.OnEvent(new Exports_1.ConnectionStartEvent(_this.connectionId, _this.uri));\n            _this.websocketClient.onopen = function (e) {\n                _this.connectionState = Exports_1.ConnectionState.Connected;\n                _this.OnEvent(new Exports_1.ConnectionEstablishedEvent(_this.connectionId));\n                _this.connectionEstablishDeferral.Resolve(new Exports_1.ConnectionOpenResponse(200, \"\"));\n            };\n            _this.websocketClient.onerror = function (e) {\n                // TODO: Understand what this is error is. Will we still get onClose ?\n                if (_this.connectionState !== Exports_1.ConnectionState.Connecting) {\n                    // TODO: Is this required ?\n                    // this.OnEvent(new ConnectionErrorEvent(errorMsg, connectionId));\n                }\n            };\n            _this.websocketClient.onclose = function (e) {\n                if (_this.connectionState === Exports_1.ConnectionState.Connecting) {\n                    _this.connectionState = Exports_1.ConnectionState.Disconnected;\n                    _this.OnEvent(new Exports_1.ConnectionEstablishErrorEvent(_this.connectionId, e.code, e.reason));\n                    _this.connectionEstablishDeferral.Resolve(new Exports_1.ConnectionOpenResponse(e.code, e.reason));\n                }\n                else {\n                    _this.OnEvent(new Exports_1.ConnectionClosedEvent(_this.connectionId, e.code, e.reason));\n                }\n                _this.OnClose(e.code, e.reason);\n            };\n            _this.websocketClient.onmessage = function (e) {\n                var networkReceivedTime = new Date().toISOString();\n                if (_this.connectionState === Exports_1.ConnectionState.Connected) {\n                    var deferred_1 = new Exports_1.Deferred();\n                    // let id = ++this.idCounter;\n                    _this.receivingMessageQueue.EnqueueFromPromise(deferred_1.Promise());\n                    if (e.data instanceof Blob) {\n                        var fileReader_1 = new FileReader();\n                        fileReader_1.onload = function (le) {\n                            var rawMessage = new Exports_1.RawWebsocketMessage(Exports_1.MessageType.Binary, fileReader_1.result);\n                            _this.messageFormatter\n                                .ToConnectionMessage(rawMessage)\n                                .On(function (connectionMessage) {\n                                _this.OnEvent(new Exports_1.ConnectionMessageReceivedEvent(_this.connectionId, networkReceivedTime, connectionMessage));\n                                deferred_1.Resolve(connectionMessage);\n                            }, function (error) {\n                                // TODO: Events for these ?\n                                deferred_1.Reject(\"Invalid binary message format. Error: \" + error);\n                            });\n                        };\n                        fileReader_1.onerror = function (ev) {\n                            // TODO: Events for these ?\n                            deferred_1.Reject(\"Binary message parse error\");\n                        };\n                        fileReader_1.readAsArrayBuffer(e.data);\n                    }\n                    else {\n                        var rawMessage = new Exports_1.RawWebsocketMessage(Exports_1.MessageType.Text, e.data);\n                        _this.messageFormatter\n                            .ToConnectionMessage(rawMessage)\n                            .On(function (connectionMessage) {\n                            _this.OnEvent(new Exports_1.ConnectionMessageReceivedEvent(_this.connectionId, networkReceivedTime, connectionMessage));\n                            deferred_1.Resolve(connectionMessage);\n                        }, function (error) {\n                            // TODO: Events for these ?\n                            deferred_1.Reject(\"Invalid text message format. Error: \" + error);\n                        });\n                    }\n                }\n            };\n            return _this.connectionEstablishDeferral.Promise();\n        };\n        this.Send = function (message) {\n            if (_this.connectionState !== Exports_1.ConnectionState.Connected) {\n                return Exports_1.PromiseHelper.FromError(\"Cannot send on connection that is in \" + _this.connectionState + \" state\");\n            }\n            var messageSendStatusDeferral = new Exports_1.Deferred();\n            var messageSendDeferral = new Exports_1.Deferred();\n            _this.sendMessageQueue.EnqueueFromPromise(messageSendDeferral.Promise());\n            _this.messageFormatter\n                .FromConnectionMessage(message)\n                .On(function (rawMessage) {\n                messageSendDeferral.Resolve({\n                    Message: message,\n                    RawWebsocketMessage: rawMessage,\n                    SendStatusDeferral: messageSendStatusDeferral,\n                });\n            }, function (error) {\n                messageSendDeferral.Reject(\"Error formatting the message. \" + error);\n            });\n            return messageSendStatusDeferral.Promise();\n        };\n        this.Read = function () {\n            if (_this.connectionState !== Exports_1.ConnectionState.Connected) {\n                return Exports_1.PromiseHelper.FromError(\"Cannot read on connection that is in \" + _this.connectionState + \" state\");\n            }\n            return _this.receivingMessageQueue.Dequeue();\n        };\n        this.Close = function (reason) {\n            if (_this.websocketClient) {\n                if (_this.connectionState !== Exports_1.ConnectionState.Connected) {\n                    _this.websocketClient.close(1000, reason ? reason : \"Normal closure by client\");\n                }\n            }\n            else {\n                var deferral = new Exports_1.Deferred();\n                deferral.Resolve(true);\n                return deferral.Promise();\n            }\n            return _this.disconnectDeferral.Promise();\n        };\n        this.SendRawMessage = function (sendItem) {\n            try {\n                _this.OnEvent(new Exports_1.ConnectionMessageSentEvent(_this.connectionId, new Date().toISOString(), sendItem.Message));\n                _this.websocketClient.send(sendItem.RawWebsocketMessage.Payload);\n                return Exports_1.PromiseHelper.FromResult(true);\n            }\n            catch (e) {\n                return Exports_1.PromiseHelper.FromError(\"websocket send error: \" + e);\n            }\n        };\n        this.OnClose = function (code, reason) {\n            var closeReason = \"Connection closed. \" + code + \": \" + reason;\n            _this.connectionState = Exports_1.ConnectionState.Disconnected;\n            _this.disconnectDeferral.Resolve(true);\n            _this.receivingMessageQueue.Dispose(reason);\n            _this.receivingMessageQueue.DrainAndDispose(function (pendingReceiveItem) {\n                // TODO: Events for these ?\n                // Logger.Instance.OnEvent(new LoggingEvent(LogType.Warning, null, `Failed to process received message. Reason: ${closeReason}, Message: ${JSON.stringify(pendingReceiveItem)}`));\n            }, closeReason);\n            _this.sendMessageQueue.DrainAndDispose(function (pendingSendItem) {\n                pendingSendItem.SendStatusDeferral.Reject(closeReason);\n            }, closeReason);\n        };\n        this.ProcessSendQueue = function () {\n            _this.sendMessageQueue\n                .Dequeue()\n                .On(function (sendItem) {\n                _this.SendRawMessage(sendItem)\n                    .On(function (result) {\n                    sendItem.SendStatusDeferral.Resolve(result);\n                    _this.ProcessSendQueue();\n                }, function (sendError) {\n                    sendItem.SendStatusDeferral.Reject(sendError);\n                    _this.ProcessSendQueue();\n                });\n            }, function (error) {\n                // do nothing\n            });\n        };\n        this.OnEvent = function (event) {\n            _this.connectionEvents.OnEvent(event);\n            Exports_1.Events.Instance.OnEvent(event);\n        };\n        if (!uri) {\n            throw new Exports_1.ArgumentNullError(\"uri\");\n        }\n        if (!messageFormatter) {\n            throw new Exports_1.ArgumentNullError(\"messageFormatter\");\n        }\n        this.connectionEvents = new Exports_1.EventSource();\n        this.connectionId = connectionId;\n        this.messageFormatter = messageFormatter;\n        this.connectionState = Exports_1.ConnectionState.None;\n        this.uri = uri;\n    }\n    Object.defineProperty(WebsocketMessageAdapter.prototype, \"State\", {\n        get: function () {\n            return this.connectionState;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebsocketMessageAdapter.prototype, \"Events\", {\n        get: function () {\n            return this.connectionEvents;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return WebsocketMessageAdapter;\n}());\nexports.WebsocketMessageAdapter = WebsocketMessageAdapter;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = __webpack_require__(1);\nvar Guid_1 = __webpack_require__(2);\nvar MessageType;\n(function (MessageType) {\n    MessageType[MessageType[\"Text\"] = 0] = \"Text\";\n    MessageType[MessageType[\"Binary\"] = 1] = \"Binary\";\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\nvar ConnectionMessage = (function () {\n    function ConnectionMessage(messageType, body, headers, id) {\n        this.body = null;\n        if (messageType === MessageType.Text && body && !(typeof (body) === \"string\")) {\n            throw new Error_1.InvalidOperationError(\"Payload must be a string\");\n        }\n        if (messageType === MessageType.Binary && body && !(body instanceof ArrayBuffer)) {\n            throw new Error_1.InvalidOperationError(\"Payload must be ArrayBuffer\");\n        }\n        this.messageType = messageType;\n        this.body = body;\n        this.headers = headers ? headers : {};\n        this.id = id ? id : Guid_1.CreateNoDashGuid();\n    }\n    Object.defineProperty(ConnectionMessage.prototype, \"MessageType\", {\n        get: function () {\n            return this.messageType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"Headers\", {\n        get: function () {\n            return this.headers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"Body\", {\n        get: function () {\n            return this.body;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"TextBody\", {\n        get: function () {\n            if (this.messageType === MessageType.Binary) {\n                throw new Error_1.InvalidOperationError(\"Not supported for binary message\");\n            }\n            return this.body;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"BinaryBody\", {\n        get: function () {\n            if (this.messageType === MessageType.Text) {\n                throw new Error_1.InvalidOperationError(\"Not supported for text message\");\n            }\n            return this.body;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessage.prototype, \"Id\", {\n        get: function () {\n            return this.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionMessage;\n}());\nexports.ConnectionMessage = ConnectionMessage;\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = __webpack_require__(1);\nvar Guid_1 = __webpack_require__(2);\nvar EventSource = (function () {\n    function EventSource(metadata) {\n        var _this = this;\n        this.eventListeners = {};\n        this.isDisposed = false;\n        this.OnEvent = function (event) {\n            if (_this.IsDisposed()) {\n                throw (new Error_1.ObjectDisposedError(\"EventSource\"));\n            }\n            if (_this.Metadata) {\n                for (var paramName in _this.Metadata) {\n                    if (paramName) {\n                        if (event.Metadata) {\n                            if (!event.Metadata[paramName]) {\n                                event.Metadata[paramName] = _this.Metadata[paramName];\n                            }\n                        }\n                    }\n                }\n            }\n            for (var eventId in _this.eventListeners) {\n                if (eventId && _this.eventListeners[eventId]) {\n                    _this.eventListeners[eventId](event);\n                }\n            }\n        };\n        this.Attach = function (onEventCallback) {\n            var id = Guid_1.CreateNoDashGuid();\n            _this.eventListeners[id] = onEventCallback;\n            return {\n                Detach: function () {\n                    delete _this.eventListeners[id];\n                },\n            };\n        };\n        this.AttachListener = function (listener) {\n            return _this.Attach(listener.OnEvent);\n        };\n        this.IsDisposed = function () {\n            return _this.isDisposed;\n        };\n        this.Dispose = function () {\n            _this.eventListeners = null;\n            _this.isDisposed = true;\n        };\n        this.metadata = metadata;\n    }\n    Object.defineProperty(EventSource.prototype, \"Metadata\", {\n        get: function () {\n            return this.metadata;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventSource;\n}());\nexports.EventSource = EventSource;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = __webpack_require__(1);\nvar InMemoryStorage = (function () {\n    function InMemoryStorage() {\n        var _this = this;\n        this.store = {};\n        this.Get = function (key) {\n            if (!key) {\n                throw new Error_1.ArgumentNullError(\"key\");\n            }\n            return _this.store[key];\n        };\n        this.GetOrAdd = function (key, valueToAdd) {\n            if (!key) {\n                throw new Error_1.ArgumentNullError(\"key\");\n            }\n            if (_this.store[key] === undefined) {\n                _this.store[key] = valueToAdd;\n            }\n            return _this.store[key];\n        };\n        this.Set = function (key, value) {\n            if (!key) {\n                throw new Error_1.ArgumentNullError(\"key\");\n            }\n            _this.store[key] = value;\n        };\n        this.Remove = function (key) {\n            if (!key) {\n                throw new Error_1.ArgumentNullError(\"key\");\n            }\n            if (_this.store[key] !== undefined) {\n                delete _this.store[key];\n            }\n        };\n    }\n    return InMemoryStorage;\n}());\nexports.InMemoryStorage = InMemoryStorage;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = __webpack_require__(1);\nvar List = (function () {\n    function List(list) {\n        var _this = this;\n        this.subscriptionIdCounter = 0;\n        this.addSubscriptions = {};\n        this.removeSubscriptions = {};\n        this.disposedSubscriptions = {};\n        this.disposeReason = null;\n        this.Get = function (itemIndex) {\n            _this.ThrowIfDisposed();\n            return _this.list[itemIndex];\n        };\n        this.First = function () {\n            return _this.Get(0);\n        };\n        this.Last = function () {\n            return _this.Get(_this.Length() - 1);\n        };\n        this.Add = function (item) {\n            _this.ThrowIfDisposed();\n            _this.InsertAt(_this.list.length, item);\n        };\n        this.InsertAt = function (index, item) {\n            _this.ThrowIfDisposed();\n            if (index === 0) {\n                _this.list.unshift(item);\n            }\n            else if (index === _this.list.length) {\n                _this.list.push(item);\n            }\n            else {\n                _this.list.splice(index, 0, item);\n            }\n            _this.TriggerSubscriptions(_this.addSubscriptions);\n        };\n        this.RemoveFirst = function () {\n            _this.ThrowIfDisposed();\n            return _this.RemoveAt(0);\n        };\n        this.RemoveLast = function () {\n            _this.ThrowIfDisposed();\n            return _this.RemoveAt(_this.Length() - 1);\n        };\n        this.RemoveAt = function (index) {\n            _this.ThrowIfDisposed();\n            return _this.Remove(index, 1)[0];\n        };\n        this.Remove = function (index, count) {\n            _this.ThrowIfDisposed();\n            var removedElements = _this.list.splice(index, count);\n            _this.TriggerSubscriptions(_this.removeSubscriptions);\n            return removedElements;\n        };\n        this.Clear = function () {\n            _this.ThrowIfDisposed();\n            _this.Remove(0, _this.Length());\n        };\n        this.Length = function () {\n            _this.ThrowIfDisposed();\n            return _this.list.length;\n        };\n        this.OnAdded = function (addedCallback) {\n            _this.ThrowIfDisposed();\n            var subscriptionId = _this.subscriptionIdCounter++;\n            _this.addSubscriptions[subscriptionId] = addedCallback;\n            return {\n                Detach: function () {\n                    delete _this.addSubscriptions[subscriptionId];\n                },\n            };\n        };\n        this.OnRemoved = function (removedCallback) {\n            _this.ThrowIfDisposed();\n            var subscriptionId = _this.subscriptionIdCounter++;\n            _this.removeSubscriptions[subscriptionId] = removedCallback;\n            return {\n                Detach: function () {\n                    delete _this.removeSubscriptions[subscriptionId];\n                },\n            };\n        };\n        this.OnDisposed = function (disposedCallback) {\n            _this.ThrowIfDisposed();\n            var subscriptionId = _this.subscriptionIdCounter++;\n            _this.disposedSubscriptions[subscriptionId] = disposedCallback;\n            return {\n                Detach: function () {\n                    delete _this.disposedSubscriptions[subscriptionId];\n                },\n            };\n        };\n        this.Join = function (seperator) {\n            _this.ThrowIfDisposed();\n            return _this.list.join(seperator);\n        };\n        this.ToArray = function () {\n            var cloneCopy = Array();\n            _this.list.forEach(function (val) {\n                cloneCopy.push(val);\n            });\n            return cloneCopy;\n        };\n        this.Any = function (callback) {\n            _this.ThrowIfDisposed();\n            if (callback) {\n                return _this.Where(callback).Length() > 0;\n            }\n            else {\n                return _this.Length() > 0;\n            }\n        };\n        this.All = function (callback) {\n            _this.ThrowIfDisposed();\n            return _this.Where(callback).Length() === _this.Length();\n        };\n        this.ForEach = function (callback) {\n            _this.ThrowIfDisposed();\n            for (var i = 0; i < _this.Length(); i++) {\n                callback(_this.list[i], i);\n            }\n        };\n        this.Select = function (callback) {\n            _this.ThrowIfDisposed();\n            var selectList = [];\n            for (var i = 0; i < _this.list.length; i++) {\n                selectList.push(callback(_this.list[i], i));\n            }\n            return new List(selectList);\n        };\n        this.Where = function (callback) {\n            _this.ThrowIfDisposed();\n            var filteredList = new List();\n            for (var i = 0; i < _this.list.length; i++) {\n                if (callback(_this.list[i], i)) {\n                    filteredList.Add(_this.list[i]);\n                }\n            }\n            return filteredList;\n        };\n        this.OrderBy = function (compareFn) {\n            _this.ThrowIfDisposed();\n            var clonedArray = _this.ToArray();\n            var orderedArray = clonedArray.sort(compareFn);\n            return new List(orderedArray);\n        };\n        this.OrderByDesc = function (compareFn) {\n            _this.ThrowIfDisposed();\n            return _this.OrderBy(function (a, b) { return compareFn(b, a); });\n        };\n        this.Clone = function () {\n            _this.ThrowIfDisposed();\n            return new List(_this.ToArray());\n        };\n        this.Concat = function (list) {\n            _this.ThrowIfDisposed();\n            return new List(_this.list.concat(list.ToArray()));\n        };\n        this.ConcatArray = function (array) {\n            _this.ThrowIfDisposed();\n            return new List(_this.list.concat(array));\n        };\n        this.IsDisposed = function () {\n            return _this.list == null;\n        };\n        this.Dispose = function (reason) {\n            if (!_this.IsDisposed()) {\n                _this.disposeReason = reason;\n                _this.list = null;\n                _this.addSubscriptions = null;\n                _this.removeSubscriptions = null;\n                _this.TriggerSubscriptions(_this.disposedSubscriptions);\n            }\n        };\n        this.ThrowIfDisposed = function () {\n            if (_this.IsDisposed()) {\n                throw new Error_1.ObjectDisposedError(\"List\", _this.disposeReason);\n            }\n        };\n        this.TriggerSubscriptions = function (subscriptions) {\n            if (subscriptions) {\n                for (var subscriptionId in subscriptions) {\n                    if (subscriptionId) {\n                        subscriptions[subscriptionId]();\n                    }\n                }\n            }\n        };\n        this.list = [];\n        // copy the list rather than taking as is.\n        if (list) {\n            for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\n                var item = list_1[_i];\n                this.list.push(item);\n            }\n        }\n    }\n    return List;\n}());\nexports.List = List;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = __webpack_require__(1);\nvar PromiseState;\n(function (PromiseState) {\n    PromiseState[PromiseState[\"None\"] = 0] = \"None\";\n    PromiseState[PromiseState[\"Resolved\"] = 1] = \"Resolved\";\n    PromiseState[PromiseState[\"Rejected\"] = 2] = \"Rejected\";\n})(PromiseState = exports.PromiseState || (exports.PromiseState = {}));\nvar PromiseResult = (function () {\n    function PromiseResult(promiseResultEventSource) {\n        var _this = this;\n        this.ThrowIfError = function () {\n            if (_this.IsError) {\n                throw _this.Error;\n            }\n        };\n        promiseResultEventSource.On(function (result) {\n            if (!_this.isCompleted) {\n                _this.isCompleted = true;\n                _this.isError = false;\n                _this.result = result;\n            }\n        }, function (error) {\n            if (!_this.isCompleted) {\n                _this.isCompleted = true;\n                _this.isError = true;\n                _this.error = error;\n            }\n        });\n    }\n    Object.defineProperty(PromiseResult.prototype, \"IsCompleted\", {\n        get: function () {\n            return this.isCompleted;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PromiseResult.prototype, \"IsError\", {\n        get: function () {\n            return this.isError;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PromiseResult.prototype, \"Error\", {\n        get: function () {\n            return this.error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PromiseResult.prototype, \"Result\", {\n        get: function () {\n            return this.result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PromiseResult;\n}());\nexports.PromiseResult = PromiseResult;\n// tslint:disable-next-line:max-classes-per-file\nvar PromiseResultEventSource = (function () {\n    function PromiseResultEventSource() {\n        var _this = this;\n        this.SetResult = function (result) {\n            _this.onSetResult(result);\n        };\n        this.SetError = function (error) {\n            _this.onSetError(error);\n        };\n        this.On = function (onSetResult, onSetError) {\n            _this.onSetResult = onSetResult;\n            _this.onSetError = onSetError;\n        };\n    }\n    return PromiseResultEventSource;\n}());\nexports.PromiseResultEventSource = PromiseResultEventSource;\n// tslint:disable-next-line:max-classes-per-file\nvar PromiseHelper = (function () {\n    function PromiseHelper() {\n    }\n    return PromiseHelper;\n}());\nPromiseHelper.WhenAll = function (promises) {\n    if (!promises || promises.length === 0) {\n        throw new Error_1.ArgumentNullError(\"promises\");\n    }\n    var deferred = new Deferred();\n    var errors = [];\n    var completedPromises = 0;\n    var checkForCompletion = function () {\n        completedPromises++;\n        if (completedPromises === promises.length) {\n            if (errors.length === 0) {\n                deferred.Resolve(true);\n            }\n            else {\n                deferred.Reject(errors.join(\", \"));\n            }\n        }\n    };\n    for (var _i = 0, promises_1 = promises; _i < promises_1.length; _i++) {\n        var promise = promises_1[_i];\n        promise.On(function (r) {\n            checkForCompletion();\n        }, function (e) {\n            errors.push(e);\n            checkForCompletion();\n        });\n    }\n    return deferred.Promise();\n};\nPromiseHelper.FromResult = function (result) {\n    var deferred = new Deferred();\n    deferred.Resolve(result);\n    return deferred.Promise();\n};\nPromiseHelper.FromError = function (error) {\n    var deferred = new Deferred();\n    deferred.Reject(error);\n    return deferred.Promise();\n};\nexports.PromiseHelper = PromiseHelper;\n// tslint:disable-next-line:max-classes-per-file\nvar Promise = (function () {\n    function Promise(sink) {\n        var _this = this;\n        this.Result = function () {\n            return _this.sink.Result;\n        };\n        this.ContinueWith = function (continuationCallback) {\n            if (!continuationCallback) {\n                throw new Error_1.ArgumentNullError(\"continuationCallback\");\n            }\n            var continuationDeferral = new Deferred();\n            _this.sink.on(function (r) {\n                try {\n                    var coninuationResult = continuationCallback(_this.sink.Result);\n                    continuationDeferral.Resolve(coninuationResult);\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \"'\");\n                }\n            }, function (error) {\n                try {\n                    var coninuationResult = continuationCallback(_this.sink.Result);\n                    continuationDeferral.Resolve(coninuationResult);\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \". InnerError: \" + error + \"'\");\n                }\n            });\n            return continuationDeferral.Promise();\n        };\n        this.OnSuccessContinueWith = function (continuationCallback) {\n            if (!continuationCallback) {\n                throw new Error_1.ArgumentNullError(\"continuationCallback\");\n            }\n            var continuationDeferral = new Deferred();\n            _this.sink.on(function (r) {\n                try {\n                    var coninuationResult = continuationCallback(r);\n                    continuationDeferral.Resolve(coninuationResult);\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \"'\");\n                }\n            }, function (error) {\n                continuationDeferral.Reject(\"'Unhandled callback error: \" + error + \"'\");\n            });\n            return continuationDeferral.Promise();\n        };\n        this.ContinueWithPromise = function (continuationCallback) {\n            if (!continuationCallback) {\n                throw new Error_1.ArgumentNullError(\"continuationCallback\");\n            }\n            var continuationDeferral = new Deferred();\n            _this.sink.on(function (r) {\n                try {\n                    var continuationPromise = continuationCallback(_this.sink.Result);\n                    if (!continuationPromise) {\n                        throw new Error(\"'Contuniation callback did not return promise'\");\n                    }\n                    continuationPromise.On(function (coninuationResult) {\n                        continuationDeferral.Resolve(coninuationResult);\n                    }, function (e) {\n                        continuationDeferral.Reject(e);\n                    });\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \"'\");\n                }\n            }, function (error) {\n                try {\n                    var continuationPromise = continuationCallback(_this.sink.Result);\n                    if (!continuationPromise) {\n                        throw new Error(\"Contuniation callback did not return promise\");\n                    }\n                    continuationPromise.On(function (coninuationResult) {\n                        continuationDeferral.Resolve(coninuationResult);\n                    }, function (e) {\n                        continuationDeferral.Reject(e);\n                    });\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \". InnerError: \" + error + \"'\");\n                }\n            });\n            return continuationDeferral.Promise();\n        };\n        this.OnSuccessContinueWithPromise = function (continuationCallback) {\n            if (!continuationCallback) {\n                throw new Error_1.ArgumentNullError(\"continuationCallback\");\n            }\n            var continuationDeferral = new Deferred();\n            _this.sink.on(function (r) {\n                try {\n                    var continuationPromise = continuationCallback(r);\n                    if (!continuationPromise) {\n                        throw new Error(\"Contuniation callback did not return promise\");\n                    }\n                    continuationPromise.On(function (coninuationResult) {\n                        continuationDeferral.Resolve(coninuationResult);\n                    }, function (e) {\n                        continuationDeferral.Reject(e);\n                    });\n                }\n                catch (e) {\n                    continuationDeferral.Reject(\"'Unhandled callback error: \" + e + \"'\");\n                }\n            }, function (error) {\n                continuationDeferral.Reject(\"'Unhandled callback error: \" + error + \".'\");\n            });\n            return continuationDeferral.Promise();\n        };\n        this.On = function (successCallback, errorCallback) {\n            if (!successCallback) {\n                throw new Error_1.ArgumentNullError(\"successCallback\");\n            }\n            if (!errorCallback) {\n                throw new Error_1.ArgumentNullError(\"errorCallback\");\n            }\n            _this.sink.on(successCallback, errorCallback);\n            return _this;\n        };\n        this.Finally = function (callback) {\n            if (!callback) {\n                throw new Error_1.ArgumentNullError(\"callback\");\n            }\n            var callbackWrapper = function (_) {\n                callback();\n            };\n            return _this.On(callbackWrapper, callbackWrapper);\n        };\n        this.sink = sink;\n    }\n    return Promise;\n}());\nexports.Promise = Promise;\n// tslint:disable-next-line:max-classes-per-file\nvar Deferred = (function () {\n    function Deferred() {\n        var _this = this;\n        this.State = function () {\n            return _this.sink.State;\n        };\n        this.Promise = function () {\n            return _this.promise;\n        };\n        this.Resolve = function (result) {\n            _this.sink.Resolve(result);\n            return _this;\n        };\n        this.Reject = function (error) {\n            _this.sink.Reject(error);\n            return _this;\n        };\n        this.sink = new Sink();\n        this.promise = new Promise(this.sink);\n    }\n    return Deferred;\n}());\nexports.Deferred = Deferred;\n// tslint:disable-next-line:max-classes-per-file\nvar Sink = (function () {\n    function Sink() {\n        var _this = this;\n        this.state = PromiseState.None;\n        this.promiseResult = null;\n        this.promiseResultEvents = null;\n        this.successHandlers = [];\n        this.errorHandlers = [];\n        this.Resolve = function (result) {\n            if (_this.state !== PromiseState.None) {\n                throw new Error(\"'Cannot resolve a completed promise'\");\n            }\n            _this.state = PromiseState.Resolved;\n            _this.promiseResultEvents.SetResult(result);\n            for (var i = 0; i < _this.successHandlers.length; i++) {\n                _this.ExecuteSuccessCallback(result, _this.successHandlers[i], _this.errorHandlers[i]);\n            }\n            _this.DetachHandlers();\n        };\n        this.Reject = function (error) {\n            if (_this.state !== PromiseState.None) {\n                throw new Error(\"'Cannot reject a completed promise'\");\n            }\n            _this.state = PromiseState.Rejected;\n            _this.promiseResultEvents.SetError(error);\n            for (var _i = 0, _a = _this.errorHandlers; _i < _a.length; _i++) {\n                var errorHandler = _a[_i];\n                _this.ExecuteErrorCallback(error, errorHandler);\n            }\n            _this.DetachHandlers();\n        };\n        this.on = function (successCallback, errorCallback) {\n            if (successCallback == null) {\n                successCallback = function (r) { return; };\n            }\n            if (_this.state === PromiseState.None) {\n                _this.successHandlers.push(successCallback);\n                _this.errorHandlers.push(errorCallback);\n            }\n            else {\n                if (_this.state === PromiseState.Resolved) {\n                    _this.ExecuteSuccessCallback(_this.promiseResult.Result, successCallback, errorCallback);\n                }\n                else if (_this.state === PromiseState.Rejected) {\n                    _this.ExecuteErrorCallback(_this.promiseResult.Error, errorCallback);\n                }\n                _this.DetachHandlers();\n            }\n        };\n        this.ExecuteSuccessCallback = function (result, successCallback, errorCallback) {\n            try {\n                successCallback(result);\n            }\n            catch (e) {\n                _this.ExecuteErrorCallback(\"'Unhandled callback error: \" + e + \"'\", errorCallback);\n            }\n        };\n        this.ExecuteErrorCallback = function (error, errorCallback) {\n            if (errorCallback) {\n                try {\n                    errorCallback(error);\n                }\n                catch (e) {\n                    throw new Error(\"'Unhandled callback error: \" + e + \". InnerError: \" + error + \"'\");\n                }\n            }\n            else {\n                throw new Error(\"'Unhandled error: \" + error + \"'\");\n            }\n        };\n        this.DetachHandlers = function () {\n            _this.errorHandlers = [];\n            _this.successHandlers = [];\n        };\n        this.promiseResultEvents = new PromiseResultEventSource();\n        this.promiseResult = new PromiseResult(this.promiseResultEvents);\n    }\n    Object.defineProperty(Sink.prototype, \"State\", {\n        get: function () {\n            return this.state;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Sink.prototype, \"Result\", {\n        get: function () {\n            return this.promiseResult;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Sink;\n}());\nexports.Sink = Sink;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = __webpack_require__(1);\nvar List_1 = __webpack_require__(13);\nvar Promise_1 = __webpack_require__(14);\nvar SubscriberType;\n(function (SubscriberType) {\n    SubscriberType[SubscriberType[\"Dequeue\"] = 0] = \"Dequeue\";\n    SubscriberType[SubscriberType[\"Peek\"] = 1] = \"Peek\";\n})(SubscriberType || (SubscriberType = {}));\nvar Queue = (function () {\n    function Queue(list) {\n        var _this = this;\n        this.promiseStore = new List_1.List();\n        this.isDrainInProgress = false;\n        this.isDisposing = false;\n        this.disposeReason = null;\n        this.Enqueue = function (item) {\n            _this.ThrowIfDispose();\n            _this.EnqueueFromPromise(Promise_1.PromiseHelper.FromResult(item));\n        };\n        this.EnqueueFromPromise = function (promise) {\n            _this.ThrowIfDispose();\n            _this.promiseStore.Add(promise);\n            promise.Finally(function () {\n                while (_this.promiseStore.Length() > 0) {\n                    if (!_this.promiseStore.First().Result().IsCompleted) {\n                        break;\n                    }\n                    else {\n                        var p = _this.promiseStore.RemoveFirst();\n                        if (!p.Result().IsError) {\n                            _this.list.Add(p.Result().Result);\n                        }\n                        else {\n                            // TODO: Log as warning.\n                        }\n                    }\n                }\n            });\n        };\n        this.Dequeue = function () {\n            _this.ThrowIfDispose();\n            var deferredSubscriber = new Promise_1.Deferred();\n            _this.subscribers.Add({ deferral: deferredSubscriber, type: SubscriberType.Dequeue });\n            _this.Drain();\n            return deferredSubscriber.Promise();\n        };\n        this.Peek = function () {\n            _this.ThrowIfDispose();\n            var deferredSubscriber = new Promise_1.Deferred();\n            _this.subscribers.Add({ deferral: deferredSubscriber, type: SubscriberType.Peek });\n            _this.Drain();\n            return deferredSubscriber.Promise();\n        };\n        this.Length = function () {\n            _this.ThrowIfDispose();\n            return _this.list.Length();\n        };\n        this.IsDisposed = function () {\n            return _this.subscribers == null;\n        };\n        this.DrainAndDispose = function (pendingItemProcessor, reason) {\n            if (!_this.IsDisposed() && !_this.isDisposing) {\n                _this.disposeReason = reason;\n                _this.isDisposing = true;\n                while (_this.subscribers.Length() > 0) {\n                    var subscriber = _this.subscribers.RemoveFirst();\n                    subscriber.deferral.Reject(\"Disposed\");\n                }\n                for (var _i = 0, _a = _this.detachables; _i < _a.length; _i++) {\n                    var detachable = _a[_i];\n                    detachable.Detach();\n                }\n                if (_this.promiseStore.Length() > 0 && pendingItemProcessor) {\n                    return Promise_1.PromiseHelper\n                        .WhenAll(_this.promiseStore.ToArray())\n                        .ContinueWith(function () {\n                        _this.subscribers = null;\n                        _this.list.ForEach(function (item, index) {\n                            pendingItemProcessor(item);\n                        });\n                        _this.list = null;\n                        return true;\n                    });\n                }\n                else {\n                    _this.subscribers = null;\n                    _this.list = null;\n                }\n            }\n            return Promise_1.PromiseHelper.FromResult(true);\n        };\n        this.Dispose = function (reason) {\n            _this.DrainAndDispose(null, reason);\n        };\n        this.Drain = function () {\n            if (!_this.isDrainInProgress && !_this.isDisposing) {\n                _this.isDrainInProgress = true;\n                while (_this.list.Length() > 0 && _this.subscribers.Length() > 0 && !_this.isDisposing) {\n                    var subscriber = _this.subscribers.RemoveFirst();\n                    if (subscriber.type === SubscriberType.Peek) {\n                        subscriber.deferral.Resolve(_this.list.First());\n                    }\n                    else {\n                        var dequeuedItem = _this.list.RemoveFirst();\n                        subscriber.deferral.Resolve(dequeuedItem);\n                    }\n                }\n                _this.isDrainInProgress = false;\n            }\n        };\n        this.ThrowIfDispose = function () {\n            if (_this.IsDisposed()) {\n                if (_this.disposeReason) {\n                    throw new Error_1.InvalidOperationError(_this.disposeReason);\n                }\n                throw new Error_1.ObjectDisposedError(\"Queue\");\n            }\n            else if (_this.isDisposing) {\n                throw new Error_1.InvalidOperationError(\"Queue disposing\");\n            }\n        };\n        this.list = list ? list : new List_1.List();\n        this.detachables = [];\n        this.subscribers = new List_1.List();\n        this.detachables.push(this.list.OnAdded(this.Drain));\n    }\n    return Queue;\n}());\nexports.Queue = Queue;\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(4);\nvar Exports_2 = __webpack_require__(0);\nvar Exports_3 = __webpack_require__(6);\nvar TestHooksParamName = \"testhooks\";\nvar ConnectionIdHeader = \"X-ConnectionId\";\nvar SpeechConnectionFactory = (function () {\n    function SpeechConnectionFactory() {\n        var _this = this;\n        this.Create = function (config, authInfo, connectionId) {\n            var endpoint = \"\";\n            switch (config.RecognitionMode) {\n                case Exports_3.RecognitionMode.Conversation:\n                    endpoint = _this.Host + _this.ConversationRelativeUri;\n                    break;\n                case Exports_3.RecognitionMode.Dictation:\n                    endpoint = _this.Host + _this.DictationRelativeUri;\n                    break;\n                default:\n                    endpoint = _this.Host + _this.InteractiveRelativeUri; // default is interactive\n                    break;\n            }\n            var queryParams = {\n                format: Exports_3.SpeechResultFormat[config.Format].toString().toLowerCase(),\n                language: config.Language,\n            };\n            if (_this.IsDebugModeEnabled) {\n                queryParams[TestHooksParamName] = \"1\";\n            }\n            var headers = {};\n            headers[authInfo.HeaderName] = authInfo.Token;\n            headers[ConnectionIdHeader] = connectionId;\n            return new Exports_1.WebsocketConnection(endpoint, queryParams, headers, new Exports_3.WebsocketMessageFormatter(), connectionId);\n        };\n    }\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"Host\", {\n        get: function () {\n            return Exports_2.Storage.Local.GetOrAdd(\"Host\", \"wss://speech.platform.bing.com\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"InteractiveRelativeUri\", {\n        get: function () {\n            return Exports_2.Storage.Local.GetOrAdd(\"InteractiveRelativeUri\", \"/speech/recognition/interactive/cognitiveservices/v1\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"ConversationRelativeUri\", {\n        get: function () {\n            return Exports_2.Storage.Local.GetOrAdd(\"ConversationRelativeUri\", \"/speech/recognition/conversation/cognitiveservices/v1\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"DictationRelativeUri\", {\n        get: function () {\n            return Exports_2.Storage.Local.GetOrAdd(\"DictationRelativeUri\", \"/speech/recognition/dictation/cognitiveservices/v1\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionFactory.prototype, \"IsDebugModeEnabled\", {\n        get: function () {\n            var value = Exports_2.Storage.Local.GetOrAdd(\"IsDebugModeEnabled\", \"false\");\n            return value.toLowerCase() === \"true\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpeechConnectionFactory;\n}());\nexports.SpeechConnectionFactory = SpeechConnectionFactory;\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(System) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecognitionMode;\n(function (RecognitionMode) {\n    RecognitionMode[RecognitionMode[\"Interactive\"] = 0] = \"Interactive\";\n    RecognitionMode[RecognitionMode[\"Conversation\"] = 1] = \"Conversation\";\n    RecognitionMode[RecognitionMode[\"Dictation\"] = 2] = \"Dictation\";\n})(RecognitionMode = exports.RecognitionMode || (exports.RecognitionMode = {}));\nvar SpeechResultFormat;\n(function (SpeechResultFormat) {\n    SpeechResultFormat[SpeechResultFormat[\"Simple\"] = 0] = \"Simple\";\n    SpeechResultFormat[SpeechResultFormat[\"Detailed\"] = 1] = \"Detailed\";\n})(SpeechResultFormat = exports.SpeechResultFormat || (exports.SpeechResultFormat = {}));\nvar RecognizerConfig = (function () {\n    function RecognizerConfig(platformConfig, recognitionMode, language, format) {\n        if (recognitionMode === void 0) { recognitionMode = RecognitionMode.Interactive; }\n        if (language === void 0) { language = \"en-us\"; }\n        if (format === void 0) { format = SpeechResultFormat.Simple; }\n        this.recognitionMode = RecognitionMode.Interactive;\n        this.speechConfig = platformConfig ? platformConfig : new SpeechConfig(new Context(null, null));\n        this.recognitionMode = recognitionMode;\n        this.language = language;\n        this.format = format;\n        this.recognitionActivityTimeout = recognitionMode === RecognitionMode.Interactive ? 8000 : 25000;\n    }\n    Object.defineProperty(RecognizerConfig.prototype, \"RecognitionMode\", {\n        get: function () {\n            return this.recognitionMode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"Language\", {\n        get: function () {\n            return this.language;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"Format\", {\n        get: function () {\n            return this.format;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"SpeechConfig\", {\n        get: function () {\n            return this.speechConfig;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"RecognitionActivityTimeout\", {\n        get: function () {\n            return this.recognitionActivityTimeout;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RecognizerConfig.prototype, \"IsContinuousRecognition\", {\n        get: function () {\n            return this.recognitionMode !== RecognitionMode.Interactive;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RecognizerConfig;\n}());\nexports.RecognizerConfig = RecognizerConfig;\n// tslint:disable-next-line:max-classes-per-file\nvar SpeechConfig = (function () {\n    function SpeechConfig(context) {\n        var _this = this;\n        this.Serialize = function () {\n            return JSON.stringify(_this, function (key, value) {\n                if (value && typeof value === \"object\") {\n                    var replacement = {};\n                    for (var k in value) {\n                        if (Object.hasOwnProperty.call(value, k)) {\n                            replacement[k && k.charAt(0).toLowerCase() + k.substring(1)] = value[k];\n                        }\n                    }\n                    return replacement;\n                }\n                return value;\n            });\n        };\n        this.context = context;\n    }\n    Object.defineProperty(SpeechConfig.prototype, \"Context\", {\n        get: function () {\n            return this.context;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpeechConfig;\n}());\nexports.SpeechConfig = SpeechConfig;\n// tslint:disable-next-line:max-classes-per-file\nvar Context = (function () {\n    function Context(os, device) {\n        this.system = new System();\n        this.os = os;\n        this.device = device;\n    }\n    Object.defineProperty(Context.prototype, \"System\", {\n        get: function () {\n            return this.system;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"OS\", {\n        get: function () {\n            return this.os;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"Device\", {\n        get: function () {\n            return this.device;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Context;\n}());\nexports.Context = Context;\n// tslint:disable-next-line:max-classes-per-file\nvar System = (function () {\n    function System() {\n        // TODO: Tie this with the sdk Version somehow\n        this.version = \"1.0.00000\";\n    }\n    Object.defineProperty(System.prototype, \"Version\", {\n        get: function () {\n            // Controlled by sdk\n            return this.version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return System;\n}());\nexports.System = System;\n// tslint:disable-next-line:max-classes-per-file\nvar OS = (function () {\n    function OS(platform, name, version) {\n        this.platform = platform;\n        this.name = name;\n        this.version = version;\n    }\n    Object.defineProperty(OS.prototype, \"Platform\", {\n        get: function () {\n            return this.platform;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OS.prototype, \"Name\", {\n        get: function () {\n            return this.name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OS.prototype, \"Version\", {\n        get: function () {\n            return this.version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return OS;\n}());\nexports.OS = OS;\n// tslint:disable-next-line:max-classes-per-file\nvar Device = (function () {\n    function Device(manufacturer, model, version) {\n        this.manufacturer = manufacturer;\n        this.model = model;\n        this.version = version;\n    }\n    Object.defineProperty(Device.prototype, \"Manufacturer\", {\n        get: function () {\n            return this.manufacturer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Device.prototype, \"Model\", {\n        get: function () {\n            return this.model;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Device.prototype, \"Version\", {\n        get: function () {\n            return this.version;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Device;\n}());\nexports.Device = Device;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(59)))\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.log = function (message) {\n    var optionalParams = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        optionalParams[_i - 1] = arguments[_i];\n    }\n    if (typeof (window) !== 'undefined' && window[\"botchatDebug\"] && message)\n        console.log.apply(console, [message].concat(optionalParams));\n};\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar konsole = __webpack_require__(18);\nvar CognitiveSpeech = __webpack_require__(21);\nvar SpeechRecognizer = (function () {\n    function SpeechRecognizer(properties) {\n        if (properties === void 0) { properties = {}; }\n        var _this = this;\n        this.audioStreamStartInitiated = false;\n        this.isStreamingToService = false;\n        this.onIntermediateResult = null;\n        this.onFinalResult = null;\n        this.onAudioStreamingToService = null;\n        this.onRecognitionFailed = null;\n        this.locale = null;\n        this.actualRecognizer = null;\n        this.properties = properties;\n        var recognitionMode = CognitiveSpeech.RecognitionMode.Interactive;\n        var format = CognitiveSpeech.SpeechResultFormat.Simple;\n        var locale = properties.locale || 'en-US';\n        var recognizerConfig = new CognitiveSpeech.RecognizerConfig(new CognitiveSpeech.SpeechConfig(new CognitiveSpeech.Context(new CognitiveSpeech.OS(navigator.userAgent, \"Browser\", null), new CognitiveSpeech.Device(\"WebChat\", \"WebChat\", \"1.0.00000\"))), recognitionMode, // Speech.RecognitionMode.Interactive  (Options - Interactive/Conversation/Dictation>)\n        locale, // Supported laguages are specific to each recognition mode. Refer to docs.\n        format); // Speech.SpeechResultFormat.Simple (Options - Simple/Detailed)\n        var authentication;\n        if (properties.subscriptionKey) {\n            authentication = new CognitiveSpeech.CognitiveSubscriptionKeyAuthentication(properties.subscriptionKey);\n        }\n        else if (properties.fetchCallback && properties.fetchOnExpiryCallback) {\n            authentication = new CognitiveSpeech.CognitiveTokenAuthentication(function (authFetchEventId) {\n                var d = new CognitiveSpeech.Deferred();\n                _this.properties.fetchCallback(authFetchEventId).then(function (value) { return d.Resolve(value); }, function (err) { return d.Reject(err); });\n                return d.Promise();\n            }, function (authFetchEventId) {\n                var d = new CognitiveSpeech.Deferred();\n                _this.properties.fetchOnExpiryCallback(authFetchEventId).then(function (value) { return d.Resolve(value); }, function (err) { return d.Reject(err); });\n                return d.Promise();\n            });\n        }\n        else {\n            throw 'Error: The CognitiveServicesSpeechRecognizer requires either a subscriptionKey or a fetchCallback and fetchOnExpiryCallback.';\n        }\n        if (window.navigator.getUserMedia) {\n            this.actualRecognizer = CognitiveSpeech.CreateRecognizer(recognizerConfig, authentication);\n        }\n        else {\n            console.error(\"This browser does not support speech recognition\");\n        }\n    }\n    SpeechRecognizer.prototype.warmup = function () {\n    };\n    SpeechRecognizer.prototype.startRecognizing = function () {\n        var _this = this;\n        if (!this.actualRecognizer) {\n            this.log('ERROR: no recognizer?');\n            return;\n        }\n        var eventhandler = function (event) {\n            _this.log(event.Name);\n            switch (event.Name) {\n                case 'RecognitionTriggeredEvent':\n                case 'ListeningStartedEvent':\n                case 'SpeechStartDetectedEvent':\n                case 'SpeechEndDetectedEvent':\n                case 'SpeechDetailedPhraseEvent':\n                case 'ConnectingToServiceEvent':\n                    break;\n                case 'RecognitionStartedEvent':\n                    if (_this.onAudioStreamingToService) {\n                        _this.onAudioStreamingToService();\n                    }\n                    _this.isStreamingToService = true;\n                    break;\n                case 'SpeechHypothesisEvent':\n                    var hypothesisEvent = event;\n                    _this.log('Hypothesis Result: ' + hypothesisEvent.Result.Text);\n                    if (_this.onIntermediateResult) {\n                        _this.onIntermediateResult(hypothesisEvent.Result.Text);\n                    }\n                    break;\n                case 'SpeechSimplePhraseEvent':\n                    var simplePhraseEvent = event;\n                    if (CognitiveSpeech.RecognitionStatus[simplePhraseEvent.Result.RecognitionStatus] === CognitiveSpeech.RecognitionStatus.Success) {\n                        if (_this.onFinalResult) {\n                            _this.onFinalResult(simplePhraseEvent.Result.DisplayText);\n                        }\n                    }\n                    else {\n                        if (_this.onRecognitionFailed) {\n                            _this.onRecognitionFailed();\n                        }\n                        _this.log('Recognition Status: ' + simplePhraseEvent.Result.RecognitionStatus.toString());\n                    }\n                    break;\n                case 'RecognitionEndedEvent':\n                    _this.isStreamingToService = false;\n                    break;\n                default:\n                    _this.log(event.Name + \" is unexpected\");\n            }\n        };\n        var speechContext = null;\n        if (this.referenceGrammarId) {\n            speechContext = JSON.stringify({\n                dgi: {\n                    Groups: [\n                        {\n                            Type: \"Generic\",\n                            Hints: { ReferenceGrammar: this.referenceGrammarId }\n                        }\n                    ]\n                }\n            });\n        }\n        this.actualRecognizer.Recognize(eventhandler, speechContext);\n    };\n    SpeechRecognizer.prototype.speechIsAvailable = function () {\n        return this.actualRecognizer != null;\n    };\n    SpeechRecognizer.prototype.stopRecognizing = function () {\n        if (this.actualRecognizer != null) {\n            this.actualRecognizer.AudioSource.TurnOff();\n        }\n        this.isStreamingToService = false;\n    };\n    SpeechRecognizer.prototype.log = function (message) {\n        konsole.log('CognitiveServicesSpeechRecognizer: ' + message);\n    };\n    return SpeechRecognizer;\n}());\nexports.SpeechRecognizer = SpeechRecognizer;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar konsole = __webpack_require__(18);\nvar SynthesisGender;\n(function (SynthesisGender) {\n    SynthesisGender[SynthesisGender[\"Male\"] = 0] = \"Male\";\n    SynthesisGender[SynthesisGender[\"Female\"] = 1] = \"Female\";\n})(SynthesisGender = exports.SynthesisGender || (exports.SynthesisGender = {}));\n;\nvar SpeechSynthesizer = (function () {\n    function SpeechSynthesizer(properties) {\n        this._requestQueue = null;\n        this._isPlaying = false;\n        this._helper = new CognitiveServicesHelper(properties);\n        this._properties = properties;\n        this._requestQueue = new Array();\n    }\n    SpeechSynthesizer.prototype.speak = function (text, lang, onSpeakingStarted, onSpeakingFinished) {\n        var _this = this;\n        if (onSpeakingStarted === void 0) { onSpeakingStarted = null; }\n        if (onSpeakingFinished === void 0) { onSpeakingFinished = null; }\n        this._requestQueue.push({\n            isReadyToPlay: false,\n            data: null,\n            text: text,\n            locale: lang,\n            onSpeakingStarted: onSpeakingStarted,\n            onSpeakingFinished: onSpeakingFinished\n        });\n        this.getSpeechData().then(function () {\n            _this.playAudio();\n        });\n    };\n    SpeechSynthesizer.prototype.stopSpeaking = function () {\n        if (this._isPlaying) {\n            this._requestQueue = [];\n            this._isPlaying = false;\n            if (this._audioElement && this._audioElement.state !== \"closed\") {\n                this._audioElement.close();\n            }\n        }\n    };\n    SpeechSynthesizer.prototype.playAudio = function () {\n        var _this = this;\n        if (this._requestQueue.length == 0) {\n            return;\n        }\n        var top = this._requestQueue[0];\n        if (!top) {\n            return;\n        }\n        if (!top.isReadyToPlay) {\n            window.setTimeout(function () { return _this.playAudio(); }, 100);\n            return;\n        }\n        if (!this._isPlaying) {\n            this._isPlaying = true;\n            if (!this._audioElement || this._audioElement.state === \"closed\") {\n                this._audioElement = new AudioContext();\n            }\n            this._audioElement.decodeAudioData(top.data, function (buffer) {\n                var source = _this._audioElement.createBufferSource();\n                source.buffer = buffer;\n                source.connect(_this._audioElement.destination);\n                if (top.onSpeakingStarted) {\n                    top.onSpeakingStarted();\n                }\n                source.start(0);\n                source.onended = function (event) {\n                    _this._isPlaying = false;\n                    if (top.onSpeakingFinished) {\n                        top.onSpeakingFinished();\n                    }\n                    _this._requestQueue = _this._requestQueue.slice(1, _this._requestQueue.length);\n                    if (_this._requestQueue.length > 0) {\n                        _this.playAudio();\n                    }\n                };\n            }, function (ex) {\n                _this.log(ex.message);\n                _this._isPlaying = false;\n                _this._requestQueue = _this._requestQueue.slice(1, _this._requestQueue.length);\n                if (_this._requestQueue.length > 0) {\n                    _this.playAudio();\n                }\n            });\n        }\n    };\n    SpeechSynthesizer.prototype.getSpeechData = function () {\n        var _this = this;\n        if (this._requestQueue.length == 0) {\n            return;\n        }\n        var latest = this._requestQueue[this._requestQueue.length - 1];\n        return this._helper.fetchSpeechData(latest.text, latest.locale, this._properties).then(function (result) {\n            latest.data = result;\n            latest.isReadyToPlay = true;\n        }, function (ex) {\n            // Failed to get the speech data, ignore this item\n            _this.log(ex);\n            _this._requestQueue = _this._requestQueue.slice(0, _this._requestQueue.length - 1);\n        });\n    };\n    SpeechSynthesizer.prototype.log = function (message) {\n        konsole.log('CognitiveServicesSpeechSynthesis: ' + message);\n    };\n    return SpeechSynthesizer;\n}());\nexports.SpeechSynthesizer = SpeechSynthesizer;\nvar CognitiveServicesHelper = (function () {\n    function CognitiveServicesHelper(props) {\n        var _this = this;\n        this._tokenURL = \"https://api.cognitive.microsoft.com/sts/v1.0/issueToken\";\n        this._synthesisURL = \"https://speech.platform.bing.com/synthesize\";\n        this._outputFormat = \"riff-16khz-16bit-mono-pcm\";\n        // source: https://docs.microsoft.com/en-us/azure/cognitive-services/speech/api-reference-rest/bingvoiceoutput\n        this._femaleVoiceMap = {\n            \"ar-eg\": \"Microsoft Server Speech Text to Speech Voice (ar-EG, Hoda)\",\n            \"ca-es\": \"Microsoft Server Speech Text to Speech Voice (ca-ES, HerenaRUS)\",\n            \"da-dk\": \"Microsoft Server Speech Text to Speech Voice (da-DK, HelleRUS)\",\n            \"de-de\": \"Microsoft Server Speech Text to Speech Voice (de-DE, Hedda)\",\n            \"en-au\": \"Microsoft Server Speech Text to Speech Voice (en-AU, Catherine)\",\n            \"en-ca\": \"Microsoft Server Speech Text to Speech Voice (en-CA, Linda)\",\n            \"en-gb\": \"Microsoft Server Speech Text to Speech Voice (en-GB, Susan, Apollo)\",\n            \"en-in\": \"Microsoft Server Speech Text to Speech Voice (en-IN, Heera, Apollo)\",\n            \"en-us\": \"Microsoft Server Speech Text to Speech Voice (en-US, ZiraRUS)\",\n            \"es-es\": \"Microsoft Server Speech Text to Speech Voice (es-ES, Laura, Apollo)\",\n            \"es-mx\": \"Microsoft Server Speech Text to Speech Voice (es-MX, HildaRUS)\",\n            \"fi-fi\": \"Microsoft Server Speech Text to Speech Voice (fi-FI, HeidiRUS)\",\n            \"fr-ca\": \"Microsoft Server Speech Text to Speech Voice (fr-CA, Caroline)\",\n            \"fr-fr\": \"Microsoft Server Speech Text to Speech Voice (fr-FR, Julie, Apollo)\",\n            \"hi-in\": \"Microsoft Server Speech Text to Speech Voice (hi-IN, Kalpana, Apollo)\",\n            \"ja-jp\": \"Microsoft Server Speech Text to Speech Voice (ja-JP, Ayumi, Apollo)\",\n            \"ko-kr\": \"Microsoft Server Speech Text to Speech Voice (ko-KR, HeamiRUS)\",\n            \"nb-no\": \"Microsoft Server Speech Text to Speech Voice (nb-NO, HuldaRUS)\",\n            \"nl-nl\": \"Microsoft Server Speech Text to Speech Voice (nl-NL, HannaRUS)\",\n            \"pl-pl\": \"Microsoft Server Speech Text to Speech Voice (pl-PL, PaulinaRUS)\",\n            \"pt-br\": \"Microsoft Server Speech Text to Speech Voice (pt-BR, HeloisaRUS)\",\n            \"pt-pt\": \"Microsoft Server Speech Text to Speech Voice (pt-PT, HeliaRUS)\",\n            \"ru-ru\": \"Microsoft Server Speech Text to Speech Voice (ru-RU, Irina, Apollo)\",\n            \"sv-se\": \"Microsoft Server Speech Text to Speech Voice (sv-SE, HedvigRUS)\",\n            \"tr-tr\": \"Microsoft Server Speech Text to Speech Voice (tr-TR, SedaRUS)\",\n            \"zh-cn\": \"Microsoft Server Speech Text to Speech Voice (zh-CN, HuihuiRUS)\",\n            \"zh-hk\": \"Microsoft Server Speech Text to Speech Voice (zh-HK, Tracy, Apollo)\",\n            \"zh-tw\": \"Microsoft Server Speech Text to Speech Voice (zh-TW, Yating, Apollo)\"\n        };\n        this._maleVoiceMap = {\n            \"ar-sa\": \"Microsoft Server Speech Text to Speech Voice (ar-SA, Naayf)\",\n            \"cs-cz\": \"Microsoft Server Speech Text to Speech Voice (cs-CZ, Vit)\",\n            \"de-at\": \"Microsoft Server Speech Text to Speech Voice (de-AT, Michael)\",\n            \"de-ch\": \"Microsoft Server Speech Text to Speech Voice (de-CH, Karsten)\",\n            \"de-de\": \"Microsoft Server Speech Text to Speech Voice (de-DE, Stefan, Apollo)\",\n            \"el-gr\": \"Microsoft Server Speech Text to Speech Voice (el-GR, Stefanos)\",\n            \"en-gb\": \"Microsoft Server Speech Text to Speech Voice (en-GB, George, Apollo)\",\n            \"en-ie\": \"Microsoft Server Speech Text to Speech Voice (en-IE, Shaun)\",\n            \"en-in\": \"Microsoft Server Speech Text to Speech Voice (en-IN, Ravi, Apollo)\",\n            \"en-us\": \"Microsoft Server Speech Text to Speech Voice (en-US, BenjaminRUS)\",\n            \"es-es\": \"Microsoft Server Speech Text to Speech Voice (es-ES, Pablo, Apollo)\",\n            \"es-mx\": \"Microsoft Server Speech Text to Speech Voice (es-MX, Raul, Apollo)\",\n            \"fr-ch\": \"Microsoft Server Speech Text to Speech Voice (fr-CH, Guillaume)\",\n            \"fr-fr\": \"Microsoft Server Speech Text to Speech Voice (fr-FR, Paul, Apollo)\",\n            \"he-il\": \"Microsoft Server Speech Text to Speech Voice (he-IL, Asaf)\",\n            \"hi-in\": \"Microsoft Server Speech Text to Speech Voice (hi-IN, Hemant)\",\n            \"hu-hu\": \"Microsoft Server Speech Text to Speech Voice (hu-HU, Szabolcs)\",\n            \"id-id\": \"Microsoft Server Speech Text to Speech Voice (id-ID, Andika)\",\n            \"it-it\": \"Microsoft Server Speech Text to Speech Voice (it-IT, Cosimo, Apollo)\",\n            \"ja-jp\": \"Microsoft Server Speech Text to Speech Voice (ja-JP, Ichiro, Apollo)\",\n            \"pt-br\": \"Microsoft Server Speech Text to Speech Voice (pt-BR, Daniel, Apollo)\",\n            \"ro-ro\": \"Microsoft Server Speech Text to Speech Voice (ro-RO, Andrei)\",\n            \"ru-ru\": \"Microsoft Server Speech Text to Speech Voice (ru-RU, Pavel, Apollo)\",\n            \"sk-sk\": \"Microsoft Server Speech Text to Speech Voice (sk-SK, Filip)\",\n            \"th-th\": \"Microsoft Server Speech Text to Speech Voice (th-TH, Pattara)\",\n            \"zh-cn\": \"Microsoft Server Speech Text to Speech Voice (zh-CN, Kangkang, Apollo)\",\n            \"zh-hk\": \"Microsoft Server Speech Text to Speech Voice (zh-HK, Danny, Apollo)\",\n            \"zh-tw\": \"Microsoft Server Speech Text to Speech Voice (zh-TW, Zhiwei, Apollo)\"\n        };\n        if (props.subscriptionKey) {\n            this._tokenCallback = function (id) { return _this.fetchSpeechToken(id); };\n            this._tokenExpiredCallback = function (id) { return _this.fetchSpeechToken(id); };\n        }\n        else if (props.fetchCallback && props.fetchOnExpiryCallback) {\n            this._tokenCallback = props.fetchCallback;\n            this._tokenExpiredCallback = props.fetchOnExpiryCallback;\n        }\n        else {\n            throw 'Error: The CognitiveServicesSpeechSynthesis requires either a subscriptionKey or a fetchCallback and a fetchOnExpiryCallback.';\n        }\n    }\n    CognitiveServicesHelper.prototype.fetchSpeechData = function (text, locale, synthesisProperties) {\n        var _this = this;\n        var SSML = this.makeSSML(text, locale, synthesisProperties);\n        var cbAfterToken = function (token) {\n            _this._lastTokenTime = Date.now();\n            var optionalHeaders = [{ name: \"Content-type\", value: 'application/ssml+xml' },\n                { name: \"X-Microsoft-OutputFormat\", value: _this._outputFormat },\n                { name: \"Authorization\", value: token }];\n            return _this.makeHttpCall(\"POST\", _this._synthesisURL, true, optionalHeaders, SSML);\n        };\n        if (Date.now() - this._lastTokenTime > 500000) {\n            return this._tokenExpiredCallback(synthesisProperties.subscriptionKey).then(function (token) { return cbAfterToken(token); });\n        }\n        else {\n            return this._tokenCallback(synthesisProperties.subscriptionKey).then(function (token) { return cbAfterToken(token); });\n        }\n    };\n    CognitiveServicesHelper.prototype.makeSSML = function (text, locale, synthesisProperties) {\n        if (text.indexOf(\"<speak\") === 0) {\n            return this.processSSML(text, synthesisProperties);\n        }\n        else {\n            var ssml = \"<speak version='1.0' xml:lang='\" + locale + \"'><voice xml:lang='\" + locale + \"' xml:gender='\" + (synthesisProperties && synthesisProperties.gender ? SynthesisGender[synthesisProperties.gender] : \"Female\") + \"' name='\";\n            if (synthesisProperties.voiceName) {\n                ssml += synthesisProperties.voiceName;\n            }\n            else if (synthesisProperties.gender !== null && synthesisProperties.gender !== undefined) {\n                ssml += this.fetchVoiceName(locale, synthesisProperties.gender);\n            }\n            else {\n                ssml += this.fetchVoiceName(locale, SynthesisGender.Female);\n            }\n            return ssml + \"'>\" + this.encodeHTML(text) + \"</voice></speak>\";\n        }\n    };\n    CognitiveServicesHelper.prototype.processSSML = function (ssml, synthesisProperties) {\n        var processDone = false;\n        // Extract locale info from ssml\n        var locale;\n        var match = /xml:lang=['\"](\\w\\w-\\w\\w)['\"]/.exec(ssml);\n        if (match) {\n            locale = match[1];\n        }\n        else {\n            locale = \"en-us\";\n        }\n        // Extract gender from properties\n        var gender = synthesisProperties && synthesisProperties.gender;\n        if (gender === null || gender === undefined) {\n            gender = SynthesisGender.Female;\n        }\n        var parser = new DOMParser();\n        var dom = parser.parseFromString(ssml, 'text/xml');\n        var nodes = dom.documentElement.childNodes;\n        // Check if there is a voice node\n        for (var i = 0; i < nodes.length; ++i) {\n            if (nodes[i].nodeName === \"voice\") {\n                // Check if there is a name attribute on voice element\n                for (var j = 0; j < nodes[i].attributes.length; ++j) {\n                    if (nodes[i].attributes[j].nodeName === \"name\") {\n                        // Name attribute is found on voice element, use it directly\n                        processDone = true;\n                        break;\n                    }\n                    // Find the gender info from voice element, this will override what is in the properties\n                    if (nodes[i].attributes[j].nodeName === \"xml:gender\") {\n                        gender = nodes[i].attributes[j].nodeValue.toLowerCase() === 'male' ? SynthesisGender.Male : SynthesisGender.Female;\n                    }\n                }\n                if (!processDone) {\n                    // Otherwise add the name attribute based on locale and gender\n                    var attribute = dom.createAttribute(\"name\");\n                    attribute.value = (synthesisProperties && synthesisProperties.voiceName) || this.fetchVoiceName(locale, gender);\n                    nodes[i].attributes.setNamedItem(attribute);\n                    processDone = true;\n                }\n                break;\n            }\n        }\n        var serializer = new XMLSerializer();\n        if (!processDone) {\n            // There is no voice element, add one based on locale\n            var voiceNode = dom.createElement(\"voice\");\n            var attribute = dom.createAttribute(\"name\");\n            attribute.value = (synthesisProperties && synthesisProperties.voiceName) || this.fetchVoiceName(locale, gender);\n            voiceNode.attributes.setNamedItem(attribute);\n            while (nodes.length > 0) {\n                voiceNode.appendChild(dom.documentElement.firstChild);\n            }\n            dom.documentElement.appendChild(voiceNode);\n        }\n        return serializer.serializeToString(dom);\n    };\n    CognitiveServicesHelper.prototype.encodeHTML = function (text) {\n        return text.replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&apos;');\n    };\n    CognitiveServicesHelper.prototype.fetchSpeechToken = function (apiKey) {\n        var optionalHeaders = [{ name: \"Ocp-Apim-Subscription-Key\", value: apiKey },\n            // required for Firefox otherwise a CORS error is raised\n            { name: \"Access-Control-Allow-Origin\", value: \"*\" }];\n        return this.makeHttpCall(\"POST\", this._tokenURL, false, optionalHeaders).then(function (text) {\n            konsole.log(\"New authentication token generated.\");\n            return Promise.resolve(text);\n        }, function (ex) {\n            var reason = \"Failed to generate authentication token\";\n            konsole.log(reason);\n            return Promise.reject(reason);\n        });\n    };\n    CognitiveServicesHelper.prototype.makeHttpCall = function (actionType, url, isArrayBuffer, optionalHeaders, dataToSend) {\n        if (isArrayBuffer === void 0) { isArrayBuffer = false; }\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            if (isArrayBuffer) {\n                xhr.responseType = 'arraybuffer';\n            }\n            xhr.onreadystatechange = function (event) {\n                if (xhr.readyState !== 4)\n                    return;\n                if (xhr.status >= 200 && xhr.status < 300) {\n                    if (!isArrayBuffer) {\n                        resolve(xhr.responseText);\n                    }\n                    else {\n                        resolve(xhr.response);\n                    }\n                }\n                else {\n                    reject(xhr.status);\n                }\n            };\n            try {\n                xhr.open(actionType, url, true);\n                if (optionalHeaders) {\n                    optionalHeaders.forEach(function (header) {\n                        xhr.setRequestHeader(header.name, header.value);\n                    });\n                }\n                if (dataToSend) {\n                    xhr.send(dataToSend);\n                }\n                else {\n                    xhr.send();\n                }\n            }\n            catch (ex) {\n                reject(ex);\n            }\n        });\n    };\n    CognitiveServicesHelper.prototype.fetchVoiceName = function (locale, gender) {\n        var voiceName;\n        var localeLowerCase = locale.toLowerCase();\n        if (gender === SynthesisGender.Female) {\n            voiceName = this._femaleVoiceMap[localeLowerCase] || this._femaleVoiceMap[\"en-us\"];\n        }\n        else {\n            voiceName = this._maleVoiceMap[localeLowerCase] || this._maleVoiceMap[\"en-us\"];\n        }\n        return voiceName;\n    };\n    return CognitiveServicesHelper;\n}());\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(4);\nvar Exports_2 = __webpack_require__(0);\n// Common.Storage.SetLocalStorage(new Common.Browser.LocalStorage());\n// Common.Storage.SetSessionStorage(new Common.Browser.SessionStorage());\nExports_2.Events.Instance.AttachListener(new Exports_1.ConsoleLoggingListener());\n__export(__webpack_require__(0));\n__export(__webpack_require__(4));\n__export(__webpack_require__(6));\n__export(__webpack_require__(48));\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar ConsoleLoggingListener = (function () {\n    function ConsoleLoggingListener(logLevelFilter) {\n        if (logLevelFilter === void 0) { logLevelFilter = Exports_1.EventType.Warning; }\n        var _this = this;\n        this.OnEvent = function (event) {\n            if (event.EventType >= _this.logLevelFilter) {\n                var log = _this.ToString(event);\n                switch (event.EventType) {\n                    case Exports_1.EventType.Debug:\n                        // tslint:disable-next-line:no-console\n                        console.debug(log);\n                        break;\n                    case Exports_1.EventType.Info:\n                        // tslint:disable-next-line:no-console\n                        console.info(log);\n                        break;\n                    case Exports_1.EventType.Warning:\n                        // tslint:disable-next-line:no-console\n                        console.warn(log);\n                        break;\n                    case Exports_1.EventType.Error:\n                        // tslint:disable-next-line:no-console\n                        console.error(log);\n                        break;\n                    default:\n                        // tslint:disable-next-line:no-console\n                        console.log(log);\n                        break;\n                }\n            }\n        };\n        this.ToString = function (event) {\n            var logFragments = [\n                \"\" + event.EventTime,\n            ];\n            if (event.constructor && event.constructor.name) {\n                logFragments.push(\"\" + event.constructor.name);\n            }\n            for (var prop in event) {\n                if (prop && prop !== \"EventTime\" && prop !== \"EventType\" && prop !== \"EventId\" && prop !== \"constructor\") {\n                    var value = event[prop];\n                    var valueToLog = \"<NULL>\";\n                    if (value !== undefined && value !== null) {\n                        if (typeof (value) === \"number\" || typeof (value) === \"string\") {\n                            valueToLog = value.toString();\n                        }\n                        else {\n                            valueToLog = JSON.stringify(value);\n                        }\n                    }\n                    logFragments.push(prop + \": \" + valueToLog);\n                }\n            }\n            return logFragments.join(\" | \");\n        };\n        this.logLevelFilter = logLevelFilter;\n    }\n    return ConsoleLoggingListener;\n}());\nexports.ConsoleLoggingListener = ConsoleLoggingListener;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar LocalStorage = (function () {\n    function LocalStorage() {\n        this.Get = function (key) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            return localStorage.getItem(key);\n        };\n        this.GetOrAdd = function (key, valueToAdd) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            var value = localStorage.getItem(key);\n            if (value === null || value === undefined) {\n                localStorage.setItem(key, valueToAdd);\n            }\n            return localStorage.getItem(key);\n        };\n        this.Set = function (key, value) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            localStorage.setItem(key, value);\n        };\n        this.Remove = function (key) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            localStorage.removeItem(key);\n        };\n    }\n    return LocalStorage;\n}());\nexports.LocalStorage = LocalStorage;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar MicAudioSource = (function () {\n    function MicAudioSource(recorder, audioSourceId) {\n        var _this = this;\n        this.streams = {};\n        this.TurnOn = function () {\n            if (_this.initializeDeferral) {\n                return _this.initializeDeferral.Promise();\n            }\n            _this.initializeDeferral = new Exports_1.Deferred();\n            var nav = window.navigator;\n            window.navigator.getUserMedia = (window.navigator.getUserMedia ||\n                window.navigator.webkitGetUserMedia ||\n                window.navigator.mozGetUserMedia ||\n                window.navigator.msGetUserMedia);\n            if (!window.navigator.getUserMedia) {\n                var errorMsg = \"Browser doesnot support getUserMedia.\";\n                _this.initializeDeferral.Reject(errorMsg);\n                _this.OnEvent(new Exports_1.AudioSourceErrorEvent(errorMsg, \"\")); // mic initialized error - no streamid at this point\n            }\n            else {\n                _this.OnEvent(new Exports_1.AudioSourceInitializingEvent(_this.id)); // no stream id\n                window.navigator.getUserMedia({ audio: true }, function (mediaStream) {\n                    _this.mediaStream = mediaStream;\n                    _this.OnEvent(new Exports_1.AudioSourceReadyEvent(_this.id));\n                    _this.initializeDeferral.Resolve(true);\n                }, function (error) {\n                    var errorMsg = \"Error occured processing the user media stream. \" + error;\n                    _this.initializeDeferral.Reject(errorMsg);\n                    _this.OnEvent(new Exports_1.AudioSourceErrorEvent(_this.id, errorMsg));\n                });\n            }\n            return _this.initializeDeferral.Promise();\n        };\n        this.Id = function () {\n            return _this.id;\n        };\n        this.Attach = function (audioNodeId) {\n            _this.OnEvent(new Exports_1.AudioStreamNodeAttachingEvent(_this.id, audioNodeId));\n            return _this.Listen(audioNodeId).OnSuccessContinueWith(function (streamReader) {\n                _this.OnEvent(new Exports_1.AudioStreamNodeAttachedEvent(_this.id, audioNodeId));\n                return {\n                    Detach: function () {\n                        streamReader.Close();\n                        delete _this.streams[audioNodeId];\n                        _this.OnEvent(new Exports_1.AudioStreamNodeDetachedEvent(_this.id, audioNodeId));\n                        _this.TurnOff();\n                    },\n                    Id: function () {\n                        return audioNodeId;\n                    },\n                    Read: function () {\n                        return streamReader.Read();\n                    },\n                };\n            });\n        };\n        this.Detach = function (audioNodeId) {\n            if (audioNodeId && _this.streams[audioNodeId]) {\n                _this.streams[audioNodeId].Close();\n                delete _this.streams[audioNodeId];\n                _this.OnEvent(new Exports_1.AudioStreamNodeDetachedEvent(_this.id, audioNodeId));\n            }\n        };\n        this.TurnOff = function () {\n            for (var streamId in _this.streams) {\n                if (streamId) {\n                    var stream = _this.streams[streamId];\n                    if (stream) {\n                        stream.Close();\n                    }\n                }\n            }\n            _this.recorder.ReleaseMediaResources();\n            _this.OnEvent(new Exports_1.AudioSourceOffEvent(_this.id)); // no stream now\n            _this.initializeDeferral = null;\n            return Exports_1.PromiseHelper.FromResult(true);\n        };\n        this.Listen = function (audioNodeId) {\n            return _this.TurnOn()\n                .OnSuccessContinueWith(function (_) {\n                var stream = new Exports_1.Stream(audioNodeId);\n                _this.streams[audioNodeId] = stream;\n                try {\n                    _this.recorder.Record(_this.mediaStream, stream);\n                }\n                catch (error) {\n                    var errorMsg = \"Error occured processing the user media stream. \" + error;\n                    _this.initializeDeferral.Reject(errorMsg);\n                    _this.OnEvent(new Exports_1.AudioStreamNodeErrorEvent(_this.id, audioNodeId, error));\n                }\n                return stream.GetReader();\n            });\n        };\n        this.OnEvent = function (event) {\n            _this.events.OnEvent(event);\n            Exports_1.Events.Instance.OnEvent(event);\n        };\n        this.id = audioSourceId ? audioSourceId : Exports_1.CreateNoDashGuid();\n        this.events = new Exports_1.EventSource();\n        this.recorder = recorder;\n    }\n    Object.defineProperty(MicAudioSource.prototype, \"Events\", {\n        get: function () {\n            return this.events;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MicAudioSource;\n}());\nexports.MicAudioSource = MicAudioSource;\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar OpusRecorder = (function () {\n    function OpusRecorder(options) {\n        var _this = this;\n        this.Record = function (mediaStream, outputStream) {\n            var mediaRecorder = new MediaRecorder(mediaStream, _this.mediaRecorderOptions);\n            var timeslice = 100; // this is in ms - 100 ensures that the chunk doesn't exceed the max size of chunk allowed in WS connection\n            mediaRecorder.ondataavailable = function (dataAvailableEvent) {\n                if (outputStream) {\n                    var reader_1 = new FileReader();\n                    reader_1.readAsArrayBuffer(dataAvailableEvent.data);\n                    reader_1.onloadend = function (event) {\n                        outputStream.Write(reader_1.result);\n                    };\n                }\n            };\n            _this.mediaResources = {\n                recorder: mediaRecorder,\n                stream: mediaStream,\n            };\n            mediaRecorder.start(timeslice);\n        };\n        this.ReleaseMediaResources = function () {\n            if (_this.mediaResources.recorder.state !== \"inactive\") {\n                _this.mediaResources.recorder.stop();\n            }\n            _this.mediaResources.stream.getTracks().forEach(function (track) { return track.stop(); });\n        };\n        this.mediaRecorderOptions = options;\n    }\n    return OpusRecorder;\n}());\nexports.OpusRecorder = OpusRecorder;\n/* Declaring this inline to avoid compiler warnings\ndeclare class MediaRecorder {\n    constructor(mediaStream: MediaStream, options: any);\n\n    public state: string;\n\n    public ondataavailable(dataAvailableEvent: any): void;\n    public stop(): void;\n}*/\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar PcmRecorder = (function () {\n    function PcmRecorder() {\n        var _this = this;\n        this.Record = function (mediaStream, outputStream) {\n            // https://developer.mozilla.org/en-US/docs/Web/API/AudioContext\n            var audioContext = new AudioContext();\n            // https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createMediaStreamSource\n            var mediaStreamSource = audioContext.createMediaStreamSource(mediaStream);\n            var desiredSampleRate = 16000;\n            // let compressionRatio = mediaStreamSource.context.sampleRate / desiredSampleRate;\n            var bufferSize = 2048;\n            var isFirstFrameWritten = false;\n            if (desiredSampleRate * 4 <= mediaStreamSource.context.sampleRate) {\n                bufferSize = 8192;\n            }\n            else if (desiredSampleRate * 2 <= mediaStreamSource.context.sampleRate) {\n                bufferSize = 4096;\n            }\n            // https://developer.mozilla.org/en-US/docs/Web/API/AudioContext/createScriptProcessor\n            var scriptNode = mediaStreamSource.context.createScriptProcessor(bufferSize, 1, 1);\n            var waveStreamEncoder = new Exports_1.RiffPcmEncoder(mediaStreamSource.context.sampleRate, desiredSampleRate);\n            scriptNode.onaudioprocess = function (audioProcessingEvent) {\n                var monoAudioChunk = audioProcessingEvent.inputBuffer.getChannelData(0);\n                var encodedAudioFrameWithRiffHeader;\n                var encodedAudioFrame;\n                if (outputStream) {\n                    if (isFirstFrameWritten) {\n                        if (!encodedAudioFrame) {\n                            encodedAudioFrame = waveStreamEncoder.Encode(false, monoAudioChunk);\n                        }\n                        outputStream.Write(encodedAudioFrame);\n                    }\n                    else {\n                        if (!encodedAudioFrameWithRiffHeader) {\n                            encodedAudioFrameWithRiffHeader =\n                                waveStreamEncoder.Encode(true, monoAudioChunk);\n                        }\n                        outputStream.Write(encodedAudioFrameWithRiffHeader);\n                        isFirstFrameWritten = true;\n                    }\n                }\n            };\n            _this.mediaResources = {\n                context: audioContext,\n                scriptProcessorNode: scriptNode,\n                source: mediaStreamSource,\n                stream: mediaStream,\n            };\n            mediaStreamSource.connect(scriptNode);\n            scriptNode.connect(mediaStreamSource.context.destination);\n        };\n        this.ReleaseMediaResources = function () {\n            if (_this.mediaResources) {\n                if (_this.mediaResources.scriptProcessorNode) {\n                    _this.mediaResources.scriptProcessorNode.disconnect();\n                    _this.mediaResources.scriptProcessorNode = null;\n                }\n                if (_this.mediaResources.source) {\n                    _this.mediaResources.source.disconnect();\n                    _this.mediaResources.stream.getTracks().forEach(function (track) { return track.stop(); });\n                    _this.mediaResources.source = null;\n                }\n                if (_this.mediaResources.context && _this.mediaResources.context.state !== \"closed\") {\n                    _this.mediaResources.context.close();\n                }\n            }\n        };\n    }\n    return PcmRecorder;\n}());\nexports.PcmRecorder = PcmRecorder;\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar SessionStorage = (function () {\n    function SessionStorage() {\n        this.Get = function (key) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            return sessionStorage.getItem(key);\n        };\n        this.GetOrAdd = function (key, valueToAdd) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            var value = sessionStorage.getItem(key);\n            if (value === null || value === undefined) {\n                sessionStorage.setItem(key, valueToAdd);\n            }\n            return sessionStorage.getItem(key);\n        };\n        this.Set = function (key, value) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            sessionStorage.setItem(key, value);\n        };\n        this.Remove = function (key) {\n            if (!key) {\n                throw new Exports_1.ArgumentNullError(\"key\");\n            }\n            sessionStorage.removeItem(key);\n        };\n    }\n    return SessionStorage;\n}());\nexports.SessionStorage = SessionStorage;\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Timer = (function () {\n    function Timer(delayInMillisec, successCallback) {\n        var _this = this;\n        this.start = function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            if (_this.timerId) {\n                _this.stop();\n            }\n            _this.timerId = setTimeout(_this.successCallback, _this.delayInMillisec, params);\n        };\n        this.stop = function () {\n            clearTimeout(_this.timerId);\n        };\n        this.delayInMillisec = delayInMillisec;\n        this.successCallback = successCallback;\n    }\n    return Timer;\n}());\nexports.Timer = Timer;\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar WebsocketMessageAdapter_1 = __webpack_require__(9);\nvar WebsocketConnection = (function () {\n    function WebsocketConnection(uri, queryParameters, headers, messageFormatter, connectionId) {\n        var _this = this;\n        this.isDisposed = false;\n        this.Dispose = function () {\n            _this.isDisposed = true;\n            if (_this.connectionMessageAdapter) {\n                _this.connectionMessageAdapter.Close();\n            }\n        };\n        this.IsDisposed = function () {\n            return _this.isDisposed;\n        };\n        this.State = function () {\n            return _this.connectionMessageAdapter.State;\n        };\n        this.Open = function () {\n            return _this.connectionMessageAdapter.Open();\n        };\n        this.Send = function (message) {\n            return _this.connectionMessageAdapter.Send(message);\n        };\n        this.Read = function () {\n            return _this.connectionMessageAdapter.Read();\n        };\n        if (!uri) {\n            throw new Exports_1.ArgumentNullError(\"uri\");\n        }\n        if (!messageFormatter) {\n            throw new Exports_1.ArgumentNullError(\"messageFormatter\");\n        }\n        this.messageFormatter = messageFormatter;\n        var queryParams = \"\";\n        var i = 0;\n        if (queryParameters) {\n            for (var paramName in queryParameters) {\n                if (paramName) {\n                    queryParams += i === 0 ? \"?\" : \"&\";\n                    var val = encodeURIComponent(queryParameters[paramName]);\n                    queryParams += paramName + \"=\" + val;\n                    i++;\n                }\n            }\n        }\n        if (headers) {\n            for (var headerName in headers) {\n                if (headerName) {\n                    queryParams += i === 0 ? \"?\" : \"&\";\n                    var val = encodeURIComponent(headers[headerName]);\n                    queryParams += headerName + \"=\" + val;\n                    i++;\n                }\n            }\n        }\n        this.uri = uri + queryParams;\n        this.id = connectionId ? connectionId : Exports_1.CreateNoDashGuid();\n        this.connectionMessageAdapter = new WebsocketMessageAdapter_1.WebsocketMessageAdapter(this.uri, this.Id, this.messageFormatter);\n    }\n    Object.defineProperty(WebsocketConnection.prototype, \"Id\", {\n        get: function () {\n            return this.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(WebsocketConnection.prototype, \"Events\", {\n        get: function () {\n            return this.connectionMessageAdapter.Events;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return WebsocketConnection;\n}());\nexports.WebsocketConnection = WebsocketConnection;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(3);\nvar PlatformEvent_1 = __webpack_require__(5);\nvar AudioSourceEvent = (function (_super) {\n    tslib_1.__extends(AudioSourceEvent, _super);\n    function AudioSourceEvent(audioSourceId, eventType) {\n        if (eventType === void 0) { eventType = PlatformEvent_1.EventType.Info; }\n        var _this = _super.call(this, eventType) || this;\n        _this.audioSourceId = audioSourceId;\n        return _this;\n    }\n    Object.defineProperty(AudioSourceEvent.prototype, \"AudioSourceId\", {\n        get: function () {\n            return this.audioSourceId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AudioSourceEvent;\n}(PlatformEvent_1.PlatformEvent));\nexports.AudioSourceEvent = AudioSourceEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioSourceInitializingEvent = (function (_super) {\n    tslib_1.__extends(AudioSourceInitializingEvent, _super);\n    function AudioSourceInitializingEvent(audioSourceId) {\n        return _super.call(this, audioSourceId) || this;\n    }\n    return AudioSourceInitializingEvent;\n}(AudioSourceEvent));\nexports.AudioSourceInitializingEvent = AudioSourceInitializingEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioSourceReadyEvent = (function (_super) {\n    tslib_1.__extends(AudioSourceReadyEvent, _super);\n    function AudioSourceReadyEvent(audioSourceId) {\n        return _super.call(this, audioSourceId) || this;\n    }\n    return AudioSourceReadyEvent;\n}(AudioSourceEvent));\nexports.AudioSourceReadyEvent = AudioSourceReadyEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioSourceOffEvent = (function (_super) {\n    tslib_1.__extends(AudioSourceOffEvent, _super);\n    function AudioSourceOffEvent(audioSourceId) {\n        return _super.call(this, audioSourceId) || this;\n    }\n    return AudioSourceOffEvent;\n}(AudioSourceEvent));\nexports.AudioSourceOffEvent = AudioSourceOffEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioSourceErrorEvent = (function (_super) {\n    tslib_1.__extends(AudioSourceErrorEvent, _super);\n    function AudioSourceErrorEvent(audioSourceId, error) {\n        var _this = _super.call(this, audioSourceId, PlatformEvent_1.EventType.Error) || this;\n        _this.error = error;\n        return _this;\n    }\n    Object.defineProperty(AudioSourceErrorEvent.prototype, \"Error\", {\n        get: function () {\n            return this.error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AudioSourceErrorEvent;\n}(AudioSourceEvent));\nexports.AudioSourceErrorEvent = AudioSourceErrorEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeEvent = (function (_super) {\n    tslib_1.__extends(AudioStreamNodeEvent, _super);\n    function AudioStreamNodeEvent(audioSourceId, audioNodeId) {\n        var _this = _super.call(this, audioSourceId) || this;\n        _this.audioNodeId = audioNodeId;\n        return _this;\n    }\n    Object.defineProperty(AudioStreamNodeEvent.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AudioStreamNodeEvent;\n}(AudioSourceEvent));\nexports.AudioStreamNodeEvent = AudioStreamNodeEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeAttachingEvent = (function (_super) {\n    tslib_1.__extends(AudioStreamNodeAttachingEvent, _super);\n    function AudioStreamNodeAttachingEvent(audioSourceId, audioNodeId) {\n        return _super.call(this, audioSourceId, audioNodeId) || this;\n    }\n    return AudioStreamNodeAttachingEvent;\n}(AudioStreamNodeEvent));\nexports.AudioStreamNodeAttachingEvent = AudioStreamNodeAttachingEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeAttachedEvent = (function (_super) {\n    tslib_1.__extends(AudioStreamNodeAttachedEvent, _super);\n    function AudioStreamNodeAttachedEvent(audioSourceId, audioNodeId) {\n        return _super.call(this, audioSourceId, audioNodeId) || this;\n    }\n    return AudioStreamNodeAttachedEvent;\n}(AudioStreamNodeEvent));\nexports.AudioStreamNodeAttachedEvent = AudioStreamNodeAttachedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeDetachedEvent = (function (_super) {\n    tslib_1.__extends(AudioStreamNodeDetachedEvent, _super);\n    function AudioStreamNodeDetachedEvent(audioSourceId, audioNodeId) {\n        return _super.call(this, audioSourceId, audioNodeId) || this;\n    }\n    return AudioStreamNodeDetachedEvent;\n}(AudioStreamNodeEvent));\nexports.AudioStreamNodeDetachedEvent = AudioStreamNodeDetachedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar AudioStreamNodeErrorEvent = (function (_super) {\n    tslib_1.__extends(AudioStreamNodeErrorEvent, _super);\n    function AudioStreamNodeErrorEvent(audioSourceId, audioNodeId, error) {\n        var _this = _super.call(this, audioSourceId, audioNodeId) || this;\n        _this.error = error;\n        return _this;\n    }\n    Object.defineProperty(AudioStreamNodeErrorEvent.prototype, \"Error\", {\n        get: function () {\n            return this.error;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AudioStreamNodeErrorEvent;\n}(AudioStreamNodeEvent));\nexports.AudioStreamNodeErrorEvent = AudioStreamNodeErrorEvent;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(3);\nvar PlatformEvent_1 = __webpack_require__(5);\nvar ConnectionEvent = (function (_super) {\n    tslib_1.__extends(ConnectionEvent, _super);\n    function ConnectionEvent(connectionId, eventType) {\n        if (eventType === void 0) { eventType = PlatformEvent_1.EventType.Info; }\n        var _this = _super.call(this, eventType) || this;\n        _this.connectionId = connectionId;\n        return _this;\n    }\n    Object.defineProperty(ConnectionEvent.prototype, \"ConnectionId\", {\n        get: function () {\n            return this.connectionId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionEvent;\n}(PlatformEvent_1.PlatformEvent));\nexports.ConnectionEvent = ConnectionEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionStartEvent = (function (_super) {\n    tslib_1.__extends(ConnectionStartEvent, _super);\n    function ConnectionStartEvent(connectionId, uri, headers) {\n        var _this = _super.call(this, connectionId) || this;\n        _this.uri = uri;\n        _this.headers = headers;\n        return _this;\n    }\n    Object.defineProperty(ConnectionStartEvent.prototype, \"Uri\", {\n        get: function () {\n            return this.uri;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionStartEvent.prototype, \"Headers\", {\n        get: function () {\n            return this.headers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionStartEvent;\n}(ConnectionEvent));\nexports.ConnectionStartEvent = ConnectionStartEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionEstablishedEvent = (function (_super) {\n    tslib_1.__extends(ConnectionEstablishedEvent, _super);\n    function ConnectionEstablishedEvent(connectionId, metadata) {\n        return _super.call(this, connectionId) || this;\n    }\n    return ConnectionEstablishedEvent;\n}(ConnectionEvent));\nexports.ConnectionEstablishedEvent = ConnectionEstablishedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionClosedEvent = (function (_super) {\n    tslib_1.__extends(ConnectionClosedEvent, _super);\n    function ConnectionClosedEvent(connectionId, statusCode, reason) {\n        var _this = _super.call(this, connectionId, PlatformEvent_1.EventType.Warning) || this;\n        _this.reason = reason;\n        _this.statusCode = statusCode;\n        return _this;\n    }\n    Object.defineProperty(ConnectionClosedEvent.prototype, \"Reason\", {\n        get: function () {\n            return this.reason;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionClosedEvent.prototype, \"StatusCode\", {\n        get: function () {\n            return this.statusCode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionClosedEvent;\n}(ConnectionEvent));\nexports.ConnectionClosedEvent = ConnectionClosedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionEstablishErrorEvent = (function (_super) {\n    tslib_1.__extends(ConnectionEstablishErrorEvent, _super);\n    function ConnectionEstablishErrorEvent(connectionId, statuscode, reason) {\n        var _this = _super.call(this, connectionId, PlatformEvent_1.EventType.Error) || this;\n        _this.statusCode = statuscode;\n        _this.reason = reason;\n        return _this;\n    }\n    Object.defineProperty(ConnectionEstablishErrorEvent.prototype, \"Reason\", {\n        get: function () {\n            return this.reason;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionEstablishErrorEvent.prototype, \"StatusCode\", {\n        get: function () {\n            return this.statusCode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionEstablishErrorEvent;\n}(ConnectionEvent));\nexports.ConnectionEstablishErrorEvent = ConnectionEstablishErrorEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionMessageReceivedEvent = (function (_super) {\n    tslib_1.__extends(ConnectionMessageReceivedEvent, _super);\n    function ConnectionMessageReceivedEvent(connectionId, networkReceivedTimeISO, message) {\n        var _this = _super.call(this, connectionId) || this;\n        _this.networkReceivedTime = networkReceivedTimeISO;\n        _this.message = message;\n        return _this;\n    }\n    Object.defineProperty(ConnectionMessageReceivedEvent.prototype, \"NetworkReceivedTime\", {\n        get: function () {\n            return this.networkReceivedTime;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessageReceivedEvent.prototype, \"Message\", {\n        get: function () {\n            return this.message;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionMessageReceivedEvent;\n}(ConnectionEvent));\nexports.ConnectionMessageReceivedEvent = ConnectionMessageReceivedEvent;\n// tslint:disable-next-line:max-classes-per-file\nvar ConnectionMessageSentEvent = (function (_super) {\n    tslib_1.__extends(ConnectionMessageSentEvent, _super);\n    function ConnectionMessageSentEvent(connectionId, networkSentTimeISO, message) {\n        var _this = _super.call(this, connectionId) || this;\n        _this.networkSentTime = networkSentTimeISO;\n        _this.message = message;\n        return _this;\n    }\n    Object.defineProperty(ConnectionMessageSentEvent.prototype, \"NetworkSentTime\", {\n        get: function () {\n            return this.networkSentTime;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionMessageSentEvent.prototype, \"Message\", {\n        get: function () {\n            return this.message;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionMessageSentEvent;\n}(ConnectionEvent));\nexports.ConnectionMessageSentEvent = ConnectionMessageSentEvent;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConnectionOpenResponse = (function () {\n    function ConnectionOpenResponse(statusCode, reason) {\n        this.statusCode = statusCode;\n        this.reason = reason;\n    }\n    Object.defineProperty(ConnectionOpenResponse.prototype, \"StatusCode\", {\n        get: function () {\n            return this.statusCode;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ConnectionOpenResponse.prototype, \"Reason\", {\n        get: function () {\n            return this.reason;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ConnectionOpenResponse;\n}());\nexports.ConnectionOpenResponse = ConnectionOpenResponse;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = __webpack_require__(1);\nvar EventSource_1 = __webpack_require__(11);\nvar Events = (function () {\n    function Events() {\n    }\n    Object.defineProperty(Events, \"Instance\", {\n        get: function () {\n            return Events.instance;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Events;\n}());\nEvents.instance = new EventSource_1.EventSource();\nEvents.SetEventSource = function (eventSource) {\n    if (!eventSource) {\n        throw new Error_1.ArgumentNullError(\"eventSource\");\n    }\n    Events.instance = eventSource;\n};\nexports.Events = Events;\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"None\"] = 0] = \"None\";\n    ConnectionState[ConnectionState[\"Connected\"] = 1] = \"Connected\";\n    ConnectionState[ConnectionState[\"Connecting\"] = 2] = \"Connecting\";\n    ConnectionState[ConnectionState[\"Disconnected\"] = 3] = \"Disconnected\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ConnectionMessage_1 = __webpack_require__(10);\nvar Error_1 = __webpack_require__(1);\nvar Guid_1 = __webpack_require__(2);\nvar RawWebsocketMessage = (function () {\n    function RawWebsocketMessage(messageType, payload, id) {\n        this.payload = null;\n        if (!payload) {\n            throw new Error_1.ArgumentNullError(\"payload\");\n        }\n        if (messageType === ConnectionMessage_1.MessageType.Binary && !(payload instanceof ArrayBuffer)) {\n            throw new Error_1.InvalidOperationError(\"Payload must be ArrayBuffer\");\n        }\n        if (messageType === ConnectionMessage_1.MessageType.Text && !(typeof (payload) === \"string\")) {\n            throw new Error_1.InvalidOperationError(\"Payload must be a string\");\n        }\n        this.messageType = messageType;\n        this.payload = payload;\n        this.id = id ? id : Guid_1.CreateNoDashGuid();\n    }\n    Object.defineProperty(RawWebsocketMessage.prototype, \"MessageType\", {\n        get: function () {\n            return this.messageType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RawWebsocketMessage.prototype, \"Payload\", {\n        get: function () {\n            return this.payload;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RawWebsocketMessage.prototype, \"TextContent\", {\n        get: function () {\n            if (this.messageType === ConnectionMessage_1.MessageType.Binary) {\n                throw new Error_1.InvalidOperationError(\"Not supported for binary message\");\n            }\n            return this.payload;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RawWebsocketMessage.prototype, \"BinaryContent\", {\n        get: function () {\n            if (this.messageType === ConnectionMessage_1.MessageType.Text) {\n                throw new Error_1.InvalidOperationError(\"Not supported for text message\");\n            }\n            return this.payload;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RawWebsocketMessage.prototype, \"Id\", {\n        get: function () {\n            return this.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RawWebsocketMessage;\n}());\nexports.RawWebsocketMessage = RawWebsocketMessage;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RiffPcmEncoder = (function () {\n    function RiffPcmEncoder(actualSampleRate, desiredSampleRate) {\n        var _this = this;\n        this.channelCount = 1;\n        this.Encode = function (isFirstAudioFrame, actualAudioFrame) {\n            var audioFrame = _this.DownSampleAudioFrame(actualAudioFrame, _this.actualSampleRate, _this.desiredSampleRate);\n            var audioLength = audioFrame.length * 2;\n            if (!isFirstAudioFrame) {\n                var buffer_1 = new ArrayBuffer(audioLength);\n                var view_1 = new DataView(buffer_1);\n                _this.FloatTo16BitPCM(view_1, 0, audioFrame);\n                return buffer_1;\n            }\n            var buffer = new ArrayBuffer(44 + audioLength);\n            var bitsPerSample = 16;\n            var bytesPerSample = bitsPerSample / 8;\n            // We dont know ahead of time about the length of audio to stream. So set to 0.\n            var fileLength = 0;\n            // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\n            var view = new DataView(buffer);\n            /* RIFF identifier */\n            _this.SetString(view, 0, \"RIFF\");\n            /* file length */\n            view.setUint32(4, fileLength, true);\n            /* RIFF type & Format */\n            _this.SetString(view, 8, \"WAVEfmt \");\n            /* format chunk length */\n            view.setUint32(16, 16, true);\n            /* sample format (raw) */\n            view.setUint16(20, 1, true);\n            /* channel count */\n            view.setUint16(22, _this.channelCount, true);\n            /* sample rate */\n            view.setUint32(24, _this.desiredSampleRate, true);\n            /* byte rate (sample rate * block align) */\n            view.setUint32(28, _this.desiredSampleRate * _this.channelCount * bytesPerSample, true);\n            /* block align (channel count * bytes per sample) */\n            view.setUint16(32, _this.channelCount * bytesPerSample, true);\n            /* bits per sample */\n            view.setUint16(34, bitsPerSample, true);\n            /* data chunk identifier */\n            _this.SetString(view, 36, \"data\");\n            /* data chunk length */\n            view.setUint32(40, fileLength, true);\n            _this.FloatTo16BitPCM(view, 44, audioFrame);\n            return buffer;\n        };\n        this.SetString = function (view, offset, str) {\n            for (var i = 0; i < str.length; i++) {\n                view.setUint8(offset + i, str.charCodeAt(i));\n            }\n        };\n        this.FloatTo16BitPCM = function (view, offset, input) {\n            for (var i = 0; i < input.length; i++, offset += 2) {\n                var s = Math.max(-1, Math.min(1, input[i]));\n                view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\n            }\n        };\n        this.DownSampleAudioFrame = function (audioFrame, actualSampleRate, desiredSamplerate) {\n            if (desiredSamplerate === actualSampleRate || desiredSamplerate > actualSampleRate) {\n                return audioFrame;\n            }\n            var sampleRateRatio = actualSampleRate / desiredSamplerate;\n            var newLength = Math.round(audioFrame.length / sampleRateRatio);\n            var downSampledAudioFrame = new Float32Array(newLength);\n            var offsetResult = 0;\n            var offsetBuffer = 0;\n            while (offsetResult < downSampledAudioFrame.length) {\n                var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n                var accum = 0;\n                var count = 0;\n                for (var i = offsetBuffer; i < nextOffsetBuffer && i < audioFrame.length; i++) {\n                    accum += audioFrame[i];\n                    count++;\n                }\n                downSampledAudioFrame[offsetResult] = accum / count;\n                offsetResult++;\n                offsetBuffer = nextOffsetBuffer;\n            }\n            return downSampledAudioFrame;\n        };\n        this.actualSampleRate = actualSampleRate;\n        this.desiredSampleRate = desiredSampleRate;\n    }\n    return RiffPcmEncoder;\n}());\nexports.RiffPcmEncoder = RiffPcmEncoder;\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = __webpack_require__(1);\nvar InMemoryStorage_1 = __webpack_require__(12);\nvar Storage = (function () {\n    function Storage() {\n    }\n    Object.defineProperty(Storage, \"Session\", {\n        get: function () {\n            return Storage.sessionStorage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Storage, \"Local\", {\n        get: function () {\n            return Storage.localStorage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Storage;\n}());\nStorage.sessionStorage = new InMemoryStorage_1.InMemoryStorage();\nStorage.localStorage = new InMemoryStorage_1.InMemoryStorage();\nStorage.SetSessionStorage = function (sessionStorage) {\n    if (!sessionStorage) {\n        throw new Error_1.ArgumentNullError(\"sessionStorage\");\n    }\n    Storage.sessionStorage = sessionStorage;\n};\nStorage.SetLocalStorage = function (localStorage) {\n    if (!localStorage) {\n        throw new Error_1.ArgumentNullError(\"localStorage\");\n    }\n    Storage.localStorage = localStorage;\n};\nexports.Storage = Storage;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Error_1 = __webpack_require__(1);\nvar Guid_1 = __webpack_require__(2);\nvar Queue_1 = __webpack_require__(15);\nvar Stream = (function () {\n    function Stream(streamId) {\n        var _this = this;\n        this.readerIdCounter = 1;\n        this.isEnded = false;\n        this.Write = function (buffer) {\n            _this.ThrowIfClosed();\n            _this.WriteStreamChunk({\n                Buffer: buffer,\n                IsEnd: false,\n            });\n        };\n        this.GetReader = function () {\n            var readerId = _this.readerIdCounter;\n            _this.readerIdCounter++;\n            var readerQueue = new Queue_1.Queue();\n            var currentLength = _this.streambuffer.length;\n            _this.readerQueues[readerId] = readerQueue;\n            for (var i = 0; i < currentLength; i++) {\n                readerQueue.Enqueue(_this.streambuffer[i]);\n            }\n            return new StreamReader(_this.id, readerQueue, function () {\n                delete _this.readerQueues[readerId];\n            });\n        };\n        this.Close = function () {\n            if (!_this.isEnded) {\n                _this.WriteStreamChunk({\n                    Buffer: null,\n                    IsEnd: true,\n                });\n                _this.isEnded = true;\n            }\n        };\n        this.WriteStreamChunk = function (streamChunk) {\n            _this.ThrowIfClosed();\n            _this.streambuffer.push(streamChunk);\n            for (var readerId in _this.readerQueues) {\n                if (!_this.readerQueues[readerId].IsDisposed()) {\n                    try {\n                        _this.readerQueues[readerId].Enqueue(streamChunk);\n                    }\n                    catch (e) {\n                        // Do nothing\n                    }\n                }\n            }\n        };\n        this.ThrowIfClosed = function () {\n            if (_this.isEnded) {\n                throw new Error_1.InvalidOperationError(\"Stream closed\");\n            }\n        };\n        this.id = streamId ? streamId : Guid_1.CreateNoDashGuid();\n        this.streambuffer = [];\n        this.readerQueues = {};\n    }\n    Object.defineProperty(Stream.prototype, \"IsClosed\", {\n        get: function () {\n            return this.isEnded;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Stream.prototype, \"Id\", {\n        get: function () {\n            return this.id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Stream;\n}());\nexports.Stream = Stream;\n// tslint:disable-next-line:max-classes-per-file\nvar StreamReader = (function () {\n    function StreamReader(streamId, readerQueue, onClose) {\n        var _this = this;\n        this.isClosed = false;\n        this.Read = function () {\n            if (_this.IsClosed) {\n                throw new Error_1.InvalidOperationError(\"StreamReader closed\");\n            }\n            return _this.readerQueue\n                .Dequeue()\n                .OnSuccessContinueWith(function (streamChunk) {\n                if (streamChunk.IsEnd) {\n                    _this.readerQueue.Dispose(\"End of stream reached\");\n                }\n                return streamChunk;\n            });\n        };\n        this.Close = function () {\n            if (!_this.isClosed) {\n                _this.isClosed = true;\n                _this.readerQueue.Dispose(\"StreamReader closed\");\n                _this.onClose();\n            }\n        };\n        this.readerQueue = readerQueue;\n        this.onClose = onClose;\n        this.streamId = streamId;\n    }\n    Object.defineProperty(StreamReader.prototype, \"IsClosed\", {\n        get: function () {\n            return this.isClosed;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StreamReader.prototype, \"StreamId\", {\n        get: function () {\n            return this.streamId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StreamReader;\n}());\nexports.StreamReader = StreamReader;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(49));\n__export(__webpack_require__(16));\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(4);\nvar Exports_2 = __webpack_require__(6);\nvar SpeechConnectionFactory_1 = __webpack_require__(16);\nvar CreateRecognizer = function (recognizerConfig, authentication) {\n    return CreateRecognizerWithPcmRecorder(recognizerConfig, authentication);\n};\nexports.CreateRecognizer = CreateRecognizer;\nvar CreateRecognizerWithPcmRecorder = function (recognizerConfig, authentication) {\n    return CreateRecognizerWithCustomAudioSource(recognizerConfig, authentication, new Exports_1.MicAudioSource(new Exports_1.PcmRecorder()));\n};\nexports.CreateRecognizerWithPcmRecorder = CreateRecognizerWithPcmRecorder;\nvar CreateRecognizerWithCustomAudioSource = function (recognizerConfig, authentication, audioSource) {\n    return new Exports_2.Recognizer(authentication, new SpeechConnectionFactory_1.SpeechConnectionFactory(), audioSource, recognizerConfig);\n};\nexports.CreateRecognizerWithCustomAudioSource = CreateRecognizerWithCustomAudioSource;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar IAuthentication_1 = __webpack_require__(7);\nvar AuthHeader = \"Ocp-Apim-Subscription-Key\";\nvar CognitiveSubscriptionKeyAuthentication = (function () {\n    function CognitiveSubscriptionKeyAuthentication(subscriptionKey) {\n        var _this = this;\n        this.Fetch = function (authFetchEventId) {\n            return Exports_1.PromiseHelper.FromResult(_this.authInfo);\n        };\n        this.FetchOnExpiry = function (authFetchEventId) {\n            return Exports_1.PromiseHelper.FromResult(_this.authInfo);\n        };\n        if (!subscriptionKey) {\n            throw new Exports_1.ArgumentNullError(\"subscriptionKey\");\n        }\n        this.authInfo = new IAuthentication_1.AuthInfo(AuthHeader, subscriptionKey);\n    }\n    return CognitiveSubscriptionKeyAuthentication;\n}());\nexports.CognitiveSubscriptionKeyAuthentication = CognitiveSubscriptionKeyAuthentication;\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar IAuthentication_1 = __webpack_require__(7);\nvar AuthHeader = \"Authorization\";\nvar CognitiveTokenAuthentication = (function () {\n    function CognitiveTokenAuthentication(fetchCallback, fetchOnExpiryCallback) {\n        var _this = this;\n        this.Fetch = function (authFetchEventId) {\n            return _this.fetchCallback(authFetchEventId).OnSuccessContinueWith(function (token) { return new IAuthentication_1.AuthInfo(AuthHeader, token); });\n        };\n        this.FetchOnExpiry = function (authFetchEventId) {\n            return _this.fetchOnExpiryCallback(authFetchEventId).OnSuccessContinueWith(function (token) { return new IAuthentication_1.AuthInfo(AuthHeader, token); });\n        };\n        if (!fetchCallback) {\n            throw new Exports_1.ArgumentNullError(\"fetchCallback\");\n        }\n        if (!fetchOnExpiryCallback) {\n            throw new Exports_1.ArgumentNullError(\"fetchOnExpiryCallback\");\n        }\n        this.fetchCallback = fetchCallback;\n        this.fetchOnExpiryCallback = fetchOnExpiryCallback;\n    }\n    return CognitiveTokenAuthentication;\n}());\nexports.CognitiveTokenAuthentication = CognitiveTokenAuthentication;\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar RecognitionEvents_1 = __webpack_require__(8);\nvar RecognizerConfig_1 = __webpack_require__(17);\nvar ServiceTelemetryListener_Internal_1 = __webpack_require__(54);\nvar SpeechConnectionMessage_Internal_1 = __webpack_require__(55);\nvar Recognizer = (function () {\n    function Recognizer(authentication, connectionFactory, audioSource, recognizerConfig) {\n        var _this = this;\n        this.Recognize = function (onEventCallback, speechContextJson) {\n            var requestSession = new RequestSession(_this.audioSource.Id(), onEventCallback);\n            requestSession.ListenForServiceTelemetry(_this.audioSource.Events);\n            return _this.audioSource\n                .Attach(requestSession.AudioNodeId)\n                .ContinueWithPromise(function (result) {\n                if (result.IsError) {\n                    requestSession.OnAudioSourceAttachCompleted(null, true, result.Error);\n                    throw new Error(result.Error);\n                }\n                else {\n                    requestSession.OnAudioSourceAttachCompleted(result.Result, false);\n                }\n                var audioNode = result.Result;\n                _this.FetchConnection(requestSession)\n                    .OnSuccessContinueWith(function (connection) {\n                    var messageRetrievalPromise = _this.ReceiveMessage(connection, requestSession);\n                    var messageSendPromise = _this.SendSpeechConfig(requestSession.RequestId, connection, _this.recognizerConfig.SpeechConfig.Serialize())\n                        .OnSuccessContinueWithPromise(function (_) {\n                        return _this.SendSpeechContext(requestSession.RequestId, connection, speechContextJson)\n                            .OnSuccessContinueWithPromise(function (_) {\n                            return _this.SendAudio(requestSession.RequestId, connection, audioNode, requestSession);\n                        });\n                    });\n                    var completionPromise = Exports_1.PromiseHelper.WhenAll([messageRetrievalPromise, messageSendPromise]);\n                    completionPromise.On(function (r) {\n                        requestSession.Dispose();\n                        _this.SendTelemetryData(requestSession.RequestId, connection, requestSession.GetTelemetry());\n                    }, function (error) {\n                        requestSession.Dispose(error);\n                        _this.SendTelemetryData(requestSession.RequestId, connection, requestSession.GetTelemetry());\n                    });\n                    return completionPromise;\n                });\n                return requestSession.CompletionPromise;\n            });\n        };\n        this.FetchConnection = function (requestSession, isUnAuthorized) {\n            if (isUnAuthorized === void 0) { isUnAuthorized = false; }\n            if (_this.connectionFetchPromise) {\n                if (_this.connectionFetchPromise.Result().IsError\n                    || _this.connectionFetchPromise.Result().Result.State() === Exports_1.ConnectionState.Disconnected) {\n                    _this.connectionId = null;\n                    _this.connectionFetchPromise = null;\n                    return _this.FetchConnection(requestSession);\n                }\n                else {\n                    requestSession.OnPreConnectionStart(_this.authFetchEventId, _this.connectionId);\n                    requestSession.OnConnectionEstablishCompleted(200);\n                    requestSession.ListenForServiceTelemetry(_this.connectionFetchPromise.Result().Result.Events);\n                    return _this.connectionFetchPromise;\n                }\n            }\n            _this.authFetchEventId = Exports_1.CreateNoDashGuid();\n            _this.connectionId = Exports_1.CreateNoDashGuid();\n            requestSession.OnPreConnectionStart(_this.authFetchEventId, _this.connectionId);\n            var authPromise = isUnAuthorized ? _this.authentication.FetchOnExpiry(_this.authFetchEventId) : _this.authentication.Fetch(_this.authFetchEventId);\n            _this.connectionFetchPromise = authPromise\n                .ContinueWithPromise(function (result) {\n                if (result.IsError) {\n                    requestSession.OnAuthCompleted(true, result.Error);\n                    throw new Error(result.Error);\n                }\n                else {\n                    requestSession.OnAuthCompleted(false);\n                }\n                var connection = _this.connectionFactory.Create(_this.recognizerConfig, result.Result, _this.connectionId);\n                requestSession.ListenForServiceTelemetry(connection.Events);\n                return connection.Open().OnSuccessContinueWithPromise(function (response) {\n                    if (response.StatusCode === 200) {\n                        requestSession.OnConnectionEstablishCompleted(response.StatusCode);\n                        return Exports_1.PromiseHelper.FromResult(connection);\n                    }\n                    else if (response.StatusCode === 403 && !isUnAuthorized) {\n                        return _this.FetchConnection(requestSession, true);\n                    }\n                    else {\n                        requestSession.OnConnectionEstablishCompleted(response.StatusCode, response.Reason);\n                        return Exports_1.PromiseHelper.FromError(\"Unable to contact server. StatusCode: \" + response.StatusCode + \", Reason: \" + response.Reason);\n                    }\n                });\n            });\n            return _this.connectionFetchPromise;\n        };\n        this.ReceiveMessage = function (connection, requestSession) {\n            return connection\n                .Read()\n                .OnSuccessContinueWithPromise(function (message) {\n                var connectionMessage = SpeechConnectionMessage_Internal_1.SpeechConnectionMessage.FromConnectionMessage(message);\n                if (connectionMessage.RequestId.toLowerCase() === requestSession.RequestId.toLowerCase()) {\n                    switch (connectionMessage.Path.toLowerCase()) {\n                        case \"turn.start\":\n                            requestSession.OnServiceTurnStartResponse(JSON.parse(connectionMessage.TextBody));\n                            break;\n                        case \"speech.startDetected\":\n                            requestSession.OnServiceSpeechStartDetectedResponse(JSON.parse(connectionMessage.TextBody));\n                            break;\n                        case \"speech.hypothesis\":\n                            requestSession.OnServiceSpeechHypothesisResponse(JSON.parse(connectionMessage.TextBody));\n                            break;\n                        case \"speech.enddetected\":\n                            requestSession.OnServiceSpeechEndDetectedResponse(JSON.parse(connectionMessage.TextBody));\n                            break;\n                        case \"speech.phrase\":\n                            if (_this.recognizerConfig.IsContinuousRecognition) {\n                                // For continuous recognition telemetry has to be sent for every phrase as per spec.\n                                _this.SendTelemetryData(requestSession.RequestId, connection, requestSession.GetTelemetry());\n                            }\n                            if (_this.recognizerConfig.Format === RecognizerConfig_1.SpeechResultFormat.Simple) {\n                                requestSession.OnServiceSimpleSpeechPhraseResponse(JSON.parse(connectionMessage.TextBody));\n                            }\n                            else {\n                                requestSession.OnServiceDetailedSpeechPhraseResponse(JSON.parse(connectionMessage.TextBody));\n                            }\n                            break;\n                        case \"turn.end\":\n                            requestSession.OnServiceTurnEndResponse();\n                            return Exports_1.PromiseHelper.FromResult(true);\n                        default:\n                            break;\n                    }\n                }\n                return _this.ReceiveMessage(connection, requestSession);\n            });\n        };\n        this.SendSpeechConfig = function (requestId, connection, speechConfigJson) {\n            if (speechConfigJson && _this.connectionId !== _this.speechConfigConnectionId) {\n                _this.speechConfigConnectionId = _this.connectionId;\n                return connection\n                    .Send(new SpeechConnectionMessage_Internal_1.SpeechConnectionMessage(Exports_1.MessageType.Text, \"speech.config\", requestId, \"application/json\", speechConfigJson));\n            }\n            return Exports_1.PromiseHelper.FromResult(true);\n        };\n        this.SendSpeechContext = function (requestId, connection, speechContextJson) {\n            if (speechContextJson) {\n                return connection\n                    .Send(new SpeechConnectionMessage_Internal_1.SpeechConnectionMessage(Exports_1.MessageType.Text, \"speech.context\", requestId, \"application/json\", speechContextJson));\n            }\n            return Exports_1.PromiseHelper.FromResult(true);\n        };\n        this.SendTelemetryData = function (requestId, connection, telemetryData) {\n            return connection\n                .Send(new SpeechConnectionMessage_Internal_1.SpeechConnectionMessage(Exports_1.MessageType.Text, \"telemetry\", requestId, \"application/json\", telemetryData));\n        };\n        this.SendAudio = function (requestId, connection, audioStreamNode, requestSession) {\n            return audioStreamNode\n                .Read()\n                .OnSuccessContinueWithPromise(function (audioStreamChunk) {\n                if (requestSession.IsSpeechEnded) {\n                    // If service already recognized audio end then dont send any more audio\n                    return Exports_1.PromiseHelper.FromResult(true);\n                }\n                else if (audioStreamChunk.IsEnd) {\n                    return connection\n                        .Send(new SpeechConnectionMessage_Internal_1.SpeechConnectionMessage(Exports_1.MessageType.Binary, \"audio\", requestId, null, null));\n                }\n                else {\n                    return connection\n                        .Send(new SpeechConnectionMessage_Internal_1.SpeechConnectionMessage(Exports_1.MessageType.Binary, \"audio\", requestId, null, audioStreamChunk.Buffer))\n                        .OnSuccessContinueWithPromise(function (_) {\n                        return _this.SendAudio(requestId, connection, audioStreamNode, requestSession);\n                    });\n                }\n            });\n        };\n        if (!authentication) {\n            throw new Exports_1.ArgumentNullError(\"authentication\");\n        }\n        if (!connectionFactory) {\n            throw new Exports_1.ArgumentNullError(\"connectionFactory\");\n        }\n        if (!audioSource) {\n            throw new Exports_1.ArgumentNullError(\"audioSource\");\n        }\n        if (!recognizerConfig) {\n            throw new Exports_1.ArgumentNullError(\"recognizerConfig\");\n        }\n        this.authentication = authentication;\n        this.connectionFactory = connectionFactory;\n        this.audioSource = audioSource;\n        this.recognizerConfig = recognizerConfig;\n    }\n    Object.defineProperty(Recognizer.prototype, \"AudioSource\", {\n        get: function () {\n            return this.audioSource;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Recognizer;\n}());\nexports.Recognizer = Recognizer;\n// tslint:disable-next-line:max-classes-per-file\nvar RequestSession = (function () {\n    function RequestSession(audioSourceId, onEventCallback) {\n        var _this = this;\n        this.isDisposed = false;\n        this.detachables = new Array();\n        this.isAudioNodeDetached = false;\n        this.isCompleted = false;\n        this.OnAudioSourceAttachCompleted = function (audioNode, isError, error) {\n            _this.audioNode = audioNode;\n            if (isError) {\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.AudioSourceError, error);\n            }\n            else {\n                _this.OnEvent(new RecognitionEvents_1.ListeningStartedEvent(_this.requestId, _this.audioSourceId, _this.audioNodeId));\n            }\n        };\n        this.OnPreConnectionStart = function (authFetchEventId, connectionId) {\n            _this.authFetchEventId = authFetchEventId;\n            _this.connectionId = connectionId;\n            _this.OnEvent(new RecognitionEvents_1.ConnectingToServiceEvent(_this.requestId, _this.authFetchEventId, _this.connectionId));\n        };\n        this.OnAuthCompleted = function (isError, error) {\n            if (isError) {\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.AuthTokenFetchError, error);\n            }\n        };\n        this.OnConnectionEstablishCompleted = function (statusCode, reason) {\n            if (statusCode === 200) {\n                _this.OnEvent(new RecognitionEvents_1.RecognitionStartedEvent(_this.RequestId, _this.audioSourceId, _this.audioNodeId, _this.authFetchEventId, _this.connectionId));\n                return;\n            }\n            else if (statusCode === 403) {\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.UnAuthorized, reason);\n            }\n            else {\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.ConnectError, reason);\n            }\n        };\n        this.OnServiceTurnStartResponse = function (response) {\n            if (response && response.context && response.context.serviceTag) {\n                _this.serviceTag = response.context.serviceTag;\n            }\n        };\n        this.OnServiceSpeechStartDetectedResponse = function (result) {\n            _this.OnEvent(new RecognitionEvents_1.SpeechStartDetectedEvent(_this.RequestId, result));\n        };\n        this.OnServiceSpeechHypothesisResponse = function (result) {\n            _this.OnEvent(new RecognitionEvents_1.SpeechHypothesisEvent(_this.RequestId, result));\n        };\n        this.OnServiceSpeechEndDetectedResponse = function (result) {\n            _this.DetachAudioNode();\n            _this.OnEvent(new RecognitionEvents_1.SpeechEndDetectedEvent(_this.RequestId, result));\n        };\n        this.OnServiceSimpleSpeechPhraseResponse = function (result) {\n            _this.OnEvent(new RecognitionEvents_1.SpeechSimplePhraseEvent(_this.RequestId, result));\n        };\n        this.OnServiceDetailedSpeechPhraseResponse = function (result) {\n            _this.OnEvent(new RecognitionEvents_1.SpeechDetailedPhraseEvent(_this.RequestId, result));\n        };\n        this.OnServiceTurnEndResponse = function () {\n            _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.Success);\n        };\n        this.OnConnectionError = function (error) {\n            _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.UnknownError, error);\n        };\n        this.Dispose = function (error) {\n            if (!_this.isDisposed) {\n                // we should have completed by now. If we did not its an unknown error.\n                _this.OnComplete(RecognitionEvents_1.RecognitionCompletionStatus.UnknownError, error);\n                _this.isDisposed = true;\n                for (var _i = 0, _a = _this.detachables; _i < _a.length; _i++) {\n                    var detachable = _a[_i];\n                    detachable.Detach();\n                }\n                _this.serviceTelemetryListener.Dispose();\n            }\n        };\n        this.GetTelemetry = function () {\n            return _this.serviceTelemetryListener.GetTelemetry();\n        };\n        this.OnComplete = function (status, error) {\n            if (!_this.isCompleted) {\n                _this.isCompleted = true;\n                _this.DetachAudioNode();\n                _this.OnEvent(new RecognitionEvents_1.RecognitionEndedEvent(_this.RequestId, _this.audioSourceId, _this.audioNodeId, _this.authFetchEventId, _this.connectionId, _this.serviceTag, status, error ? error : \"\"));\n            }\n        };\n        this.DetachAudioNode = function () {\n            if (!_this.isAudioNodeDetached) {\n                _this.isAudioNodeDetached = true;\n                if (_this.audioNode) {\n                    _this.audioNode.Detach();\n                }\n            }\n        };\n        this.OnEvent = function (event) {\n            _this.serviceTelemetryListener.OnEvent(event);\n            Exports_1.Events.Instance.OnEvent(event);\n            if (_this.onEventCallback) {\n                _this.onEventCallback(event);\n            }\n        };\n        this.audioSourceId = audioSourceId;\n        this.onEventCallback = onEventCallback;\n        this.requestId = Exports_1.CreateNoDashGuid();\n        this.audioNodeId = Exports_1.CreateNoDashGuid();\n        this.requestCompletionDeferral = new Exports_1.Deferred();\n        this.serviceTelemetryListener = new ServiceTelemetryListener_Internal_1.ServiceTelemetryListener(this.requestId, this.audioSourceId, this.audioNodeId);\n        this.OnEvent(new RecognitionEvents_1.RecognitionTriggeredEvent(this.RequestId, this.audioSourceId, this.audioNodeId));\n    }\n    Object.defineProperty(RequestSession.prototype, \"RequestId\", {\n        get: function () {\n            return this.requestId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestSession.prototype, \"AudioNodeId\", {\n        get: function () {\n            return this.audioNodeId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestSession.prototype, \"CompletionPromise\", {\n        get: function () {\n            return this.requestCompletionDeferral.Promise();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestSession.prototype, \"IsSpeechEnded\", {\n        get: function () {\n            return this.isAudioNodeDetached;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestSession.prototype, \"IsCompleted\", {\n        get: function () {\n            return this.isCompleted;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RequestSession.prototype.ListenForServiceTelemetry = function (eventSource) {\n        this.detachables.push(eventSource.AttachListener(this.serviceTelemetryListener));\n    };\n    return RequestSession;\n}());\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar RecognitionEvents_1 = __webpack_require__(8);\n// tslint:disable-next-line:max-classes-per-file\nvar ServiceTelemetryListener = (function () {\n    function ServiceTelemetryListener(requestId, audioSourceId, audioNodeId) {\n        var _this = this;\n        this.isDisposed = false;\n        this.listeningTriggerMetric = null;\n        this.micMetric = null;\n        this.connectionEstablishMetric = null;\n        this.OnEvent = function (e) {\n            if (_this.isDisposed) {\n                return;\n            }\n            if (e instanceof RecognitionEvents_1.RecognitionTriggeredEvent && e.RequestId === _this.requestId) {\n                _this.listeningTriggerMetric = {\n                    End: e.EventTime,\n                    Name: \"ListeningTrigger\",\n                    Start: e.EventTime,\n                };\n            }\n            if (e instanceof Exports_1.AudioStreamNodeAttachingEvent && e.AudioSourceId === _this.audioSourceId && e.AudioNodeId === _this.audioNodeId) {\n                _this.micStartTime = e.EventTime;\n            }\n            if (e instanceof Exports_1.AudioStreamNodeAttachedEvent && e.AudioSourceId === _this.audioSourceId && e.AudioNodeId === _this.audioNodeId) {\n                _this.micStartTime = e.EventTime;\n            }\n            if (e instanceof Exports_1.AudioSourceErrorEvent && e.AudioSourceId === _this.audioSourceId) {\n                if (!_this.micMetric) {\n                    _this.micMetric = {\n                        End: e.EventTime,\n                        Error: e.Error,\n                        Name: \"Microphone\",\n                        Start: _this.micStartTime,\n                    };\n                }\n            }\n            if (e instanceof Exports_1.AudioStreamNodeErrorEvent && e.AudioSourceId === _this.audioSourceId && e.AudioNodeId === _this.audioNodeId) {\n                if (!_this.micMetric) {\n                    _this.micMetric = {\n                        End: e.EventTime,\n                        Error: e.Error,\n                        Name: \"Microphone\",\n                        Start: _this.micStartTime,\n                    };\n                }\n            }\n            if (e instanceof Exports_1.AudioStreamNodeDetachedEvent && e.AudioSourceId === _this.audioSourceId && e.AudioNodeId === _this.audioNodeId) {\n                if (!_this.micMetric) {\n                    _this.micMetric = {\n                        End: e.EventTime,\n                        Name: \"Microphone\",\n                        Start: _this.micStartTime,\n                    };\n                }\n            }\n            if (e instanceof RecognitionEvents_1.ConnectingToServiceEvent && e.RequestId === _this.requestId) {\n                _this.connectionId = e.ConnectionId;\n            }\n            if (e instanceof Exports_1.ConnectionStartEvent && e.ConnectionId === _this.connectionId) {\n                _this.connectionStartTime = e.EventTime;\n            }\n            if (e instanceof Exports_1.ConnectionEstablishedEvent && e.ConnectionId === _this.connectionId) {\n                if (!_this.connectionEstablishMetric) {\n                    _this.connectionEstablishMetric = {\n                        End: e.EventTime,\n                        Id: _this.connectionId,\n                        Name: \"Connection\",\n                        Start: _this.connectionStartTime,\n                    };\n                }\n            }\n            if (e instanceof Exports_1.ConnectionEstablishErrorEvent && e.ConnectionId === _this.connectionId) {\n                if (!_this.connectionEstablishMetric) {\n                    _this.connectionEstablishMetric = {\n                        End: e.EventTime,\n                        Error: _this.GetConnectionError(e.StatusCode),\n                        Id: _this.connectionId,\n                        Name: \"Connection\",\n                        Start: _this.connectionStartTime,\n                    };\n                }\n            }\n            if (e instanceof Exports_1.ConnectionMessageReceivedEvent && e.ConnectionId === _this.connectionId) {\n                if (e.Message && e.Message.Headers && e.Message.Headers.path) {\n                    if (!_this.receivedMessages[e.Message.Headers.path]) {\n                        _this.receivedMessages[e.Message.Headers.path] = new Array();\n                    }\n                    _this.receivedMessages[e.Message.Headers.path].push(e.NetworkReceivedTime);\n                }\n            }\n        };\n        this.GetTelemetry = function () {\n            var metrics = new Array();\n            if (_this.listeningTriggerMetric) {\n                metrics.push(_this.listeningTriggerMetric);\n            }\n            if (_this.micMetric) {\n                metrics.push(_this.micMetric);\n            }\n            if (_this.connectionEstablishMetric) {\n                metrics.push(_this.connectionEstablishMetric);\n            }\n            var telemetry = {\n                Metrics: metrics,\n                ReceivedMessages: _this.receivedMessages,\n            };\n            var json = JSON.stringify(telemetry);\n            // We dont want to send the same telemetry again. So clean those out.\n            _this.receivedMessages = {};\n            _this.listeningTriggerMetric = null;\n            _this.micMetric = null;\n            _this.connectionEstablishMetric = null;\n            return json;\n        };\n        this.Dispose = function () {\n            _this.isDisposed = true;\n        };\n        this.GetConnectionError = function (statusCode) {\n            /*\n            -- Websocket status codes --\n            NormalClosure = 1000,\n            EndpointUnavailable = 1001,\n            ProtocolError = 1002,\n            InvalidMessageType = 1003,\n            Empty = 1005,\n            InvalidPayloadData = 1007,\n            PolicyViolation = 1008,\n            MessageTooBig = 1009,\n            MandatoryExtension = 1010,\n            InternalServerError = 1011\n            */\n            switch (statusCode) {\n                case 400:\n                case 1002:\n                case 1003:\n                case 1005:\n                case 1007:\n                case 1008:\n                case 1009: return \"BadRequest\";\n                case 401: return \"Unauthorized\";\n                case 403: return \"Forbidden\";\n                case 503:\n                case 1001: return \"ServerUnavailable\";\n                case 500:\n                case 1011: return \"ServerError\";\n                case 408:\n                case 504: return \"Timeout\";\n                default: return \"statuscode:\" + statusCode.toString();\n            }\n        };\n        this.requestId = requestId;\n        this.audioSourceId = audioSourceId;\n        this.audioNodeId = audioNodeId;\n        this.receivedMessages = {};\n    }\n    return ServiceTelemetryListener;\n}());\nexports.ServiceTelemetryListener = ServiceTelemetryListener;\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = __webpack_require__(3);\nvar Exports_1 = __webpack_require__(0);\nvar PathHeaderName = \"path\";\nvar ContentTypeHeaderName = \"content-type\";\nvar RequestIdHeaderName = \"x-requestid\";\nvar RequestTimestampHeaderName = \"x-timestamp\";\nvar SpeechConnectionMessage = (function (_super) {\n    tslib_1.__extends(SpeechConnectionMessage, _super);\n    function SpeechConnectionMessage(messageType, path, requestId, contentType, body, additionalHeaders, id) {\n        var _this = this;\n        if (!path) {\n            throw new Exports_1.ArgumentNullError(\"path\");\n        }\n        if (!requestId) {\n            throw new Exports_1.ArgumentNullError(\"requestId\");\n        }\n        var headers = {};\n        headers[PathHeaderName] = path;\n        headers[RequestIdHeaderName] = requestId;\n        headers[RequestTimestampHeaderName] = new Date().toISOString();\n        if (contentType) {\n            headers[ContentTypeHeaderName] = contentType;\n        }\n        if (additionalHeaders) {\n            for (var headerName in additionalHeaders) {\n                if (headerName) {\n                    headers[headerName] = additionalHeaders[headerName];\n                }\n            }\n        }\n        if (id) {\n            _this = _super.call(this, messageType, body, headers, id) || this;\n        }\n        else {\n            _this = _super.call(this, messageType, body, headers) || this;\n        }\n        _this.path = path;\n        _this.requestId = requestId;\n        _this.contentType = contentType;\n        _this.additionalHeaders = additionalHeaders;\n        return _this;\n    }\n    Object.defineProperty(SpeechConnectionMessage.prototype, \"Path\", {\n        get: function () {\n            return this.path;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionMessage.prototype, \"RequestId\", {\n        get: function () {\n            return this.requestId;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionMessage.prototype, \"ContentType\", {\n        get: function () {\n            return this.contentType;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SpeechConnectionMessage.prototype, \"AdditionalHeaders\", {\n        get: function () {\n            return this.additionalHeaders;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SpeechConnectionMessage;\n}(Exports_1.ConnectionMessage));\nSpeechConnectionMessage.FromConnectionMessage = function (message) {\n    var path = null;\n    var requestId = null;\n    var contentType = null;\n    var requestTimestamp = null;\n    var additionalHeaders = {};\n    if (message.Headers) {\n        for (var headerName in message.Headers) {\n            if (headerName) {\n                if (headerName.toLowerCase() === PathHeaderName.toLowerCase()) {\n                    path = message.Headers[headerName];\n                }\n                else if (headerName.toLowerCase() === RequestIdHeaderName.toLowerCase()) {\n                    requestId = message.Headers[headerName];\n                }\n                else if (headerName.toLowerCase() === RequestTimestampHeaderName.toLowerCase()) {\n                    requestTimestamp = message.Headers[headerName];\n                }\n                else if (headerName.toLowerCase() === ContentTypeHeaderName.toLowerCase()) {\n                    contentType = message.Headers[headerName];\n                }\n                else {\n                    additionalHeaders[headerName] = message.Headers[headerName];\n                }\n            }\n        }\n    }\n    return new SpeechConnectionMessage(message.MessageType, path, requestId, contentType, message.Body, additionalHeaders, message.Id);\n};\nexports.SpeechConnectionMessage = SpeechConnectionMessage;\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecognitionStatus;\n(function (RecognitionStatus) {\n    RecognitionStatus[RecognitionStatus[\"Success\"] = 0] = \"Success\";\n    RecognitionStatus[RecognitionStatus[\"NoMatch\"] = 1] = \"NoMatch\";\n    RecognitionStatus[RecognitionStatus[\"InitialSilenceTimeout\"] = 2] = \"InitialSilenceTimeout\";\n    RecognitionStatus[RecognitionStatus[\"BabbleTimeout\"] = 3] = \"BabbleTimeout\";\n    RecognitionStatus[RecognitionStatus[\"Error\"] = 4] = \"Error\";\n    RecognitionStatus[RecognitionStatus[\"EndOfDictation\"] = 5] = \"EndOfDictation\";\n})(RecognitionStatus = exports.RecognitionStatus || (exports.RecognitionStatus = {}));\n\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Exports_1 = __webpack_require__(0);\nvar CRLF = \"\\r\\n\";\nvar WebsocketMessageFormatter = (function () {\n    function WebsocketMessageFormatter() {\n        var _this = this;\n        this.ToConnectionMessage = function (message) {\n            var deferral = new Exports_1.Deferred();\n            try {\n                if (message.MessageType === Exports_1.MessageType.Text) {\n                    var textMessage = message.TextContent;\n                    var headers = {};\n                    var body = null;\n                    if (textMessage) {\n                        var headerBodySplit = textMessage.split(\"\\r\\n\\r\\n\");\n                        if (headerBodySplit && headerBodySplit.length > 0) {\n                            headers = _this.ParseHeaders(headerBodySplit[0]);\n                            if (headerBodySplit.length > 1) {\n                                body = headerBodySplit[1];\n                            }\n                        }\n                    }\n                    deferral.Resolve(new Exports_1.ConnectionMessage(message.MessageType, body, headers, message.Id));\n                }\n                else if (message.MessageType === Exports_1.MessageType.Binary) {\n                    var binaryMessage = message.BinaryContent;\n                    var headers = {};\n                    var body = null;\n                    if (!binaryMessage || binaryMessage.byteLength < 2) {\n                        throw new Error(\"Invalid binary message format. Header length missing.\");\n                    }\n                    var dataView = new DataView(binaryMessage);\n                    var headerLength = dataView.getInt16(0);\n                    if (binaryMessage.byteLength < headerLength + 2) {\n                        throw new Error(\"Invalid binary message format. Header content missing.\");\n                    }\n                    var headersString = \"\";\n                    for (var i = 0; i < headerLength; i++) {\n                        headersString += String.fromCharCode((dataView).getInt8(i + 2));\n                    }\n                    headers = _this.ParseHeaders(headersString);\n                    if (binaryMessage.byteLength > headerLength + 2) {\n                        body = binaryMessage.slice(2 + headerLength);\n                    }\n                    deferral.Resolve(new Exports_1.ConnectionMessage(message.MessageType, body, headers, message.Id));\n                }\n            }\n            catch (e) {\n                deferral.Reject(\"Error formatting the message. Error: \" + e);\n            }\n            return deferral.Promise();\n        };\n        this.FromConnectionMessage = function (message) {\n            var deferral = new Exports_1.Deferred();\n            try {\n                if (message.MessageType === Exports_1.MessageType.Text) {\n                    var payload = \"\" + _this.MakeHeaders(message) + CRLF + (message.TextBody ? message.TextBody : \"\");\n                    deferral.Resolve(new Exports_1.RawWebsocketMessage(Exports_1.MessageType.Text, payload, message.Id));\n                }\n                else if (message.MessageType === Exports_1.MessageType.Binary) {\n                    var headersString = _this.MakeHeaders(message);\n                    var content_1 = message.BinaryBody;\n                    var fr_1 = new FileReader();\n                    fr_1.onload = function () {\n                        var headerInt8Array = new Int8Array(fr_1.result);\n                        var payload = new ArrayBuffer(2 + headerInt8Array.byteLength + (content_1 ? content_1.byteLength : 0));\n                        var dataView = new DataView(payload);\n                        dataView.setInt16(0, headerInt8Array.length);\n                        for (var i = 0; i < headerInt8Array.byteLength; i++) {\n                            dataView.setInt8(2 + i, headerInt8Array[i]);\n                        }\n                        if (content_1) {\n                            var bodyInt8Array = new Int8Array(content_1);\n                            for (var i = 0; i < bodyInt8Array.byteLength; i++) {\n                                dataView.setInt8(2 + headerInt8Array.byteLength + i, bodyInt8Array[i]);\n                            }\n                        }\n                        deferral.Resolve(new Exports_1.RawWebsocketMessage(Exports_1.MessageType.Binary, payload, message.Id));\n                    };\n                    fr_1.onerror = function () {\n                        deferral.Reject(\"failed to load headers into file reader\");\n                    };\n                    fr_1.readAsArrayBuffer(new Blob([headersString]));\n                }\n            }\n            catch (e) {\n                deferral.Reject(\"Error formatting the message. \" + e);\n            }\n            return deferral.Promise();\n        };\n        this.MakeHeaders = function (message) {\n            var headersString = \"\";\n            if (message.Headers) {\n                for (var header in message.Headers) {\n                    if (header) {\n                        headersString += header + \": \" + message.Headers[header] + CRLF;\n                    }\n                }\n            }\n            return headersString;\n        };\n        this.ParseHeaders = function (headersString) {\n            var headers = {};\n            if (headersString) {\n                var headerMatches = headersString.match(/[^\\r\\n]+/g);\n                if (headers) {\n                    for (var _i = 0, headerMatches_1 = headerMatches; _i < headerMatches_1.length; _i++) {\n                        var header = headerMatches_1[_i];\n                        if (header) {\n                            var seperatorIndex = header.indexOf(\":\");\n                            var headerName = seperatorIndex > 0 ? header.substr(0, seperatorIndex).trim().toLowerCase() : header;\n                            var headerValue = seperatorIndex > 0 && header.length > (seperatorIndex + 1) ?\n                                header.substr(seperatorIndex + 1).trim() :\n                                \"\";\n                            headers[headerName] = headerValue;\n                        }\n                    }\n                }\n            }\n            return headers;\n        };\n    }\n    return WebsocketMessageFormatter;\n}());\nexports.WebsocketMessageFormatter = WebsocketMessageFormatter;\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SpeechRecognition_1 = __webpack_require__(19);\nexports.SpeechRecognizer = SpeechRecognition_1.SpeechRecognizer;\nvar SpeechSynthesis_1 = __webpack_require__(20);\nexports.SpeechSynthesizer = SpeechSynthesis_1.SpeechSynthesizer;\nexports.SynthesisGender = SpeechSynthesis_1.SynthesisGender;\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports) {\n\n// Provide a \"System\" global.\nmodule.exports = {\n\t// Make sure import is only used as \"System.import\"\n\timport: function() {\n\t\tthrow new Error(\"System.import cannot be used indirectly\");\n\t}\n};\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=CognitiveServices.js.map","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../custom-botframework-webchat/adaptivecards-hostconfig.json\");","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../custom-botframework-webchat/built/BotChat.js\");","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../sdk/shared/built/index.js\");","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../../sdk/ui-react/built/index.js\");","module.exports = (__webpack_require__(\"dll-reference shared_5e358c4ce1c49d05e044\"))(\"../shared/built/index.js\");","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { getBotDisplayName, IBotInfo } from '@bfemulator/app-shared';\n\nimport { CommandRegistry as CommReg, uniqueId } from '@bfemulator/sdk-shared';\nimport { IBotConfig, IEndpointService } from 'msbot/bin/schema';\nimport { IBotConfigWithPath } from '@bfemulator/sdk-shared';\nimport * as Constants from './constants';\nimport * as BotActions from './data/action/botActions';\nimport * as ChatActions from './data/action/chatActions';\nimport * as EditorActions from './data/action/editorActions';\nimport * as FileActions from './data/action/fileActions';\nimport * as NavBarActions from './data/action/navBarActions';\nimport { pathExistsInRecentBots } from './data/botHelpers';\nimport { getTabGroupForDocument, showWelcomePage } from './data/editorHelpers';\nimport store from './data/store';\nimport { ExtensionManager } from './extensions';\nimport { CommandService } from './platform/commands/commandService';\nimport * as LogService from './platform/log/logService';\nimport * as SettingsService from './platform/settings/settingsService';\nimport BotCreationDialog from './ui/dialogs/botCreationDialog';\nimport SecretPromptDialog from './ui/dialogs/secretPromptDialog';\nimport { DialogService } from './ui/dialogs/service';\nimport { ActiveBotHelper } from './ui/helpers/activeBotHelper';\n\n//=============================================================================\nexport const CommandRegistry = new CommReg();\n\n//=============================================================================\nexport function registerCommands() {\n\n  LogService.registerCommands();\n  SettingsService.registerCommands();\n  ExtensionManager.registerCommands();\n\n  //---------------------------------------------------------------------------\n  CommandRegistry.registerCommand('ping', () => {\n    return 'pong';\n  });\n\n  //---------------------------------------------------------------------------\n  // Shows the welcome page\n  CommandRegistry.registerCommand('welcome-page:show', () => {\n    showWelcomePage();\n  });\n\n  //---------------------------------------------------------------------------\n  // Shows a bot creation dialog\n  CommandRegistry.registerCommand('bot-creation:show', () => {\n    DialogService.showDialog(BotCreationDialog);\n  });\n\n  //---------------------------------------------------------------------------\n  // Shows a dialog prompting the user for a bot secret\n  CommandRegistry.registerCommand('secret-prompt:show', async () => {\n    return await DialogService.showDialog(SecretPromptDialog);\n  });\n\n  //---------------------------------------------------------------------------\n  // Switches the current active bot\n  CommandRegistry.registerCommand('bot:switch', (botPath: string) => {\n    ActiveBotHelper.confirmAndSwitchBots(botPath);\n  });\n\n  //---------------------------------------------------------------------------\n  // Closes the current active bot\n  CommandRegistry.registerCommand('bot:close', () => {\n    ActiveBotHelper.confirmAndCloseBot();\n  });\n\n\n  //---------------------------------------------------------------------------\n  // Browse for a .bot file and open it\n  CommandRegistry.registerCommand('bot:browse-open', () => {\n    ActiveBotHelper.confirmAndOpenBotFromFile();\n  });\n\n  //---------------------------------------------------------------------------\n  // Completes the client side sync of the bot:load command on the server side\n  // (NOTE: should NOT be called by itself; call server side instead)\n  CommandRegistry.registerCommand('bot:load', (bot: IBotConfigWithPath): void => {\n    if (!pathExistsInRecentBots(bot.path)) {\n      // create and switch bots\n      ActiveBotHelper.confirmAndCreateBot(bot, '');\n      return;\n    }\n    ActiveBotHelper.confirmAndSwitchBots(bot.path);\n  });\n\n  //---------------------------------------------------------------------------\n  // Syncs the client side list of bots with bots arg (usually called from server side)\n  CommandRegistry.registerCommand('bot:list:sync', async (bots: IBotInfo[]): Promise<void> => {\n    store.dispatch(BotActions.load(bots));\n    CommandService.remoteCall('menu:update-recent-bots');\n  });\n\n  //---------------------------------------------------------------------------\n  // Adds a transcript\n  CommandRegistry.registerCommand('transcript:add', (filename: string): void => {\n    store.dispatch(ChatActions.addTranscript(filename));\n  });\n\n  //---------------------------------------------------------------------------\n  // Removes a transcript\n  CommandRegistry.registerCommand('transcript:remove', (filename: string): void => {\n    store.dispatch(ChatActions.removeTranscript(filename));\n  });\n\n  //---------------------------------------------------------------------------\n  // Opens up bot settings page for a bot\n  CommandRegistry.registerCommand('bot-settings:open', (bot: IBotConfig): void => {\n    store.dispatch(EditorActions.open(Constants.ContentType_BotSettings, Constants.DocumentId_BotSettings, false));\n  });\n\n  //---------------------------------------------------------------------------\n  // Switches navbar tab selection\n  CommandRegistry.registerCommand('navbar:switchtab', (tabName: string): void => {\n    store.dispatch(NavBarActions.select(tabName));\n  });\n\n  //---------------------------------------------------------------------------\n  // Switches navbar tab selection to Explorer\n  CommandRegistry.registerCommand('shell:show-explorer', (): void => {\n    store.dispatch(NavBarActions.select(Constants.NavBar_Bot_Explorer));\n  });\n\n  //---------------------------------------------------------------------------\n  // Switches navbar tab selection to Services\n  CommandRegistry.registerCommand('shell:show-services', (): void => {\n    store.dispatch(NavBarActions.select(Constants.NavBar_Services));\n  });\n\n  //---------------------------------------------------------------------------\n  // Open App Settings\n  CommandRegistry.registerCommand('shell:show-app-settings', (): void => {\n    store.dispatch(EditorActions.open(Constants.ContentType_AppSettings, Constants.DocumentId_AppSettings, true, null));\n  });\n\n  //---------------------------------------------------------------------------\n  // Open a new emulator tabbed document\n  CommandRegistry.registerCommand('livechat:new', (endpoint: IEndpointService) => {\n    const documentId = uniqueId();\n\n    store.dispatch(ChatActions.newDocument(\n      documentId,\n      'livechat',\n      { endpointId: endpoint.id }\n    ));\n\n    store.dispatch(EditorActions.open(\n      Constants.ContentType_LiveChat,\n      documentId,\n      false\n    ));\n  });\n\n  //---------------------------------------------------------------------------\n  // Open the transcript file in a tabbed document\n  CommandRegistry.registerCommand('transcript:open', (filename: string, additionalData?: object) => {\n    const tabGroup = getTabGroupForDocument(filename);\n    if (!tabGroup) {\n      store.dispatch(ChatActions.newDocument(filename, 'transcript', additionalData));\n    }\n    store.dispatch(EditorActions.open(\n      Constants.ContentType_Transcript,\n      filename,\n      false\n    ));\n  });\n\n  //---------------------------------------------------------------------------\n  // Prompt to open a transcript file, then open it\n  CommandRegistry.registerCommand('transcript:prompt-open', () => {\n    const dialogOptions = {\n      title: 'Open transcript file',\n      buttonLabel: 'Choose file',\n      properties: ['openFile'],\n      filters: [\n        {\n          name: 'Transcript Files',\n          extensions: ['transcript']\n        }\n      ],\n    };\n    CommandService.remoteCall('shell:showOpenDialog', dialogOptions)\n      .then(filename => {\n        if (filename && filename.length) {\n          CommandService.call('transcript:open', filename);\n        }\n      })\n      .catch(err => console.error(err));\n  });\n\n  //---------------------------------------------------------------------------\n  CommandRegistry.registerCommand('file:add', (payload) => {\n    store.dispatch(FileActions.addFile(payload));\n  });\n\n  //---------------------------------------------------------------------------\n  CommandRegistry.registerCommand('file:remove', (path) => {\n    store.dispatch(FileActions.removeFile(path));\n  });\n\n  //---------------------------------------------------------------------------\n  // Sets a bot as active (called from server-side)\n  CommandRegistry.registerCommand('bot:set-active', (bot: IBotConfig, botDirectory: string) => {\n    store.dispatch(BotActions.setActive(bot));\n    store.dispatch(FileActions.setRoot(botDirectory));\n    CommandService.remoteCall('menu:update-recent-bots');\n    CommandService.remoteCall('electron:set-title-bar', getBotDisplayName(bot));\n  });\n\n  //---------------------------------------------------------------------------\n  // Toggle inspector dev tools for all open inspectors\n  CommandRegistry.registerCommand('shell:toggle-inspector-devtools', () => {\n    window.dispatchEvent(new Event('toggle-inspector-devtools'));\n  });\n\n  //---------------------------------------------------------------------------\n  // An update is ready to install\n  CommandRegistry.registerCommand('shell:update-downloaded', (...args: any[]) => {\n    // TODO: Show a notification\n    console.log('Update available', ...args);\n  });\n\n  //---------------------------------------------------------------------------\n  // Application is up to date\n  CommandRegistry.registerCommand('shell:update-not-available', () => {\n    // TODO: Show a notification\n    console.log('Application is up to date');\n  });\n\n  //---------------------------------------------------------------------------\n  // Open the link in the default browser\n  CommandRegistry.registerCommand('shell:open-external-link', (url: string) => {\n    window.open(url);\n  });\n\n  //---------------------------------------------------------------------------\n  // Open About dialog\n  CommandRegistry.registerCommand('shell:about', () => {\n    // TODO: Show about dialog (native dialog box)\n  });\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport const ContentType_AppSettings = 'application/vnd.microsoft.bfemulator.document.appsettings';\nexport const ContentType_WelcomePage = 'application/vnd.microsoft.bfemulator.document.welcome';\nexport const ContentType_BotSettings = 'application/vnd.microsoft.bfemulator.document.botsettings';\nexport const ContentType_Transcript = 'application/vnd.microsoft.bfemulator.document.transcript';\nexport const ContentType_LiveChat = 'application/vnd.microsoft.bfemulator.document.livechat';\nexport const ContentType_TestBed = 'application/vnd.microsoft.bfemulator.testbed';\n\nexport const NavBar_App = 'navbar.app';\nexport const NavBar_Bot_Explorer = 'navbar.botExplorer';\nexport const NavBar_Assets = 'navbar.assets';\nexport const NavBar_Services = 'navbar.services';\nexport const NavBar_Analytics = 'navbar.analytics';\nexport const NavBar_Settings = 'navbar.settings';\nexport const NavBar_Notifications = 'navbar.notifications';\nexport const NavBar_User = 'navbar.user';\n\nexport const EditorKey_Primary = 'primary';\nexport const EditorKey_Secondary = 'secondary';\n\nexport const EditorKeys = [\n  EditorKey_Primary,\n  EditorKey_Secondary\n];\n\nexport const DocumentId_AppSettings = 'app:settings';\nexport const DocumentId_BotSettings = 'bot:settings';\nexport const DocumentId_WelcomePage = 'welcome-page';\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IAzureBotService } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { Action } from 'redux';\nimport { AzureBotServiceEditor } from '../../ui/shell/explorer/azureBotServiceExplorer/azureBotServiceEditor/azureBotServiceEditor';\n\nexport const OPEN_AZURE_BOT_SERVICE_DEEP_LINK = 'OPEN_AZURE_BOT_SERVICE_DEEP_LINK';\nexport const OPEN_AZURE_BOT_SERVICE_CONTEXT_MENU = 'OPEN_AZURE_BOT_SERVICE_CONTEXT_MENU';\nexport const LAUNCH_AZURE_BOT_SERVICE_EDITOR = 'LAUNCH_AZURE_BOT_SERVICE_EDITOR';\n\nexport interface AzureBotServiceAction<T> extends Action {\n  payload: T;\n}\n\nexport interface AzureBotServicePayload {\n  azureBotService: IAzureBotService;\n}\n\nexport interface AzureBotServiceEditorPayload extends AzureBotServicePayload {\n  azureBotServiceEditorComponent?: ComponentClass<AzureBotServiceEditor>,\n}\n\nexport function launchAzureBotServiceEditor(azureBotServiceEditorComponent: ComponentClass<AzureBotServiceEditor>, azureBotService?: IAzureBotService): AzureBotServiceAction<AzureBotServiceEditorPayload> {\n  return {\n    type: LAUNCH_AZURE_BOT_SERVICE_EDITOR,\n    payload: { azureBotServiceEditorComponent, azureBotService }\n  };\n}\n\nexport function openAzureBotServiceDeepLink(azureBotService: IAzureBotService): AzureBotServiceAction<AzureBotServicePayload> {\n  return {\n    type: OPEN_AZURE_BOT_SERVICE_DEEP_LINK,\n    payload: { azureBotService }\n  };\n}\n\nexport function openAzureBotServiceExplorerContextMenu(azureBotServiceEditorComponent: ComponentClass<AzureBotServiceEditor>, azureBotService?: IAzureBotService): AzureBotServiceAction<AzureBotServiceEditorPayload> {\n  return {\n    type: OPEN_AZURE_BOT_SERVICE_CONTEXT_MENU,\n    payload: { azureBotServiceEditorComponent, azureBotService }\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IBotInfo } from '@bfemulator/app-shared';\nimport { IBotConfig } from 'msbot/bin/schema';\nimport { BotAction } from '../reducer/bot';\n\nexport const CREATE ='BOT/CREATE';\nexport const LOAD = 'BOT/LOAD';\nexport const PATCH = 'BOT/PATCH';\nexport const SET_ACTIVE = 'BOT/SET_ACTIVE';\nexport const CLOSE = 'BOT/CLOSE';\n\nexport function create(bot: IBotConfig, botFilePath: string, secret: string): BotAction {\n  return {\n    type: CREATE,\n    payload: {\n      bot,\n      botFilePath,\n      secret\n    }\n  };\n}\n\nexport function load(bots: IBotInfo[]): BotAction {\n  // prune bad bots\n  bots = bots.filter(bot => !!bot);\n\n  return {\n    type: LOAD,\n    payload: {\n      bots\n    }\n  };\n}\n\nexport function patch(bot: IBotConfig, secret?: string): BotAction {\n  return {\n    type: PATCH,\n    payload: {\n      bot,\n      secret\n    }\n  };\n}\nexport function setActive(bot: IBotConfig): BotAction {\n  return {\n    type: SET_ACTIVE,\n    payload: {\n      bot\n    }\n  };\n}\n\nexport function close(): BotAction {\n  return {\n    type: CLOSE,\n    payload: {}\n  };\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { ILogEntry } from '@bfemulator/app-shared';\r\nimport { createStore as createWebChatStore } from '@bfemulator/custom-botframework-webchat';\r\n\r\nexport const NEW_CHAT_DOCUMENT = 'CHAT/DOCUMENT/NEW';\r\nexport const OPEN_CHAT_DOCUMENT = 'CHAT/DOCUMENT/OPEN';\r\nexport const CLOSE_CHAT_DOCUMENT = 'CHAT/DOCUMENT/CLOSE';\r\nexport const PING_CHAT_DOCUMENT = 'CHAT/DOCUMENT/PING';\r\nexport const NEW_CONVERSATION = 'CHAT/CONVERSATION/NEW';\r\nexport const LOG_APPEND = 'CHAT/LOG/APPEND';\r\nexport const LOG_CLEAR = 'CHAT/LOG/CLEAR';\r\nexport const SET_INSPECTOR_OBJECTS = 'CHAT/INSPECTOR/OBJECTS/SET';\r\nexport const ADD_TRANSCRIPT = 'CHAT/TRANSCRIPT/ADD';\r\nexport const CLEAR_TRANSCRIPTS = 'CHAT/TRANSCRIPT/CLEAR';\r\nexport const REMOVE_TRANSCRIPT = 'CHAT/TRANSCRIPT/REMOVE';\r\n\r\ntype ChatMode = 'livechat' | 'transcript';\r\n\r\nexport type ChatAction = {\r\n  type: 'CHAT/DOCUMENT/NEW',\r\n  payload: {\r\n    [propName: string]: any,\r\n    documentId: string,\r\n    mode: ChatMode\r\n  }\r\n} | {\r\n  type: 'CHAT/DOCUMENT/OPEN',\r\n  payload: {}\r\n} | {\r\n  type: 'CHAT/DOCUMENT/CLOSE',\r\n  payload: {\r\n    documentId: string\r\n  }\r\n} | {\r\n  type: 'CHAT/CONVERSATION/NEW',\r\n  payload: {\r\n    documentId: string,\r\n    options: any\r\n  }\r\n} | {\r\n  type: 'CHAT/LOG/APPEND',\r\n  payload: {\r\n    documentId: string,\r\n    entry: ILogEntry\r\n  }\r\n} | {\r\n  type: 'CHAT/LOG/CLEAR',\r\n  payload: {\r\n    documentId: string\r\n  }\r\n} | {\r\n  type: 'CHAT/INSPECTOR/OBJECTS/SET',\r\n  payload: {\r\n    documentId: string,\r\n    objs: any\r\n  }\r\n} | {\r\n  type: 'CHAT/TRANSCRIPT/ADD',\r\n  payload: {\r\n    filename: string\r\n  }\r\n} | {\r\n  type: 'CHAT/TRANSCRIPT/CLEAR',\r\n  payload: {}\r\n} | {\r\n  type: 'CHAT/TRANSCRIPT/REMOVE',\r\n  payload: {\r\n    filename: string\r\n  }\r\n} | {\r\n  type: 'CHAT/DOCUMENT/PING',\r\n  payload: {\r\n    documentId: string\r\n  }\r\n};\r\n\r\nexport function pingDocument(documentId: string): ChatAction {\r\n  return {\r\n    type: PING_CHAT_DOCUMENT,\r\n    payload: {\r\n      documentId\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function addTranscript(filename: string): ChatAction {\r\n  return {\r\n    type: ADD_TRANSCRIPT,\r\n    payload: {\r\n      filename\r\n    }\r\n  };\r\n}\r\n\r\nexport function clearTranscripts(): ChatAction {\r\n  return {\r\n    type: CLEAR_TRANSCRIPTS,\r\n    payload: {}\r\n  };\r\n}\r\n\r\nexport function removeTranscript(filename: string): ChatAction {\r\n  return {\r\n    type: REMOVE_TRANSCRIPT,\r\n    payload: {\r\n      filename\r\n    }\r\n  };\r\n}\r\n\r\nexport function newDocument(documentId: string, mode: ChatMode, additionalData?: object): ChatAction {\r\n  return {\r\n    type: NEW_CHAT_DOCUMENT,\r\n    payload: {\r\n      pingId: 0,\r\n      mode,\r\n      documentId,\r\n      conversationId: null,\r\n      webChatStore: createWebChatStore(),\r\n      directLine: null,\r\n      log: {\r\n        entries: []\r\n      },\r\n      inspectorObjects: [],\r\n      ui: {\r\n        horizontalSplitter: [\r\n          {\r\n            absolute: null,\r\n            percentage: 50\r\n          },\r\n          {\r\n            absolute: null,\r\n            percentage: 50\r\n          }\r\n        ],\r\n        verticalSplitter: [\r\n          {\r\n            absolute: null,\r\n            percentage: 50\r\n          },\r\n          {\r\n            absolute: null,\r\n            percentage: 50\r\n          }\r\n        ],\r\n      },\r\n      ...additionalData\r\n    }\r\n  }\r\n}\r\n\r\nexport function closeDocument(documentId: string): ChatAction {\r\n  return {\r\n    type: CLOSE_CHAT_DOCUMENT,\r\n    payload: {\r\n      documentId,\r\n    }\r\n  }\r\n}\r\n\r\nexport function newConversation(documentId: string, options: any): ChatAction {\r\n  return {\r\n    type: NEW_CONVERSATION,\r\n    payload: {\r\n      documentId,\r\n      options\r\n    }\r\n  }\r\n}\r\n\r\nexport function appendToLog(documentId: string, entry: ILogEntry): ChatAction {\r\n  return {\r\n    type: LOG_APPEND,\r\n    payload: {\r\n      documentId,\r\n      entry\r\n    }\r\n  }\r\n}\r\n\r\nexport function clearLog(documentId: string): ChatAction {\r\n  return {\r\n    type: LOG_CLEAR,\r\n    payload: {\r\n      documentId,\r\n    }\r\n  }\r\n}\r\n\r\nexport function setInspectorObjects(documentId: string, objs: any): ChatAction {\r\n  objs = Array.isArray(objs) ? objs : [objs];\r\n  return {\r\n    type: SET_INSPECTOR_OBJECTS,\r\n    payload: {\r\n      documentId,\r\n      objs\r\n    }\r\n  }\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport const SET_SHOWING = 'DIALOG/SET_SHOWING';\n\nexport function setShowing(showing) {\n  return {\n    type: SET_SHOWING,\n    payload: {\n      showing\n    }\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IDispatchService } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { Action } from 'redux';\nimport { DispatchEditor } from '../../ui/shell/explorer/dispatchExplorer/dispatchEditor/dispatchEditor';\n\nexport const OPEN_DISPATCH_DEEP_LINK = 'OPEN_DISPATCH_DEEP_LINK';\nexport const OPEN_DISPATCH_CONTEXT_MENU = 'OPEN_DISPATCH_CONTEXT_MENU';\nexport const LAUNCH_DISPATCH_EDITOR = 'LAUNCH_DISPATCH_EDITOR';\nexport const RETRIEVE_DISPATCH_MODELS = 'RETRIEVE_DISPATCH_MODELS';\n\nexport interface DispatchServiceAction<T> extends Action {\n  payload: T;\n}\n\nexport interface DispatchServicePayload {\n  dispatchService: IDispatchService;\n}\n\nexport interface DispatchEditorPayload extends DispatchServicePayload {\n  dispatchEditorComponent?: ComponentClass<DispatchEditor>,\n}\n\nexport function launchDispatchEditor(dispatchEditorComponent: ComponentClass<DispatchEditor>, dispatchService?: IDispatchService): DispatchServiceAction<DispatchEditorPayload> {\n  return {\n    type: LAUNCH_DISPATCH_EDITOR,\n    payload: { dispatchEditorComponent, dispatchService }\n  };\n}\n\nexport function openDispatchDeepLink(dispatchService: IDispatchService): DispatchServiceAction<DispatchServicePayload> {\n  return {\n    type: OPEN_DISPATCH_DEEP_LINK,\n    payload: { dispatchService }\n  };\n}\n\nexport function openDispatchExplorerContextMenu(dispatchEditorComponent: ComponentClass<DispatchEditor>, dispatchService?: IDispatchService): DispatchServiceAction<DispatchEditorPayload> {\n  return {\n    type: OPEN_DISPATCH_CONTEXT_MENU,\n    payload: { dispatchEditorComponent, dispatchService }\n  };\n}\n\nexport function retrieveDispatchModels(): Action {\n  return {\n    type: RETRIEVE_DISPATCH_MODELS\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IDocument } from '../reducer/editor';\n\nexport const APPEND_TAB = 'EDITOR/APPEND_TAB';\nexport const CLOSE = 'EDITOR/CLOSE';\nexport const CLOSE_ALL = 'EDITOR/CLOSE_ALL';\nexport const SET_DIRTY_FLAG = 'EDITOR/SET_DIRTY_FLAG';\nexport const OPEN = 'EDITOR/OPEN';\nexport const SET_ACTIVE_TAB = 'EDITOR/SET_ACTIVE_TAB';\nexport const SET_ACTIVE_EDITOR = 'EDITOR/SET_ACTIVE_EDITOR';\nexport const SPLIT_TAB = 'EDITOR/SPLIT_TAB';\nexport const SWAP_TABS = 'EDITOR/SWAP_TABS';\nexport const TOGGLE_DRAGGING_TAB = 'EDITOR/TOGGLE_DRAGGING_TAB';\nexport const UPDATE_DOCUMENT = 'EDITOR/UPDATE_DOCUMENT';\n\nexport type EditorAction = {\n  type: 'EDITOR/APPEND_TAB',\n  payload: {\n    srcEditorKey: string,\n    destEditorKey: string,\n    documentId: string\n  }\n} | {\n  type: 'EDITOR/CLOSE',\n  payload: {\n    editorKey: string,\n    documentId: string\n  }\n} | {\n  type: 'EDITOR/CLOSE_ALL',\n  payload : {\n    includeGlobal: boolean\n  }\n} | {\n  type: 'EDITOR/SET_DIRTY_FLAG',\n  payload: {\n    documentId: string,\n    dirty: boolean\n  }\n} | {\n  type: 'EDITOR/OPEN',\n  payload: IDocument\n} | {\n  type: 'EDITOR/UPDATE_DOCUMENT',\n  payload: IDocument\n} | {\n  type: 'EDITOR/SET_ACTIVE_TAB',\n  payload: {\n    documentId: string\n  }\n} | {\n  type: 'EDITOR/SET_ACTIVE_EDITOR',\n  payload: {\n    editorKey: string\n  }\n} | {\n  type: 'EDITOR/SPLIT_TAB',\n  payload: {\n    contentType: string,\n    documentId: string,\n    srcEditorKey: string,\n    destEditorKey: string\n  }\n} | {\n  type: 'EDITOR/SWAP_TABS',\n  payload: {\n    srcEditorKey: string,\n    destEditorKey: string,\n    srcTabId: string,\n    destTabId: string\n  }\n} | {\n  type: 'EDITOR/TOGGLE_DRAGGING_TAB',\n  payload: {\n    draggingTab: boolean\n  }\n};\n\nexport function appendTab(srcEditorKey: string, destEditorKey: string, documentId: string): EditorAction {\n  return {\n    type: APPEND_TAB,\n    payload: {\n      srcEditorKey,\n      destEditorKey,\n      documentId\n    }\n  };\n}\n\nexport function close(editorKey: string, documentId: string): EditorAction {\n  return {\n    type: CLOSE,\n    payload: {\n      editorKey,\n      documentId\n    }\n  };\n}\n\nexport function closeNonGlobalTabs(): EditorAction {\n  return {\n    type: CLOSE_ALL,\n    payload: {\n      includeGlobal: false\n    }\n  };\n}\n\nexport function setDirtyFlag(documentId: string, dirty: boolean): EditorAction {\n  return {\n    type: SET_DIRTY_FLAG,\n    payload: {\n      documentId,\n      dirty\n    }\n  };\n}\n\nexport function open(contentType: string, documentId: string, isGlobal: boolean, meta?: any): EditorAction {\n  return {\n    type: OPEN,\n    payload: {\n      contentType,\n      documentId,\n      isGlobal,\n      meta\n    }\n  };\n}\n\nexport function updateDocument(documentId, updatedDocument: Partial<IDocument>) {\n  return {\n    type: UPDATE_DOCUMENT,\n      payload: { documentId, ...updatedDocument }\n  }\n}\n\nexport function setActiveTab(documentId: string): EditorAction {\n  return {\n    type: SET_ACTIVE_TAB,\n    payload: {\n      documentId\n    }\n  };\n}\n\nexport function setActiveEditor(editorKey: string): EditorAction {\n  return {\n    type: SET_ACTIVE_EDITOR,\n    payload: {\n      editorKey\n    }\n  }\n}\n\nexport function splitTab(contentType: string, documentId: string, srcEditorKey: string, destEditorKey: string): EditorAction {\n  return {\n    type: SPLIT_TAB,\n    payload: {\n      contentType,\n      documentId,\n      srcEditorKey,\n      destEditorKey\n    }\n  };\n}\n\nexport function swapTabs(srcEditorKey: string, destEditorKey: string, srcTabId: string, destTabId: string): EditorAction {\n  return {\n    type: SWAP_TABS,\n    payload: {\n      srcEditorKey,\n      destEditorKey,\n      srcTabId,\n      destTabId\n    }\n  };\n}\n\nexport function toggleDraggingTab(draggingTab: boolean): EditorAction {\n  return {\n    type: TOGGLE_DRAGGING_TAB,\n    payload: {\n      draggingTab\n    }\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IEndpointService } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { Action } from 'redux';\nimport { EndpointEditor } from '../../ui/shell/explorer/endpointExplorer/endpointEditor/endpointEditor';\n\nexport const OPEN_ENDPOINT_DEEP_LINK = 'OPEN_ENDPOINT_DEEP_LINK';\nexport const OPEN_ENDPOINT_CONTEXT_MENU = 'OPEN_ENDPOINT_CONTEXT_MENU';\nexport const LAUNCH_ENDPOINT_EDITOR = 'LAUNCH_ENDPOINT_EDITOR';\n\nexport interface EndpointServiceAction<T> extends Action {\n  payload: T;\n}\n\nexport interface EndpointServicePayload {\n  endpointService: IEndpointService;\n}\n\nexport interface EndpointEditorPayload extends EndpointServicePayload {\n  endpointEditorComponent?: ComponentClass<EndpointEditor>,\n}\n\nexport function launchEndpointEditor(endpointEditorComponent: ComponentClass<EndpointEditor>, endpointService?: IEndpointService): EndpointServiceAction<EndpointEditorPayload> {\n  return {\n    type: LAUNCH_ENDPOINT_EDITOR,\n    payload: { endpointEditorComponent, endpointService }\n  };\n}\n\nexport function openEndpointDeepLink(endpointService: IEndpointService): EndpointServiceAction<EndpointServicePayload> {\n  return {\n    type: OPEN_ENDPOINT_DEEP_LINK,\n    payload: { endpointService }\n  };\n}\n\nexport function openEndpointExplorerContextMenu(endpointEditorComponent: ComponentClass<EndpointEditor>, endpointService?: IEndpointService): EndpointServiceAction<EndpointEditorPayload> {\n  return {\n    type: OPEN_ENDPOINT_CONTEXT_MENU,\n    payload: { endpointEditorComponent, endpointService }\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport const SHOW = 'EXPLORER/SHOW';\n\nexport function show(show: boolean) {\n  return {\n    type: SHOW,\n    payload: {\n      show\n    }\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { FileInfo } from '@bfemulator/app-shared';\n\nexport enum FileActions {\n  setRoot = 'file/setRoot',\n  add = 'file/add',\n  remove = 'file/remove'\n}\n\nexport function addFile(payload: FileInfo) {\n  return {\n    type: FileActions.add,\n    payload\n  };\n}\n\nexport function removeFile(path: string) {\n  return {\n    type: FileActions.remove,\n    payload: { path }\n  }\n}\n\nexport function setRoot(path: string) {\n  return {\n    type: FileActions.setRoot,\n    payload: { path }\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { ComponentClass } from 'react';\nimport { Action } from 'redux';\n\nexport const LUIS_LAUNCH_MODELS_VIEWER = 'LUIS_LAUNCH_MODELS_VIEWER';\nexport const LUIS_AUTHORING_DATA_CHANGED = 'LUIS_AUTHORING_DATA_CHANGED';\nexport const LUIS_AUTH_STATUS_CHANGED = 'LUIS_AUTH_STATUS_CHANGED';\n\nexport interface LuisAuthAction<T> extends Action {\n  payload: T\n}\n\nexport interface LuisAuthData {\n  luisAuthData: { key: string, BaseUrl: string },\n}\n\nexport interface LuisAuthWorkflowStatus {\n  luisAuthWorkflowStatus: 'inProgress' | 'ended' | 'notStarted' | 'canceled',\n}\n\nexport interface LuisModelViewer {\n  luisModelViewer: ComponentClass<any>;\n}\n\nexport function launchLuisModelsViewer(luisModelViewer: ComponentClass<any>): LuisAuthAction<LuisModelViewer> {\n  return {\n    type: LUIS_LAUNCH_MODELS_VIEWER,\n    payload: { luisModelViewer }\n  };\n}\n\nexport function luisAuthoringDataChanged(luisAuthData: { key: string, BaseUrl: string }): LuisAuthAction<LuisAuthData> {\n  return {\n    type: LUIS_AUTHORING_DATA_CHANGED,\n    payload: { luisAuthData }\n  };\n}\n\nexport function luisAuthStatusChanged(luisAuthWorkflowStatus: 'inProgress' | 'ended' | 'notStarted' | 'canceled'): LuisAuthAction<LuisAuthWorkflowStatus> {\n  return {\n    type: LUIS_AUTH_STATUS_CHANGED,\n    payload: { luisAuthWorkflowStatus }\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { ILuisService } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { Action } from 'redux';\nimport { LuisEditor } from '../../ui/shell/explorer/luisExplorer/luisEditor/luisEditor';\n\nexport const OPEN_LUIS_DEEP_LINK = 'OPEN_LUIS_DEEP_LINK';\nexport const OPEN_LUIS_CONTEXT_MENU = 'OPEN_LUIS_CONTEXT_MENU';\nexport const LAUNCH_LUIS_EDITOR = 'LAUNCH_LUIS_EDITOR';\nexport const RETRIEVE_LUIS_MODELS = 'RETRIEVE_LUIS_MODELS';\n\nexport interface LuisServiceAction<T> extends Action {\n  payload: T;\n}\n\nexport interface LuisServicePayload {\n  luisService: ILuisService;\n}\n\nexport interface LuisEditorPayload extends LuisServicePayload {\n  luisEditorComponent?: ComponentClass<LuisEditor>,\n}\n\nexport function launchLuisEditor(luisEditorComponent: ComponentClass<LuisEditor>, luisService?: ILuisService): LuisServiceAction<LuisEditorPayload> {\n  return {\n    type: LAUNCH_LUIS_EDITOR,\n    payload: { luisEditorComponent, luisService }\n  };\n}\n\nexport function openLuisDeepLink(luisService: ILuisService): LuisServiceAction<LuisServicePayload> {\n  return {\n    type: OPEN_LUIS_DEEP_LINK,\n    payload: { luisService }\n  };\n}\n\nexport function openLuisExplorerContextMenu(luisEditorComponent: ComponentClass<LuisEditor>, luisService?: ILuisService): LuisServiceAction<LuisEditorPayload> {\n  return {\n    type: OPEN_LUIS_CONTEXT_MENU,\n    payload: { luisEditorComponent, luisService }\n  };\n}\n\nexport function retrieveLuisModels(): Action {\n  return {\n    type: RETRIEVE_LUIS_MODELS\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport const SELECT_OR_TOGGLE = 'NAVBAR/SELECT_OR_TOGGLE';\nexport const SELECT = 'NAVBAR/SELECT';\n\nexport function selectOrToggle(selection: string) {\n  return {\n    type: SELECT_OR_TOGGLE,\n    payload: {\n      selection\n    }\n  };\n}\n\nexport function select(selection: string) {\n  return {\n    type: SELECT,\n    payload: {\n      selection\n    }\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport type PresentationAction = {\n  type: 'PRESENTATION/ENABLE',\n  payload: {}\n} | {\n  type: 'PRESENTATION/DISABLE',\n  payload: {}\n};\n\nexport const ENABLE = 'PRESENTATION/ENABLE';\nexport const DISABLE = 'PRESENTATION/DISABLE';\n\nexport function enable(): PresentationAction {\n  return {\n    type: 'PRESENTATION/ENABLE',\n    payload: {}\n  };\n}\n\nexport function disable(): PresentationAction {\n  return {\n    type: 'PRESENTATION/DISABLE',\n    payload: {}\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IQnAService } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { Action } from 'redux';\nimport { QnaMakerEditor } from '../../ui/shell/explorer/qnaMakerExplorer/qnaMakerEditor/qnaMakerEditor';\n\nexport const OPEN_QNA_MAKER_DEEP_LINK = 'OPEN_QNA_MAKER_DEEP_LINK';\nexport const OPEN_QNA_MAKER_CONTEXT_MENU = 'OPEN_QNA_MAKER_CONTEXT_MENU';\nexport const LAUNCH_QNA_MAKER_EDITOR = 'LAUNCH_QNA_MAKER_EDITOR';\n\nexport interface QnaMakerServiceAction<T> extends Action {\n  payload: T;\n}\n\nexport interface QnaMakerServicePayload {\n  qnaMakerService: IQnAService;\n}\n\nexport interface QnaMakerEditorPayload extends QnaMakerServicePayload {\n  qnaMakerEditorComponent?: ComponentClass<QnaMakerEditor>,\n}\n\nexport function launchQnaMakerEditor(qnaMakerEditorComponent: ComponentClass<QnaMakerEditor>, qnaMakerService?: IQnAService): QnaMakerServiceAction<QnaMakerEditorPayload> {\n  return {\n    type: LAUNCH_QNA_MAKER_EDITOR,\n    payload: { qnaMakerEditorComponent, qnaMakerService }\n  };\n}\n\nexport function openQnAMakerDeepLink(qnaMakerService: IQnAService): QnaMakerServiceAction<QnaMakerServicePayload> {\n  return {\n    type: OPEN_QNA_MAKER_DEEP_LINK,\n    payload: { qnaMakerService }\n  };\n}\n\nexport function openQnaMakerExplorerContextMenu(qnaMakerEditorComponent: ComponentClass<QnaMakerEditor>, qnaMakerService?: IQnAService): QnaMakerServiceAction<QnaMakerEditorPayload> {\n  return {\n    type: OPEN_QNA_MAKER_CONTEXT_MENU,\n    payload: { qnaMakerEditorComponent, qnaMakerService }\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport const ALIVE = 'SERVER/ALIVE';\nexport const PING = 'SERVER/PING';\n\nexport type ServerAction = {\n  type: 'SERVER/PING',\n  meta: { send: boolean }\n} | {\n  type: 'SERVER/ALIVE',\n  meta: { send: boolean },\n  payload: {\n    host: string,\n    now: string,\n    version: string\n  }\n};\n\nexport function ping(): ServerAction {\n  return {\n    type: PING,\n    meta: { send: true }\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IBotInfo } from '@bfemulator/app-shared';\nimport { IBotConfigWithPath } from '@bfemulator/sdk-shared';\nimport store from './store';\n\nexport function getActiveBot(): IBotConfigWithPath {\n  return store.getState().bot.activeBot;\n}\n\nexport function getBotInfoByPath(path: string): IBotInfo {\n  const state = store.getState();\n  return state.bot.botFiles.find(bot => bot && bot.path === path);\n}\n\nexport function pathExistsInRecentBots(path: string): boolean {\n  const state = store.getState();\n  return state.bot.botFiles.some(bot => bot && bot.path === path);\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport store from './store';\n\nexport function documentIdForConversation(conversationId: string): string {\n  const state = store.getState();\n  for (let key in state.chat.chats) {\n    if (state.chat.chats[key].conversationId === conversationId) {\n      return state.chat.chats[key].documentId\n    }\n  }\n  return undefined;\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport store from './store';\nimport * as EditorActions from './action/editorActions';\nimport * as Constants from '../constants';\nimport { IEditor } from '../data/reducer/editor';\n\nexport function hasNonGlobalTabs(tabGroups?: { [editorKey: string]: IEditor }): number {\n  tabGroups = tabGroups || store.getState().editor.editors;\n  let count = 0;\n  for (let key in tabGroups) {\n    if (tabGroups[key]) {\n      count += Object.keys(tabGroups[key].documents)\n        .map(documentId => tabGroups[key].documents[documentId])\n        .filter(document => !document.isGlobal).length;\n    }\n  }\n  return count;\n}\n\n// @returns: name of editor group, or undefined if doc is not open.\nexport function getTabGroupForDocument(documentId: string, tabGroups?: { [editorKey: string]: IEditor }): string {\n  tabGroups = tabGroups || store.getState().editor.editors;\n  for (let key in tabGroups) {\n    if (tabGroups[key] && tabGroups[key].documents) {\n      if (tabGroups[key].documents[documentId])\n        return key;\n    }\n  }\n  return undefined;\n}\n\n/** Takes a tab group key and returns the key of the other tab group */\nexport function getOtherTabGroup(tabGroup: string): string {\n  return tabGroup === Constants.EditorKey_Primary ? Constants.EditorKey_Secondary : Constants.EditorKey_Primary;\n}\n\nexport function showWelcomePage(): void {\n  store.dispatch(EditorActions.open(Constants.ContentType_WelcomePage, Constants.DocumentId_WelcomePage, true));\n}\n\nexport function showAppSettingsPage(): void {\n  store.dispatch(EditorActions.open(Constants.ContentType_AppSettings, Constants.DocumentId_AppSettings, true));\n}\n\nexport function tabGroupHasDocuments(tabGroup: IEditor): boolean {\n  return Object.keys(tabGroup.documents).length ? true : false;\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport interface LuisModel {\n  id: string,\n  name: string,\n  description: string,\n  culture: string,\n  usageScenario: string,\n  domain: string,\n  versionsCount: number,\n  createdDateTime: string,\n  endpoints: {\n    PRODUCTION: any,\n    STAGING: any\n  },\n  endpointHitsCount: number,\n  activeVersion: string,\n  ownerEmail: string\n}\n\nexport class LuisApi {\n  public static async getApplicationsList(luisAuthData: { key: string, region: string }, skip?: number, take?: number): Promise<LuisModel[]> {\n    const { key: authoringKey, region } = luisAuthData;\n    let url = `https://${region}.api.cognitive.microsoft.com/luis/api/v2.0/apps/`;\n    const headers = new Headers({\n      'Content-Accept': 'application/json',\n      'Ocp-Apim-Subscription-Key': authoringKey\n    });\n\n    if (skip || take) {\n      url += '?';\n      if (!isNaN(+skip)) {\n        url += `skip=${~~skip}`;\n      }\n      if (!isNaN(+take)) {\n        url += !isNaN(+skip) ? `&take=${~~take}` : `take=${~~take}`;\n      }\n    }\n    const response = await fetch(url, { headers, method: 'get' });\n    return await response.json() as LuisModel[];\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IBotConfigWithPath } from '@bfemulator/sdk-shared';\nimport * as BotActions from '../action/botActions';\nimport { getBotDisplayName, IBotInfo } from '@bfemulator/app-shared';\nimport { IBotConfig } from 'msbot/bin/schema';\nimport { getBotInfoByPath } from '../botHelpers';\n\nexport interface IBotState {\n  activeBot: IBotConfig;\n  botFiles: IBotInfo[];\n}\n\nexport type BotAction = {\n  type: 'BOT/CREATE',\n  payload: {\n    bot: IBotConfig,\n    botFilePath: string,\n    secret: string\n  }\n} | {\n  type: 'BOT/LOAD',\n  payload: {\n    bots: IBotInfo[]\n  }\n} | {\n  type: 'BOT/PATCH',\n  payload: {\n    bot: IBotConfigWithPath,\n    secret?: string\n  }\n} | {\n  type: 'BOT/SET_ACTIVE',\n  payload: {\n    bot: IBotConfigWithPath\n  }\n} | {\n  type: 'BOT/CLOSE',\n  payload: {\n  }\n};\n\nconst DEFAULT_STATE: IBotState = {\n  activeBot: null,\n  botFiles: []\n};\n\nexport default function bot(state: IBotState = DEFAULT_STATE, action: BotAction) {\n  switch(action.type) {\n    case BotActions.CREATE: {\n      const newBot: IBotInfo = { path: action.payload.botFilePath, displayName: getBotDisplayName(action.payload.bot), secret: action.payload.secret };\n      const bots = [...state.botFiles].filter(bot => bot.path !== action.payload.botFilePath);\n      bots.unshift(newBot);\n      state = setBotFilesState(bots, state);\n      break;\n    }\n\n    case BotActions.LOAD: {\n      state = setBotFilesState(action.payload.bots, state);\n      break;\n    }\n\n    case BotActions.PATCH: {\n      const patchedBot = {\n        ...state.activeBot,\n        ...action.payload.bot\n      };\n      // update the bot display name in the list if it was changed\n      const bot = getBotInfoByPath(action.payload.bot.path);\n      if (bot) {\n        bot.displayName = getBotDisplayName(action.payload.bot);\n        if (action.payload.secret)\n          bot.secret = action.payload.secret;\n      }\n      state = setActiveBot(patchedBot, state);\n      break;\n    }\n\n    case BotActions.SET_ACTIVE: {\n      // move active bot up to the top of the recent bots list\n      const mostRecentBot = state.botFiles.find(bot => bot && bot.path === action.payload.bot.path);\n      let recentBots = state.botFiles.filter(bot => bot && bot.path !== action.payload.bot.path);\n      recentBots.unshift(mostRecentBot);\n      state = setBotFilesState(recentBots, state);\n      state = setActiveBot(action.payload.bot, state);\n      break;\n    }\n\n    case BotActions.CLOSE: {\n      // close the ative bot\n      state = setActiveBot(null, state);\n      break;\n    }\n\n    default: break;\n  }\n  return state;\n}\n\nfunction setActiveBot(bot: IBotConfig, state: IBotState): IBotState {\n  let newState = Object.assign({}, state);\n\n  newState.activeBot = bot;\n  return newState;\n}\n\nfunction setBotFilesState(botFilesState: IBotInfo[], state: IBotState): IBotState {\n  let newState = Object.assign({}, state);\n\n  newState.botFiles = botFilesState;\n  return newState;\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as ChatActions from '../action/chatActions';\nimport * as EditorActions from '../action/editorActions';\nimport { ChatAction } from '../action/chatActions';\nimport { EditorAction } from '../action/editorActions';\n\n// TODO: Should be defined and maybe added to shared\ninterface IChat {}\n\nexport interface IChatState {\n  changeKey?: number;\n  // TODO: keys should map to an IChat\n  chats?: { [chatId: string]: any };\n  transcripts?: string[];\n}\n\nconst DEFAULT_STATE: IChatState = {\n  changeKey: 0,\n  chats: {},\n  transcripts: [],\n}\n\nexport default function chat(state: IChatState = DEFAULT_STATE, action: ChatAction | EditorAction): IChatState {\n  switch (action.type) {\n    case ChatActions.PING_CHAT_DOCUMENT: {\n      const { payload } = action;\n      state = {\n        ...state,\n        changeKey: state.changeKey + 1,\n        chats: {\n          ...state.chats,\n          [payload.documentId]: {\n            ...state.chats[payload.documentId],\n            pingId: state.chats[payload.documentId].pingId + 1\n          }\n        }\n      }\n      break;\n    }\n\n    case ChatActions.ADD_TRANSCRIPT: {\n      const { payload } = action;\n      const transcriptsCopy = [...state.transcripts];\n      const transcripts = transcriptsCopy.filter(xs => xs !== payload.filename);\n      transcripts.push(payload.filename);\n      state = setTranscriptsState(transcripts, state);\n      break;\n    }\n\n    case ChatActions.CLEAR_TRANSCRIPTS: {\n      state = setTranscriptsState([], state);\n      break;\n    }\n\n    case ChatActions.REMOVE_TRANSCRIPT: {\n      const { payload } = action;\n      const transcriptsCopy = [...state.transcripts];\n      const transcripts = transcriptsCopy.filter(xs => xs !== payload.filename);\n      state = setTranscriptsState(transcripts, state);\n      break;\n    }\n\n    case ChatActions.NEW_CHAT_DOCUMENT: {\n      const { payload } = action;\n      state = {\n        ...state,\n        changeKey: state.changeKey + 1,\n        chats: {\n          ...state.chats,\n          [payload.documentId]: { ...payload }\n        }\n      }\n      break;\n    }\n\n    case ChatActions.CLOSE_CHAT_DOCUMENT: {\n      const { payload } = action;\n      const copy = { ...state };\n      copy.changeKey += 1;\n      delete copy.chats[payload.documentId];\n      state = { ...copy };\n      break;\n    }\n\n    case ChatActions.NEW_CONVERSATION: {\n      const { payload } = action;\n      let document = state.chats[payload.documentId];\n      if (document) {\n        document = {\n          ...document,\n          ...payload.options\n        }\n        state = {\n          ...state,\n          chats: {\n            ...state.chats,\n            [payload.documentId]: {\n              ...document\n            }\n          }\n        }\n      }\n      break;\n    }\n\n    case ChatActions.LOG_APPEND: {\n      const { payload } = action;\n      let document = state.chats[payload.documentId];\n      if (document) {\n        document = {\n          ...document,\n          log: {\n            ...document.log,\n            entries: [\n              ...document.log.entries,\n              payload.entry\n            ]\n          }\n        }\n        state = {\n          ...state,\n          chats: {\n            ...state.chats,\n            [payload.documentId]: {\n              ...document\n            }\n          }\n        }\n      }\n      break;\n    }\n\n    case ChatActions.LOG_CLEAR: {\n      const { payload } = action;\n      let document = state.chats[payload.documentId];\n      if (document) {\n        document = {\n          ...document,\n          log: {\n            entries: []\n          }\n        }\n        state = {\n          ...state,\n          chats: {\n            ...state.chats,\n            [payload.documentId]: {\n              ...document\n            }\n          }\n        }\n      }\n      break;\n    }\n\n    case ChatActions.SET_INSPECTOR_OBJECTS: {\n      const { payload } = action;\n      let document = state.chats[payload.documentId];\n      if (document) {\n        document = {\n          ...document,\n          inspectorObjects: payload.objs\n        }\n      }\n      state = {\n        ...state,\n        chats: {\n          ...state.chats,\n          [payload.documentId]: {\n            ...document\n          }\n        }\n      }\n      break;\n    }\n\n    case EditorActions.CLOSE_ALL: {\n      // HACK. Need a better system.\n      return DEFAULT_STATE;\n    }\n\n    default: break;\n  }\n\n  return state;\n}\n\nfunction setTranscriptsState(transcripts: string[], state: IChatState): IChatState {\n  let newState = Object.assign({}, state);\n\n  newState.transcripts = transcripts;\n  newState.changeKey = state.changeKey + 1;\n  return newState;\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as DialogActions from '../action/dialogActions';\n\nexport interface IDialogState {\n  showing: boolean;\n}\n\ntype IDialogAction = {\n  type: 'DIALOG/SET_SHOWING';\n  payload: {\n    showing: boolean\n  };\n};\n\nconst DEFAULT_STATE: IDialogState = {\n  showing: false\n};\n\nexport default function dialog(state: IDialogState = DEFAULT_STATE, action: IDialogAction): IDialogState {\n  switch(action.type) {\n    case DialogActions.SET_SHOWING: {\n      state = setShowing(action.payload.showing, state);\n      break;\n    }\n\n    default:\n      break;\n  }\n  return state;\n}\n\nfunction setShowing(showing: boolean, state: IDialogState): IDialogState {\n  return { showing: showing };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { deepCopySlow } from '@bfemulator/app-shared';\nimport * as Constants from '../../constants';\nimport * as EditorActions from '../action/editorActions';\nimport { EditorAction } from '../action/editorActions';\nimport { getOtherTabGroup, tabGroupHasDocuments } from '../editorHelpers';\n\nexport interface IEditorState {\n  // TODO: enum editors\n  activeEditor?: string;\n  draggingTab?: boolean;\n  editors?: { [editorKey: string]: IEditor };\n}\n\n// TODO: rename all mentions of editor to tab group\n/** Represents an editor (tab group) */\nexport interface IEditor {\n  activeDocumentId?: string;\n  documents?: { [documentId: string]: IDocument };\n  /** UI representation of tab order in tab bar */\n  tabOrder?: string[];\n  /** Updated list of recently-used tabs (used to be tabStack) */\n  recentTabs?: string[];\n}\n\nexport interface IDocument {\n  // TODO: enum content types\n  contentType?: string;\n  dirty?: boolean;\n  documentId?: string;\n  fileName?: string;\n  isGlobal?: boolean;\n  meta?: any;\n}\n\nconst DEFAULT_STATE: IEditorState = {\n  activeEditor: Constants.EditorKey_Primary,\n  draggingTab: false,\n  editors: {\n    [Constants.EditorKey_Primary]: getNewEditor(),\n    [Constants.EditorKey_Secondary]: getNewEditor()\n  }\n};\n\nexport default function editor(state: IEditorState = DEFAULT_STATE, action: EditorAction): IEditorState {\n  Object.freeze(state);\n\n  switch (action.type) {\n    case EditorActions.APPEND_TAB: {\n      const { srcEditorKey } = action.payload;\n      const { destEditorKey } = action.payload;\n\n      /** if the tab is being appended to the end of its own editor, just re-adjust tab order */\n      if (srcEditorKey === destEditorKey) {\n        let tabOrder = [...state.editors[srcEditorKey].tabOrder];\n        tabOrder = [...tabOrder.filter(docId => docId !== action.payload.documentId), action.payload.documentId];\n\n        let editorState: IEditor = {\n          ...state.editors[srcEditorKey],\n          tabOrder: tabOrder\n        };\n        state = setEditorState(srcEditorKey, editorState, state);\n        break;\n      }\n\n      /** if the tab is being appended to another editor, we need to modify both editors' docs, recent tabs, and tab order */\n\n      const docToAppend = state.editors[srcEditorKey].documents[action.payload.documentId];\n\n      // remove any trace of document from source editor\n      const srcEditor = removeDocumentFromTabGroup(state.editors[srcEditorKey], action.payload.documentId);\n\n      // add the tab to the dest editor\n      const destTabOrder = [...state.editors[destEditorKey].tabOrder, action.payload.documentId];\n      const destRecentTabs = [...state.editors[destEditorKey].recentTabs, action.payload.documentId];\n      const destDocs = Object.assign({}, state.editors[destEditorKey].documents);\n      destDocs[action.payload.documentId] = docToAppend;\n\n      const destEditor: IEditor = {\n        ...state.editors[destEditorKey],\n        documents: destDocs,\n        recentTabs: destRecentTabs,\n        tabOrder: destTabOrder\n      };\n\n      if (!tabGroupHasDocuments(srcEditor) && srcEditorKey === Constants.EditorKey_Primary) {\n        state = setNewPrimaryEditor(destEditor, state);\n      } else {\n        state = setActiveEditor(!tabGroupHasDocuments(srcEditor) ? destEditorKey : state.activeEditor, state);\n        state = setEditorState(srcEditorKey, srcEditor, state);\n        state = setEditorState(destEditorKey, destEditor, state);\n      }\n      state = setDraggingTab(false, state);\n      break;\n    }\n\n    case EditorActions.CLOSE: {\n      // TODO: Add logic to check if document has been saved\n      // & prompt user to save document if necessary\n\n      const { editorKey } = action.payload;\n\n      // remove any trace of document from editor\n      const editor = removeDocumentFromTabGroup(state.editors[editorKey], action.payload.documentId);\n\n      // close empty editor if there is another one able to take its place\n      const newPrimaryEditorKey = getOtherTabGroup(editorKey);\n      if (!tabGroupHasDocuments(editor) && state.editors[newPrimaryEditorKey]) {\n        // if the editor being closed is the primary editor, have the secondary editor become the primary\n        const tmp: IEditor = Object.assign({}, state.editors[newPrimaryEditorKey]);\n        state = setNewPrimaryEditor(tmp, state);\n      } else {\n        state = setEditorState(editorKey, editor, state);\n      }\n      break;\n    }\n\n    case EditorActions.CLOSE_ALL: {\n      if (action.payload.includeGlobal) {\n        return DEFAULT_STATE;\n      } else {\n        let newState: IEditorState = {\n          ...state\n        };\n\n        for (let key in state.editors) {\n          let tabGroup = state.editors[key];\n          if (tabGroup) {\n            let newTabOrder = [...tabGroup.tabOrder];\n            let newRecentTabs = [...tabGroup.recentTabs];\n            const newDocs = {};\n\n            Object.keys(tabGroup.documents).forEach(documentId => {\n              const document = tabGroup.documents[documentId];\n              if (document.isGlobal) {\n                newDocs[documentId] = document;\n              } else {\n                newTabOrder = newTabOrder.filter(documentId => documentId != document.documentId);\n                newRecentTabs = newRecentTabs.filter(documentId => documentId != document.documentId);\n              }\n            });\n\n            let newTabGroup: IEditor = {\n              activeDocumentId: newRecentTabs[0] || null,\n              documents: newDocs,\n              recentTabs: newRecentTabs,\n              tabOrder: newTabOrder\n            };\n\n            newState = {\n              ...newState,\n              editors: {\n                ...newState.editors,\n                [key]: newTabGroup\n              }\n            };\n          }\n        }\n        state = fixupTabGroups(newState);\n      }\n      break;\n    }\n\n    case EditorActions.OPEN: {\n      const editorKey = state.activeEditor;\n      const otherTabGroup = getOtherTabGroup(editorKey);\n\n      // if the document is already in another tab group, focus that one\n      if (tabGroupHasDocuments(state.editors[otherTabGroup]) && state.editors[otherTabGroup].documents[action.payload.documentId]) {\n        const recentTabs = [...state.editors[otherTabGroup].recentTabs].filter(docId => docId !== action.payload.documentId);\n        recentTabs.unshift(action.payload.documentId);\n        const tabGroupState: IEditor = {\n          ...state.editors[otherTabGroup],\n          activeDocumentId: action.payload.documentId,\n          recentTabs\n        };\n        state = setEditorState(otherTabGroup, tabGroupState, state);\n        state = setActiveEditor(otherTabGroup, state);\n        break;\n      }\n      //if the document is new, insert it into the tab order after the current active document\n      let newTabOrder;\n      if (state.editors[editorKey].documents[action.payload.documentId]) {\n        newTabOrder = [...state.editors[editorKey].tabOrder];\n      } else {\n        const activeDocumentId = state.editors[state.activeEditor].activeDocumentId;\n        const activeIndex = state.editors[editorKey].tabOrder.indexOf(activeDocumentId);\n        if (activeIndex != null && activeIndex != -1) {\n          state.editors[editorKey].tabOrder.splice(activeIndex + 1, 0, action.payload.documentId);\n          newTabOrder = [...state.editors[editorKey].tabOrder];\n        } else {\n          newTabOrder = [...state.editors[editorKey].tabOrder, action.payload.documentId];\n        }\n      }\n\n      // move document to top of recent tabs\n      const newRecentTabs = [...state.editors[editorKey].recentTabs].filter(docId => docId !== action.payload.documentId);\n      newRecentTabs.unshift(action.payload.documentId);\n\n      // add document to tab group\n      const newDocs = Object.assign({}, state.editors[editorKey].documents);\n      newDocs[action.payload.documentId] = action.payload;\n\n      const editorState: IEditor = {\n        ...state.editors[editorKey],\n        activeDocumentId: action.payload.documentId,\n        documents: newDocs,\n        recentTabs: newRecentTabs,\n        tabOrder: newTabOrder\n      };\n      state = setEditorState(editorKey, editorState, state);\n      state = setActiveEditor(editorKey, state);\n      break;\n    }\n\n    case EditorActions.UPDATE_DOCUMENT: {\n      const { payload: updatedDocument }: { payload: IDocument } = action;\n\n      const { editors } = state;\n      const editorKeys = Object.keys(editors);\n      let i = editorKeys.length;\n      outer:while (i--) {\n        const documents = editors[editorKeys[i]].documents;\n        const documentKeys = Object.keys(documents);\n        let j = documentKeys.length;\n        while (j--) {\n          const document = documents[documentKeys[j]];\n          if (document.documentId === updatedDocument.documentId) {\n            documents[documentKeys[j]] = { ...document, ...updatedDocument };\n            break outer;\n          }\n        }\n      }\n      state = { ...state };\n      break;\n    }\n\n    case EditorActions.SET_ACTIVE_EDITOR: {\n      state = setActiveEditor(action.payload.editorKey, state);\n      break;\n    }\n\n    case EditorActions.SET_ACTIVE_TAB: {\n      Constants.EditorKeys.forEach(editorKey => {\n        if (state.editors[editorKey] && state.editors[editorKey].documents[action.payload.documentId]) {\n          const recentTabs = state.editors[editorKey].recentTabs.filter(tabId => tabId !== action.payload.documentId);\n          recentTabs.unshift(action.payload.documentId);\n\n          const editorState = {\n            ...state.editors[editorKey],\n            activeDocumentId: action.payload.documentId,\n            recentTabs\n          };\n          state = setEditorState(editorKey, editorState, state);\n          state = setActiveEditor(editorKey, state);\n        }\n      });\n      break;\n    }\n\n    case EditorActions.SET_DIRTY_FLAG: {\n      Constants.EditorKeys.forEach(editorKey => {\n        if (state.editors[editorKey] && state.editors[editorKey].documents[action.payload.documentId]) {\n          const newDocs = Object.assign({}, state.editors[editorKey].documents);\n          const docToSet = newDocs[action.payload.documentId];\n          docToSet.dirty = action.payload.dirty;\n\n          const editorState: IEditor = {\n            ...state.editors[editorKey],\n            documents: newDocs\n          };\n          state = setEditorState(editorKey, editorState, state);\n        }\n      });\n      break;\n    }\n\n    case EditorActions.SPLIT_TAB: {\n      const { srcEditorKey } = action.payload;\n      const { destEditorKey } = action.payload;\n\n      const docToAppend = state.editors[srcEditorKey].documents[action.payload.documentId];\n\n      // remove any trace of document from source editor\n      const srcEditor = removeDocumentFromTabGroup(state.editors[srcEditorKey], action.payload.documentId);\n\n      // add the document to the dest editor\n      const destEditor: IEditor = state.editors[destEditorKey] ? Object.assign({}, state.editors[destEditorKey]) : getNewEditor();\n      const destTabOrder = [...destEditor.tabOrder, action.payload.documentId];\n      const destRecentTabs = [...destEditor.recentTabs];\n      destRecentTabs.unshift(action.payload.documentId);\n      const destDocs = Object.assign({}, destEditor.documents);\n      destDocs[action.payload.documentId] = docToAppend;\n\n      destEditor.activeDocumentId = action.payload.documentId;\n      destEditor.documents = destDocs;\n      destEditor.recentTabs = destRecentTabs;\n      destEditor.tabOrder = destTabOrder;\n\n      state = setActiveEditor(destEditorKey, state);\n      state = setEditorState(srcEditorKey, srcEditor, state);\n      state = setEditorState(destEditorKey, destEditor, state);\n      state = setDraggingTab(false, state);\n      break;\n    }\n\n    case EditorActions.SWAP_TABS: {\n      const { srcEditorKey } = action.payload;\n      const { destEditorKey } = action.payload;\n\n      /** swapping tabs within the same tab group */\n      if (srcEditorKey == destEditorKey) {\n        // only change tab order\n        const tabOrder = [...state.editors[srcEditorKey].tabOrder];\n        const srcTabIndex = tabOrder.findIndex(docId => docId === action.payload.srcTabId);\n        const destTabIndex = tabOrder.findIndex(docId => docId === action.payload.destTabId);\n\n        const destTab = tabOrder[destTabIndex];\n        tabOrder[destTabIndex] = tabOrder[srcTabIndex];\n        tabOrder[srcTabIndex] = destTab;\n\n        let editorState = {\n          ...state.editors[srcEditorKey],\n          tabOrder\n        };\n\n        state = setEditorState(srcEditorKey, editorState, state);\n        break;\n      }\n\n      /** swapping tab into a different tab group */\n      const docToSwap = state.editors[srcEditorKey].documents[action.payload.srcTabId];\n\n      // remove any trace of document from source editor\n      const srcEditor = removeDocumentFromTabGroup(state.editors[srcEditorKey], action.payload.srcTabId);\n\n      // add the document to the destination tab group\n      const destEditor: IEditor = Object.assign({}, state.editors[destEditorKey]);\n      destEditor.documents[action.payload.srcTabId] = docToSwap;\n      const destRecentTabs = [...destEditor.recentTabs, action.payload.srcTabId];\n      destEditor.recentTabs = destRecentTabs;\n      // insert before the destination tab's position\n      const destTabIndex = destEditor.tabOrder.findIndex(docId => docId === action.payload.destTabId);\n      const destTabOrder = [...destEditor.tabOrder.splice(0, destTabIndex), action.payload.srcTabId, ...destEditor.tabOrder];\n      destEditor.tabOrder = destTabOrder;\n\n      if (!tabGroupHasDocuments(srcEditor) && srcEditorKey === Constants.EditorKey_Primary) {\n        state = setNewPrimaryEditor(destEditor, state);\n      } else {\n        state = setActiveEditor(!tabGroupHasDocuments(srcEditor) ? destEditorKey : state.activeEditor, state);\n        state = setEditorState(srcEditorKey, srcEditor, state);\n        state = setEditorState(destEditorKey, destEditor, state);\n      }\n      break;\n    }\n\n    case EditorActions.TOGGLE_DRAGGING_TAB: {\n      state = setDraggingTab(action.payload.draggingTab, state);\n      break;\n    }\n\n    default:\n      break;\n  }\n\n  return state;\n}\n\nfunction getNewEditor(): IEditor {\n  return {\n    activeDocumentId: null,\n    documents: {},\n    recentTabs: [],\n    tabOrder: []\n  };\n}\n\n/** Removes all trace of a document from a tab group and returns\n *  the updated state, or a new editor if the tab group has no documents (empty)\n */\nfunction removeDocumentFromTabGroup(tabGroup: IEditor, documentId: string): IEditor {\n  const newTabOrder = [...tabGroup.tabOrder].filter(docId => docId !== documentId);\n  const newRecentTabs = [...tabGroup.recentTabs].filter(docId => docId !== documentId);\n  const newDocs = Object.assign({}, tabGroup.documents);\n  delete newDocs[documentId];\n  const newActiveDocumentId = newRecentTabs[0] || null;\n\n  const newTabGroup: IEditor = Object.keys(newDocs).length === 0 ? getNewEditor() : {\n    ...tabGroup,\n    activeDocumentId: newActiveDocumentId,\n    documents: newDocs,\n    recentTabs: newRecentTabs,\n    tabOrder: newTabOrder\n  };\n  return newTabGroup;\n}\n\nfunction setEditorState(editorKey: string, editorState: IEditor, state: IEditorState): IEditorState {\n  let newState = deepCopySlow(state);\n\n  newState.editors[editorKey] = editorState;\n  return newState;\n}\n\nfunction setActiveEditor(editorKey: string, state: IEditorState): IEditorState {\n  let newState = deepCopySlow(state);\n\n  newState.activeEditor = editorKey;\n  return newState;\n}\n\n/** Sets a new primary editor, and destroys the secondary editor */\nfunction setNewPrimaryEditor(newPrimaryEditor: IEditor, state: IEditorState): IEditorState {\n  let newState = deepCopySlow(state);\n\n  newState.editors[Constants.EditorKey_Secondary] = getNewEditor();\n  newState.editors[Constants.EditorKey_Primary] = newPrimaryEditor;\n  newState.activeEditor = Constants.EditorKey_Primary;\n  return newState;\n}\n\nfunction setDraggingTab(dragging: boolean, state: IEditorState): IEditorState {\n  let newState = deepCopySlow(state);\n\n  newState.draggingTab = dragging;\n  return newState;\n}\n\n/** Sets the secondary tab group as the primary if the primary is now empty */\nfunction fixupTabGroups(state: IEditorState): IEditorState {\n  if (!tabGroupHasDocuments(state.editors[Constants.EditorKey_Primary])\n    && tabGroupHasDocuments(state.editors[Constants.EditorKey_Secondary])) {\n    state = setNewPrimaryEditor(state.editors[Constants.EditorKey_Secondary], state);\n  }\n\n  if (state.activeEditor === Constants.EditorKey_Secondary && !tabGroupHasDocuments(state.editors[Constants.EditorKey_Secondary])) {\n    state = setActiveEditor(Constants.EditorKey_Primary, state);\n  }\n\n  return state;\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as ExplorerActions from '../action/explorerActions';\n\ntype ExplorerAction = {\n  type: 'EXPLORER/SHOW',\n  payload: {\n    show: boolean\n  }\n};\n\nexport interface IExplorerState {\n  showing: boolean;\n}\n\nconst DEFAULT_STATE: IExplorerState = {\n  showing: true\n};\n\nexport default function explorer(state: IExplorerState = DEFAULT_STATE, action: ExplorerAction): IExplorerState {\n  switch (action.type) {\n    case ExplorerActions.SHOW: {\n      state = setShowing(action.payload.show, state);\n      break;\n    }\n\n    default:\n      break;\n  }\n  return state;\n}\n\nfunction setShowing(showing: boolean, state: IExplorerState): IExplorerState {\n  let newState = Object.assign({}, state);\n\n  newState.showing = showing;\n  return newState;\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { FileInfo }  from '@bfemulator/app-shared';\r\nimport { baseName } from '@fuselab/ui-shared/lib/path';\r\nimport { TreeNode, TreeState, Leaf, Container } from '@fuselab/ui-fabric/lib/tree';\r\nimport { FileActions } from '../action/fileActions';\r\nexport type IFileTreeState = TreeState<FileInfo>;\r\nexport type FileTreeNode = TreeNode<FileInfo>;\r\n\r\ninterface ISetRootAction {\r\n  type: FileActions.setRoot;\r\n  payload: {\r\n    path: string;\r\n  }\r\n}\r\n\r\ninterface IAddFileAction {\r\n  type: FileActions.add;\r\n  payload: FileInfo;\r\n}\r\n\r\ninterface IRemoveFileAction {\r\n  type: FileActions.remove;\r\n  payload: {\r\n    path: string;\r\n  };\r\n}\r\n\r\ntype IFileAction = ISetRootAction | IAddFileAction | IRemoveFileAction;\r\n\r\nconst seps = /[\\/\\\\]/;\r\nlet detectedSep = null;\r\n\r\nfunction detectSep(path: string) {\r\n  if (detectedSep) {\r\n    return detectedSep;\r\n  }\r\n  const parts = path.split(seps);\r\n  if (parts.length > 1) {\r\n    detectedSep = path.substr(parts[0].length, 1);\r\n  }\r\n  return '/';\r\n}\r\n\r\nfunction ensureAncestors(state: IFileTreeState, path: string): { state: IFileTreeState, parent: Container<FileInfo> } {\r\n  let cur = <Container<FileInfo>>state.root;\r\n  if (!cur) {\r\n    return { state, parent: null };\r\n  }\r\n\r\n  const sub = path.substr(cur.data.path.length);\r\n  const ancestors = sub.split(seps).filter(x => x).slice(0, -1);\r\n\r\n  for (const ancestor of ancestors) {\r\n    let next = <Container<FileInfo>>cur.children.find(x => x.name === ancestor);\r\n    if (!next) {\r\n      next = {\r\n        name: ancestor,\r\n        children: [],\r\n        level: cur.level + 1,\r\n        ...cur,\r\n      };\r\n      cur.children.push(next);\r\n    }\r\n    cur = next;\r\n  }\r\n\r\n  return { state, parent: cur };\r\n}\r\n\r\nfunction addFile(state: IFileTreeState, file: FileInfo): IFileTreeState {\r\n  if (!state.root || state.root.data.path === file.path) {\r\n    return state;\r\n  }\r\n\r\n  const r = ensureAncestors(state, file.path);\r\n  state = r.state;\r\n  const parent = r.parent;\r\n\r\n  if (!parent) {\r\n    return state;\r\n  }\r\n  const cur: FileTreeNode = <Leaf<FileInfo> | Container<FileInfo>>{\r\n    type: file.type,\r\n    name: file.name,\r\n    data: file,\r\n    level: parent.level + 1,\r\n    parent,\r\n    children: file.type === 'container' ? [] : undefined\r\n  };\r\n\r\n  if (parent.type === 'container') {\r\n    parent.children.push(cur);\r\n  }\r\n\r\n  return { ...state };\r\n}\r\n\r\nfunction removeFile(state: IFileTreeState, path: string): IFileTreeState {\r\n  const r = ensureAncestors(state, path);\r\n  state = r.state;\r\n  const parent = r.parent;\r\n  if (parent && parent.type === 'container') {\r\n    parent.children = parent.children.filter(x => x.data.path !== path);\r\n  }\r\n  return { ...state }\r\n}\r\n\r\nexport default function files(state: IFileTreeState = { root: null, selected: null }, action: IFileAction): IFileTreeState {\r\n  switch (action.type) {\r\n    case FileActions.setRoot: {\r\n      // don't set the root again if it's the same\r\n      if (state.root && state.root.data.path === action.payload.path)\r\n        break;\r\n\r\n      const { path } = action.payload;\r\n      const rootInfo: FileInfo = {\r\n        type: 'container',\r\n        name: baseName(path),\r\n        path\r\n      };\r\n      const root: Container<FileInfo> = {\r\n        type: 'container',\r\n        parent: null,\r\n        level: 1,\r\n        name: baseName(path),\r\n        children: [],\r\n        data: rootInfo\r\n      };\r\n      state = { root, selected: root };\r\n      break;\r\n    }\r\n    case FileActions.add:\r\n      state = addFile(state, action.payload);\r\n      break;\r\n    case FileActions.remove:\r\n      state = removeFile(state, action.payload.path);\r\n      break;\r\n    default:\r\n  }\r\n\r\n  return state;\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport {\n  LUIS_AUTH_STATUS_CHANGED,\n  LUIS_AUTHORING_DATA_CHANGED,\n  LUIS_LAUNCH_MODELS_VIEWER,\n  LuisAuthAction,\n  LuisAuthData,\n  LuisAuthWorkflowStatus\n} from '../action/luisAuthActions';\n\nexport interface ILuisAuthState {\n  /**\n   * The current status of the luis auth frame\n   */\n  luisAuthWorkflowStatus: 'notStarted' | 'inProgress' | 'ended' | 'canceled';\n  /**\n   * The luis authoring key for\n   * communicating with the LUIS api\n   */\n  luisAuthData: { key: string, BaseUrl: string };\n}\n\nconst initialState: ILuisAuthState = {\n  luisAuthWorkflowStatus: 'notStarted',\n  luisAuthData: null\n};\n\nexport default function luisAuth(state: ILuisAuthState = initialState, action: LuisAuthAction<LuisAuthData> | LuisAuthAction<LuisAuthWorkflowStatus>): ILuisAuthState {\n  const { payload = {}, type } = action;\n  const { luisAuthData: luisAuthoringKey } = payload as LuisAuthData;\n  const { luisAuthWorkflowStatus } = payload as LuisAuthWorkflowStatus;\n\n  switch (type) {\n    case LUIS_LAUNCH_MODELS_VIEWER:\n      return { ...state, luisAuthWorkflowStatus: 'notStarted' };\n\n    case LUIS_AUTH_STATUS_CHANGED:\n      return { ...state, luisAuthWorkflowStatus };\n\n    case LUIS_AUTHORING_DATA_CHANGED:\n      return { ...state, luisAuthData: luisAuthoringKey };\n\n    default:\n      return state;\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as constants from '../../constants';\nimport * as NavBarActions from '../action/navBarActions';\n\ntype NavBarAction = {\n  type: 'NAVBAR/SELECT',\n  payload: {\n    selection: string\n  }\n} | {\n  type: 'NAVBAR/SELECT_OR_TOGGLE',\n  payload: {\n    selection: string\n  }\n};\n\nexport interface INavBarState {\n  selection: string;\n  expanded: boolean;\n}\n\nconst DEFAULT_STATE: INavBarState = {\n  selection: constants.NavBar_Bot_Explorer,\n  expanded: false\n};\n\nexport default function navBar(state: INavBarState = DEFAULT_STATE, action: NavBarAction): INavBarState {\n  switch (action.type) {\n    case NavBarActions.SELECT_OR_TOGGLE: {\n      if (state.selection === action.payload.selection) {\n        state = { ...state, expanded: !state.expanded };\n      } else {\n        state = { ...state, expanded: true, selection: action.payload.selection };\n      }\n      break;\n    }\n\n    case NavBarActions.SELECT: {\n      state = { ...state, expanded: true, selection: action.payload.selection };\n      break;\n    }\n\n    default: break;\n  }\n\n  return state;\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as PresentationActions from '../action/presentationActions';\nimport { PresentationAction } from '../action/presentationActions';\nimport { CommandService } from '../../platform/commands/commandService';\n\nexport interface IPresentationState {\n  enabled: boolean;\n}\n\nconst DEFAULT_STATE: IPresentationState = {\n  enabled: false\n};\n\nexport default function presentation(state: IPresentationState = DEFAULT_STATE, action: PresentationAction): IPresentationState {\n  switch (action.type) {\n    case PresentationActions.DISABLE:\n      state = setEnabled(false, state);\n      break;\n\n    case PresentationActions.ENABLE:\n      state = setEnabled(true, state);\n      break;\n\n    default:\n      break;\n  }\n\n  return state;\n}\n\nfunction setEnabled(enabled: boolean, state: IPresentationState): IPresentationState {\n  let newState = Object.assign({}, state);\n  newState.enabled = enabled;\n\n  CommandService.remoteCall('electron:set-fullscreen', enabled);\n\n  return newState;\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport * as ServerActions from '../action/serverActions';\r\nimport { ServerAction } from '../action/serverActions';\r\n\r\nexport interface IServerState {\r\n  connected?: boolean;\r\n}\r\n\r\nconst DEFAULT_STATE = {\r\n  connected: false\r\n};\r\n\r\nexport default function server(state: any = DEFAULT_STATE, action: ServerAction): IServerState {\r\n  switch (action.type) {\r\n    case ServerActions.ALIVE:\r\n      const { payload } = action;\r\n      state = state.set('connected', true).set('host', payload.host).set('version', payload.version);\r\n      break;\r\n\r\n    case ServerActions.PING:\r\n      state = state.set('connected', null);\r\n      break;\r\n\r\n    default: break;\r\n  }\r\n\r\n  return state;\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IAzureBotService, ServiceType } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { call, ForkEffect, takeEvery, takeLatest } from 'redux-saga/effects';\nimport { CommandService } from '../../platform/commands/commandService';\nimport { DialogService } from '../../ui/dialogs/service';\nimport { AzureBotServiceEditor } from '../../ui/shell/explorer/azureBotServiceExplorer/azureBotServiceEditor/azureBotServiceEditor';\nimport { AzureBotServiceAction, AzureBotServiceEditorPayload, AzureBotServicePayload, LAUNCH_AZURE_BOT_SERVICE_EDITOR, OPEN_AZURE_BOT_SERVICE_CONTEXT_MENU, OPEN_AZURE_BOT_SERVICE_DEEP_LINK } from '../action/azureBotServiceActions';\n\nfunction* launchAzureBotServiceEditor(action: AzureBotServiceAction<AzureBotServiceEditorPayload>): IterableIterator<any> {\n  const { azureBotServiceEditorComponent, azureBotService = {} } = action.payload;\n  const result = yield DialogService.showDialog<ComponentClass<AzureBotServiceEditor>>(azureBotServiceEditorComponent, { azureBotService });\n  if (result) {\n    yield CommandService.remoteCall('bot:add-or-update-service', ServiceType.AzureBotService, result);\n  }\n}\n\nfunction* openAzureBotServiceContextMenu(action: AzureBotServiceAction<AzureBotServicePayload | AzureBotServiceEditorPayload>): IterableIterator<any> {\n  const menuItems = [\n    { label: 'Edit settings', id: 'edit' },\n    { label: 'Open in web portal', id: 'open' },\n    { label: 'Remove', id: 'forget' }\n  ];\n  const response = yield call(CommandService.remoteCall.bind(CommandService), 'electron:displayContextMenu', menuItems);\n  switch (response.id) {\n    case 'edit':\n      yield* launchAzureBotServiceEditor(action);\n      break;\n\n    case 'open':\n      yield* openAzureBotServiceDeepLink(action);\n      break;\n\n    case 'forget':\n      yield* removeAzureBotServiceFromActiveBot(action.payload.azureBotService);\n      break;\n\n    default: // canceled context menu\n      return;\n  }\n}\n\nfunction* openAzureBotServiceDeepLink(action: AzureBotServiceAction<AzureBotServicePayload>): IterableIterator<any> {\n  const { tenantId, subscriptionId, resourceGroup, id } = action.payload.azureBotService;\n  const link = `https://ms.portal.azure.com/#@${tenantId}/resource/subscriptions/${subscriptionId}/resourceGroups/${resourceGroup}/providers/Microsoft.BotService/botServices/${id}/channels`;\n  yield CommandService.remoteCall('electron:openExternal', link);\n}\n\nfunction* removeAzureBotServiceFromActiveBot(azureBotService: IAzureBotService): IterableIterator<any> {\n  const result = yield CommandService.remoteCall('shell:show-message-box', true, {\n    type: 'question',\n    buttons: [\"Cancel\", \"OK\"],\n    defaultId: 1,\n    message: `Remove QnA service ${azureBotService.name}. Are you sure?`,\n    cancelId: 0,\n  });\n  if (result) {\n    yield CommandService.remoteCall('bot:remove-service', ServiceType.AzureBotService, azureBotService.id);\n  }\n}\n\nexport function* azureBotServiceSagas(): IterableIterator<ForkEffect> {\n  yield takeLatest(LAUNCH_AZURE_BOT_SERVICE_EDITOR, launchAzureBotServiceEditor);\n  yield takeEvery(OPEN_AZURE_BOT_SERVICE_CONTEXT_MENU, openAzureBotServiceContextMenu);\n  yield takeEvery(OPEN_AZURE_BOT_SERVICE_DEEP_LINK, openAzureBotServiceDeepLink);\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IDispatchService, ServiceType } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { call, ForkEffect, takeEvery, takeLatest } from 'redux-saga/effects';\nimport { CommandService } from '../../platform/commands/commandService';\nimport { DialogService } from '../../ui/dialogs/service';\nimport { DispatchEditor } from '../../ui/shell/explorer/dispatchExplorer/dispatchEditor/dispatchEditor';\nimport { DispatchEditorPayload, DispatchServiceAction, DispatchServicePayload, LAUNCH_DISPATCH_EDITOR, OPEN_DISPATCH_CONTEXT_MENU, OPEN_DISPATCH_DEEP_LINK } from '../action/dispatchServiceActions';\n\nfunction* openDispatchDeepLink(action: DispatchServiceAction<DispatchServicePayload>): IterableIterator<any> {\n  const { appId, version } = action.payload.dispatchService;\n  const link = `https://www.dispatch.ai/applications/${appId}/versions/${version}/build`;\n  yield CommandService.remoteCall('electron:openExternal', link);\n}\n\nfunction* openDispatchContextMenu(action: DispatchServiceAction<DispatchServicePayload>): IterableIterator<any> {\n  const menuItems = [\n    { label: 'Open in web portal', id: 'open' },\n    { label: 'Edit settings', id: 'edit' },\n    { label: 'Remove', id: 'forget' }\n  ];\n  const response = yield call(CommandService.remoteCall.bind(CommandService), 'electron:displayContextMenu', menuItems);\n  switch (response.id) {\n    case 'open':\n      yield* openDispatchDeepLink(action);\n      break;\n\n    case 'edit':\n      yield* launchDispatchEditor(action);\n      break;\n\n    case 'forget':\n      yield* removeDispatchServiceFromActiveBot(action.payload.dispatchService);\n      break;\n\n    default: // canceled context menu\n      return;\n  }\n}\n\nfunction* removeDispatchServiceFromActiveBot(dispatchService: IDispatchService): IterableIterator<any> {\n  const result = yield CommandService.remoteCall('shell:show-message-box', true, {\n    type: 'question',\n    buttons: ['Cancel', 'OK'],\n    defaultId: 1,\n    message: `Remove Dispatch service ${dispatchService.name}. Are you sure?`,\n    cancelId: 0,\n  });\n  if (result) {\n    yield CommandService.remoteCall('bot:remove-service', ServiceType.Dispatch, dispatchService.id);\n  }\n}\n\nfunction* launchDispatchEditor(action: DispatchServiceAction<DispatchEditorPayload>): IterableIterator<any> {\n  const { dispatchEditorComponent, dispatchService = {} } = action.payload;\n  const result = yield DialogService.showDialog<ComponentClass<DispatchEditor>>(dispatchEditorComponent, { dispatchService });\n  if (result) {\n    yield CommandService.remoteCall('bot:add-or-update-service', ServiceType.Dispatch, result);\n  }\n}\n\nexport function* dispatchSagas(): IterableIterator<ForkEffect> {\n  yield takeLatest(LAUNCH_DISPATCH_EDITOR, launchDispatchEditor);\n  yield takeEvery(OPEN_DISPATCH_DEEP_LINK, openDispatchDeepLink);\n  yield takeEvery(OPEN_DISPATCH_CONTEXT_MENU, openDispatchContextMenu);\n\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IEndpointService, ServiceType } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { call, ForkEffect, takeEvery, takeLatest } from 'redux-saga/effects';\nimport { CommandService } from '../../platform/commands/commandService';\nimport { DialogService } from '../../ui/dialogs/service';\nimport { EndpointEditor } from '../../ui/shell/explorer/endpointExplorer/endpointEditor/endpointEditor';\nimport { EndpointEditorPayload, EndpointServiceAction, EndpointServicePayload, LAUNCH_ENDPOINT_EDITOR, OPEN_ENDPOINT_CONTEXT_MENU, OPEN_ENDPOINT_DEEP_LINK } from '../action/endpointServiceActions';\n\n\nfunction* launchEndpointEditor(action: EndpointServiceAction<EndpointEditorPayload>): IterableIterator<any> {\n  const { endpointEditorComponent, endpointService = {} } = action.payload;\n  const result = yield DialogService.showDialog<ComponentClass<EndpointEditor>>(endpointEditorComponent, { endpointService });\n  if (result) {\n    yield CommandService.remoteCall('bot:add-or-update-service', ServiceType.Endpoint, result);\n  }\n}\n\nfunction* openEndpointContextMenu(action: EndpointServiceAction<EndpointServicePayload | EndpointEditorPayload>): IterableIterator<any> {\n  const menuItems = [\n    { label: 'Edit settings', id: 'edit' },\n    { label: 'Open in emulator', id: 'open' },\n    { label: 'Remove', id: 'forget' }\n  ];\n  const response = yield call(CommandService.remoteCall.bind(CommandService), 'electron:displayContextMenu', menuItems);\n  switch (response.id) {\n    case 'edit':\n      yield* launchEndpointEditor(action);\n      break;\n\n    case 'open':\n      yield* openEndpointDeepLink(action);\n      break;\n\n    case 'forget':\n      yield* removeEndpointServiceFromActiveBot(action.payload.endpointService);\n      break;\n\n    default: // canceled context menu\n      return;\n  }\n}\n\nfunction* openEndpointDeepLink(action: EndpointServiceAction<EndpointServicePayload>): IterableIterator<any> {\n  CommandService.call('livechat:new', action.payload.endpointService);\n}\n\nfunction* removeEndpointServiceFromActiveBot(endpointService: IEndpointService): IterableIterator<any> {\n  const result = yield CommandService.remoteCall('shell:show-message-box', true, {\n    type: 'question',\n    buttons: ['Cancel', 'OK'],\n    defaultId: 1,\n    message: `Remove endpoint ${endpointService.name}. Are you sure?`,\n    cancelId: 0,\n  });\n  if (result) {\n    yield CommandService.remoteCall('bot:remove-service', ServiceType.Endpoint, endpointService.id);\n  }\n}\n\nexport function* endpointSagas(): IterableIterator<ForkEffect> {\n  yield takeLatest(LAUNCH_ENDPOINT_EDITOR, launchEndpointEditor);\n  yield takeEvery(OPEN_ENDPOINT_CONTEXT_MENU, openEndpointContextMenu);\n  yield takeEvery(OPEN_ENDPOINT_DEEP_LINK, openEndpointDeepLink);\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { azureBotServiceSagas } from './azureBotServiceSagas';\nimport { dispatchSagas } from './dispatchSagas';\nimport { endpointSagas } from './endpointSagas';\nimport { luisSagas } from './luisSagas';\nimport { qnaMakerSagas } from './qnaMakerSagas';\n\nexport const applicationSagas = [\n  luisSagas,\n  qnaMakerSagas,\n  dispatchSagas,\n  endpointSagas,\n  azureBotServiceSagas\n];\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { ILuisService, ServiceType } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { call, ForkEffect, put, select, takeEvery, takeLatest } from 'redux-saga/effects';\nimport { CommandService } from '../../platform/commands/commandService';\nimport { DialogService } from '../../ui/dialogs/service';\nimport { LuisEditor } from '../../ui/shell/explorer/luisExplorer/luisEditor/luisEditor';\nimport { LuisAuthAction, luisAuthoringDataChanged, LuisModelViewer } from '../action/luisAuthActions';\nimport { LAUNCH_LUIS_EDITOR, LuisEditorPayload, LuisServiceAction, LuisServicePayload, OPEN_LUIS_CONTEXT_MENU, OPEN_LUIS_DEEP_LINK, RETRIEVE_LUIS_MODELS } from '../action/luisServiceActions';\nimport { LuisApi, LuisModel } from '../http/luisApi';\nimport { IRootState } from '../store';\n\nconst getLuisAuthFromState = (state: IRootState) => state.luisAuth.luisAuthData;\nconst isModalServiceBusy = (state: IRootState) => state.dialog.showing;\n\nfunction* launchLuisModelsViewer(action: LuisAuthAction<LuisModelViewer>): IterableIterator<any> {\n  let luisAuth = yield select(getLuisAuthFromState);\n  if (!luisAuth) {\n    luisAuth = yield call(CommandService.remoteCall.bind(CommandService), 'luis:retrieve-authoring-key');\n    yield put(luisAuthoringDataChanged(luisAuth));\n  }\n  const luisModels = yield* retrieveLuisModels();\n  yield* beginModelViewLifeCycle(action, luisModels);\n}\n\nfunction* beginModelViewLifeCycle(action: LuisAuthAction<LuisModelViewer>, luisModels: LuisModel[]): IterableIterator<any> {\n  const isBusy = yield select(isModalServiceBusy);\n  if (isBusy) {\n    throw new Error('More than one modal cannot be displayed at the same time.');\n  }\n\n  const { luisModelViewer } = action.payload;\n  const result = yield DialogService.showDialog<ComponentClass<LuisModelViewer>>(luisModelViewer, { luisModels });\n  // TODO - write this to the bot file\n}\n\nfunction* retrieveLuisModels(): IterableIterator<any> {\n  const luisAuth = yield select(getLuisAuthFromState);\n  if (!luisAuth) {\n    throw new Error('Auth credentials do not exist.');\n  }\n  const luisModels = yield LuisApi.getApplicationsList(luisAuth);\n  return yield luisModels;\n}\n\nfunction* openLuisDeepLink(action: LuisServiceAction<LuisServicePayload>): IterableIterator<any> {\n  const { appId, version } = action.payload.luisService;\n  const link = `https://www.luis.ai/applications/${appId}/versions/${version}/build`;\n  yield CommandService.remoteCall('electron:openExternal', link);\n}\n\nfunction* openLuisContextMenu(action: LuisServiceAction<LuisServicePayload>): IterableIterator<any> {\n  const menuItems = [\n    { label: 'Open in web portal', id: 'open' },\n    { label: 'Edit settings', id: 'edit' },\n    { label: 'Remove', id: 'forget' }\n  ];\n  const response = yield call(CommandService.remoteCall.bind(CommandService), 'electron:displayContextMenu', menuItems);\n  switch (response.id) {\n\n    case 'open':\n      yield* openLuisDeepLink(action);\n      break;\n\n    case 'edit':\n      yield* launchLuisEditor(action);\n      break;\n\n    case 'forget':\n      yield* removeLuisServiceFromActiveBot(action.payload.luisService);\n      break;\n\n    default: // canceled context menu\n      return;\n  }\n}\n\nfunction* removeLuisServiceFromActiveBot(luisService: ILuisService): IterableIterator<any> {\n  const result = yield CommandService.remoteCall('shell:show-message-box', true, {\n    type: 'question',\n    buttons: [\"Cancel\", \"OK\"],\n    defaultId: 1,\n    message: `Remove LUIS service ${luisService.name}. Are you sure?`,\n    cancelId: 0,\n  });\n  if (result) {\n    yield CommandService.remoteCall('bot:remove-service', ServiceType.Luis, luisService.id);\n  }\n}\n\nfunction* launchLuisEditor(action: LuisServiceAction<LuisEditorPayload>): IterableIterator<any> {\n  const { luisEditorComponent, luisService = {} } = action.payload;\n  const result = yield DialogService.showDialog<ComponentClass<LuisEditor>>(luisEditorComponent, { luisService });\n  if (result) {\n    yield CommandService.remoteCall('bot:add-or-update-service', ServiceType.Luis, result);\n  }\n}\n\nexport function* luisSagas(): IterableIterator<ForkEffect> {\n  //  yield takeLatest(LUIS_LAUNCH_MODELS_VIEWER, launchLuisModelsViewer);\n  yield takeLatest(LAUNCH_LUIS_EDITOR, launchLuisEditor);\n  yield takeEvery(RETRIEVE_LUIS_MODELS, retrieveLuisModels);\n  yield takeEvery(OPEN_LUIS_DEEP_LINK, openLuisDeepLink);\n  yield takeEvery(OPEN_LUIS_CONTEXT_MENU, openLuisContextMenu);\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IQnAService, ServiceType } from 'msbot/bin/schema';\nimport { ComponentClass } from 'react';\nimport { call, ForkEffect, takeEvery, takeLatest } from 'redux-saga/effects';\nimport { CommandService } from '../../platform/commands/commandService';\nimport { DialogService } from '../../ui/dialogs/service';\nimport { QnaMakerEditor } from '../../ui/shell/explorer/qnaMakerExplorer/qnaMakerEditor/qnaMakerEditor';\nimport { LAUNCH_QNA_MAKER_EDITOR, OPEN_QNA_MAKER_CONTEXT_MENU, OPEN_QNA_MAKER_DEEP_LINK, QnaMakerEditorPayload, QnaMakerServiceAction, QnaMakerServicePayload } from '../action/qnaMakerServiceActions';\n\nfunction* launchQnaMakerEditor(action: QnaMakerServiceAction<QnaMakerEditorPayload>): IterableIterator<any> {\n  const { qnaMakerEditorComponent, qnaMakerService = {} } = action.payload;\n  const result = yield DialogService.showDialog<ComponentClass<QnaMakerEditor>>(qnaMakerEditorComponent, { qnaMakerService });\n  if (result) {\n    yield CommandService.remoteCall('bot:add-or-update-service', ServiceType.QnA, result);\n  }\n}\n\nfunction* openQnaMakerContextMenu(action: QnaMakerServiceAction<QnaMakerServicePayload | QnaMakerEditorPayload>): IterableIterator<any> {\n  const menuItems = [\n    { label: 'Edit settings', id: 'edit' },\n    { label: 'Open in web portal', id: 'open' },\n    { label: 'Remove', id: 'forget' }\n  ];\n  const response = yield call(CommandService.remoteCall.bind(CommandService), 'electron:displayContextMenu', menuItems);\n  switch (response.id) {\n    case 'edit':\n      yield* launchQnaMakerEditor(action);\n      break;\n\n    case 'open':\n      yield* openQnaMakerDeepLink(action);\n      break;\n\n    case 'forget':\n      yield* removeQnaMakerServiceFromActiveBot(action.payload.qnaMakerService);\n      break;\n\n    default: // canceled context menu\n      return;\n  }\n}\n\nfunction* openQnaMakerDeepLink(action: QnaMakerServiceAction<QnaMakerServicePayload>): IterableIterator<any> {\n  const { kbId } = action.payload.qnaMakerService;\n  const link = `https://qnamaker.ai/Edit/KnowledgeBase?kbid=${kbId}`;\n  yield CommandService.remoteCall('electron:openExternal', link);\n}\n\nfunction* removeQnaMakerServiceFromActiveBot(qnaService: IQnAService): IterableIterator<any> {\n  const result = yield CommandService.remoteCall('shell:show-message-box', true, {\n    type: 'question',\n    buttons: ['Cancel', 'OK'],\n    defaultId: 1,\n    message: `Remove QnA service ${qnaService.name}. Are you sure?`,\n    cancelId: 0,\n  });\n  if (result) {\n    yield CommandService.remoteCall('bot:remove-service', ServiceType.QnA, qnaService.id);\n  }\n}\n\nexport function* qnaMakerSagas(): IterableIterator<ForkEffect> {\n  yield takeLatest(LAUNCH_QNA_MAKER_EDITOR, launchQnaMakerEditor);\n  yield takeEvery(OPEN_QNA_MAKER_CONTEXT_MENU, openQnaMakerContextMenu);\n  yield takeEvery(OPEN_QNA_MAKER_DEEP_LINK, openQnaMakerDeepLink);\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { applyMiddleware, combineReducers, createStore, Store } from 'redux';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport sagaMiddlewareFactory from 'redux-saga';\nimport thunk from 'redux-thunk';\nimport bot, { IBotState } from './reducer/bot';\nimport chat, { IChatState } from './reducer/chat';\nimport dialog, { IDialogState } from './reducer/dialog';\nimport editor, { IEditorState } from './reducer/editor';\nimport explorer, { IExplorerState } from './reducer/explorer';\nimport files, { IFileTreeState } from './reducer/files';\nimport luisAuth, { ILuisAuthState } from './reducer/luisAuthReducer';\nimport navBar, { INavBarState } from './reducer/navBar';\n\nimport presentation, { IPresentationState } from './reducer/presentation';\nimport server, { IServerState } from './reducer/server';\nimport { applicationSagas } from './sagas';\n\n// TODO: Remove this when we no longer need to debug the WebSocket connection\n// import DebugWebSocketConnection from './debugWebSocketConnection';\n\nconst _window = window as any;\nconst electron = _window.process && _window.process.versions.electron;\n\nexport interface IRootState {\n  bot?: IBotState;\n  dialog?: IDialogState;\n  editor?: IEditorState;\n  explorer?: IExplorerState;\n  chat?: IChatState;\n  navBar?: INavBarState;\n  presentation?: IPresentationState;\n  server?: IServerState;\n  luisAuth?: ILuisAuthState;\n  files?: IFileTreeState;\n}\n\nconst sagaMiddleWare = sagaMiddlewareFactory();\nconst DEFAULT_STATE: IRootState = {};\n\nconst configureStore = (initialState: IRootState = DEFAULT_STATE): Store<IRootState> => createStore(\n  combineReducers({\n    bot,\n    dialog,\n    editor,\n    files,\n    explorer,\n    chat,\n    navBar,\n    presentation,\n    server,\n    luisAuth\n  }),\n  initialState,\n  applyMiddleware(\n    sagaMiddleWare,\n    promiseMiddleware(),\n    thunk\n  )\n);\n\nconst store = configureStore();\napplicationSagas.forEach(saga => sagaMiddleWare.run(saga));\n\nexport default store;\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { IExtensionConfig, Channel, IDisposable, CommandService, IExtensionInspector, IActivity } from '@bfemulator/sdk-shared';\r\nimport { ElectronIPC } from './ipc';\r\nimport { CommandRegistry } from './commands';\r\nimport * as jsonpath from 'jsonpath';\r\n\r\n//=============================================================================\r\nexport class Extension {\r\n  private _ext: CommandService;\r\n\r\n  get unid(): string { return this._unid; }\r\n  get config(): IExtensionConfig { return this._config; }\r\n\r\n  constructor(private _config: IExtensionConfig, private _unid: string) {\r\n    this._ext = new CommandService(ElectronIPC, `ext-${this._unid}`);\r\n    /*\r\n    this._ext.remoteCall('ext-ping')\r\n      .then(reply => console.log(reply))\r\n      .catch(err => console.log('ping failed', err));\r\n    */\r\n  }\r\n\r\n  public inspectorForObject(obj: any): IGetInspectorResult | null {\r\n    const inspectors = this.config.client.inspectors || [];\r\n    const inspector = inspectors.find(inspector => InspectorAPI.canInspect(inspector, obj));\r\n    return inspector ? {\r\n      extension: this,\r\n      inspector\r\n    } : null;\r\n  }\r\n\r\n  public call(commandName: string, ...args: any[]): Promise<any> {\r\n    return this._ext.remoteCall(commandName, ...args);\r\n  }\r\n}\r\n\r\n//=============================================================================\r\nexport class InspectorAPI {\r\n  public static canInspect(inspector: IExtensionInspector, obj: any): boolean {\r\n    if (!obj) return false;\r\n    if (typeof obj !== 'object') return false;\r\n    // Check the activity against the inspector's set of criteria\r\n    let criterias = inspector.criteria || [];\r\n    if (!Array.isArray(criterias))\r\n      criterias = [criterias];\r\n    let canInspect = true;\r\n    criterias.forEach(criteria => {\r\n      // Path is a json-path\r\n      const value = jsonpath.value(obj, criteria.path);\r\n      if (typeof value === 'undefined') {\r\n        canInspect = false;\r\n      } else {\r\n        // Value can be a regex or a string literal\r\n        if (criteria.value.startsWith('/')) {\r\n          const regex = new RegExp(criteria.value);\r\n          canInspect = canInspect && regex.test(value);\r\n        } else {\r\n          canInspect = canInspect && criteria.value === value;\r\n        }\r\n      }\r\n    });\r\n    return canInspect;\r\n  }\r\n\r\n  public static summaryText(inspector: IExtensionInspector, obj: any): string {\r\n    let summaryTexts = inspector.summaryText || [];\r\n    if (!Array.isArray(summaryTexts))\r\n    summaryTexts = [summaryTexts];\r\n    let ret: any;\r\n    for (let i = 0; i < summaryTexts.length; ++i) {\r\n      const results = jsonpath.query(obj, summaryTexts[i]);\r\n      if (results && results.length) {\r\n        if (typeof results[0] === 'string') {\r\n          const value = results[0];\r\n          if (value.length > 0) {\r\n            ret = value;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let text;\r\n    if (typeof ret == 'string')\r\n      text = ret;\r\n    else if (ret)\r\n      text = JSON.stringify(ret);\r\n    else\r\n      text = \"\";\r\n\r\n    if (text.length > 50)\r\n      text = text.substring(0, 50) + \"...\";\r\n    return text;\r\n  }\r\n}\r\n\r\n//=============================================================================\r\nexport interface IGetInspectorResult {\r\n  extension: Extension;\r\n  inspector: IExtensionInspector;\r\n}\r\n\r\n//=============================================================================\r\nexport interface IExtensionManager {\r\n  registerCommands();\r\n  addExtension(config: IExtensionConfig, unid: string);\r\n  removeExtension(unid: string);\r\n  getExtensions(): Extension[];\r\n  inspectorForObject(obj: any, defaultToJson: boolean): IGetInspectorResult | null;\r\n}\r\n\r\n//=============================================================================\r\nexport const ExtensionManager = new class implements IExtensionManager {\r\n  private extensions: { [unid: string]: Extension } = {};\r\n\r\n  public addExtension(config: IExtensionConfig, unid: string) {\r\n    this.removeExtension(unid);\r\n    console.log(`adding extension ${config.name}`);\r\n    const ext = new Extension(config, unid);\r\n    this.extensions[unid] = ext;\r\n  }\r\n\r\n  public removeExtension(unid: string) {\r\n    if (this.extensions[unid]) {\r\n      console.log(`removing extension ${this.extensions[unid].config.name}`);\r\n      delete this.extensions[unid];\r\n    }\r\n  }\r\n\r\n  public findExtension(name: string): Extension {\r\n    return this.getExtensions().find(extension => extension.config.name === name);\r\n  }\r\n\r\n  public getExtensions(): Extension[] {\r\n    return Object.keys(this.extensions).map(key => this.extensions[key]) || [];\r\n  }\r\n\r\n  public inspectorForObject(obj: any, defaultToJson: boolean): IGetInspectorResult | null {\r\n    let result = this.getExtensions().map(extension => extension.inspectorForObject(obj)).filter(result => !!result).shift();\r\n    if (!result && defaultToJson) {\r\n      // Default to the JSON inspector\r\n      const jsonExtension = ExtensionManager.findExtension('JSON');\r\n      if (jsonExtension) {\r\n        result = {\r\n          extension: jsonExtension,\r\n          inspector: jsonExtension.config.client.inspectors ? jsonExtension.config.client.inspectors[0] : null\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public registerCommands() {\r\n    CommandRegistry.registerCommand('shell:extension-connect', (config: IExtensionConfig, unid: string) => {\r\n      ExtensionManager.addExtension(config, unid);\r\n    });\r\n\r\n    CommandRegistry.registerCommand('shell:extension-disconnect', (unid: string) => {\r\n      ExtensionManager.removeExtension(unid);\r\n    });\r\n  }\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nconst Electron = window['require']('electron');\nconst { shell } = Electron;\nimport { uniqueId } from '@bfemulator/sdk-shared';\nimport { CommandService } from './platform/commands/commandService';\nimport * as URL from 'url';\n\nexport function navigate(url: string) {\n    try {\n        const parsed = URL.parse(url);\n        if (parsed.protocol.startsWith('oauth:')) {\n            navigateEmulatedOAuthUrl(url.substring(8));\n        } else if (parsed.protocol.startsWith('oauthlink:')) {\n            navigateOAuthUrl(url.substring(12));\n        } else {\n            shell.openExternal(url, { activate: true });\n        }\n    } catch (e) {\n        shell.openExternal(url, { activate: true });\n    }\n}\n\nfunction navigateEmulatedOAuthUrl(oauthParam: string) {\n    let parts = oauthParam.split('&&&');\n    CommandService.remoteCall('oauth:send-token-response', parts[0], parts[1], 'emulatedToken_' + uniqueId()).then(() => {});\n}\n\nfunction navigateOAuthUrl(oauthParam: string) {\n    let parts = oauthParam.split('&&&');\n    CommandService.remoteCall('oauth:create-oauth-window', parts[0], parts[1]).then(() => {});\n}\n\n/*\nimport * as URL from 'url';\nimport * as QueryString from 'querystring';\nimport { InspectorActions, AddressBarActions } from './reducers';\nimport { getSettings, selectedActivity$ } from './settings';\nimport { Settings as ServerSettings } from '../external/types/serverSettingsTypes';\nimport { Emulator } from './emulator';\nimport { PaymentEncoder } from '../external/shared/paymentEncoder';\nimport * as log from './log';\n\n// import * as Electron from 'electron';\n// import { shell } from 'electron';\n\nconst Electron = window['require']('electron');\nconst { shell } = Electron;\n\n\nexport function navigate(url: string) {\n    try {\n        const parsed = URL.parse(url);\n        if (parsed.protocol === \"emulator:\") {\n            const params = ((QueryString.parse(parsed.query as string) as any) as string[]);\n            if (parsed.host === 'inspect') {\n                navigateInspectUrl(params);\n            } else if (parsed.host === 'appsettings') {\n                navigateAppSettingsUrl(params);\n            } else if (parsed.host === 'botcreds') {\n                navigateBotCredsUrl(params);\n            } else if (parsed.host === 'command') {\n                navigateCommandUrl(params);\n            }\n        } else if (parsed.protocol) {\n            if (parsed.protocol.startsWith(PaymentEncoder.PaymentEmulatorUrlProtocol)) {\n                navigatePaymentUrl(parsed.path);\n            } else if (parsed.protocol.startsWith('file:')) {\n                // ignore\n            } else if (parsed.protocol.startsWith('javascript:')) {\n                // ignore\n            }\n        } else {\n            shell.openExternal(url, { activate: true });\n        }\n    } catch (e) {\n        log.error(e.message);\n    }\n}\n\nfunction navigateInspectUrl(params: string[]) {\n    try {\n        const encoded = params['obj'];\n        let json;\n        let obj;\n        try {\n            json = decodeURIComponent(encoded);\n        } catch (e) {\n            json = encoded;\n        }\n        try {\n            obj = JSON.parse(json);\n        } catch (e) {\n            obj = json;\n        }\n        if (obj) {\n            if (obj.id) {\n                selectedActivity$().next({ id: obj.id });\n            } else if (obj.replyToId) {\n                selectedActivity$().next({ id: obj.replyToId });\n            } else {\n                selectedActivity$().next({});\n            }\n            InspectorActions.setSelectedObject({ activity: obj });\n        } else {\n            selectedActivity$().next({});\n        }\n    } catch (e) {\n        selectedActivity$().next({});\n        throw e;\n    }\n}\n\nfunction navigateAppSettingsUrl(args: string[]) {\n    AddressBarActions.showAppSettings();\n}\n\nfunction navigateBotCredsUrl(args: string[]) {\n    args = args || [];\n    if (!args.length) {\n        const settings = getSettings();\n        const activeBotId = settings.serverSettings.activeBot;\n        if (activeBotId) {\n            const activeBot = new ServerSettings(settings.serverSettings).botById(activeBotId);\n            AddressBarActions.selectBot(activeBot);\n        }\n    } else {\n        // todo\n    }\n    AddressBarActions.showBotCreds();\n}\n\nfunction navigateCommandUrl(params: string[]) {\n    if (!params || !params['args'])\n        return;\n    const json = decodeURIComponent(params['args']);\n    const args = JSON.parse(json);\n    if (typeof args ==='string' && args.includes('autoUpdater.quitAndInstall')) {\n        Emulator.quitAndInstall();\n    }\n}\n\nfunction navigatePaymentUrl(payload?: string) {\n    const settings = getSettings();\n    Electron.ipcRenderer.send(\"createCheckoutWindow\", {\n        payload: payload,\n        settings: settings,\n        serviceUrl: Emulator.serviceUrl\n    });\n}\n*/\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n// for hot reloading\r\nimport { hot } from 'react-hot-loader';\r\nimport { Provider } from 'react-redux';\r\nimport * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\n\r\nimport interceptError from './interceptError';\r\nimport interceptHyperlink from './interceptHyperlink';\r\nimport Main from './ui/shell/main';\r\nimport store from './data/store';\r\nimport { CommandService } from './platform/commands/commandService';\r\nimport { SettingsService } from './platform/settings/settingsService';\r\nimport { LogService } from './platform/log/logService';\r\nimport { showWelcomePage } from './data/editorHelpers';\r\nimport * as Commands from './commands';\r\n\r\ninterceptError();\r\ninterceptHyperlink();\r\n\r\nCommandService.init();\r\nSettingsService.init();\r\nLogService.init();\r\n\r\nCommands.registerCommands();\r\n\r\n// Start rendering the UI\r\nReactDOM.render(\r\n  React.createElement(Provider, { store }, React.createElement(Main as any)),\r\n  document.getElementById('root')\r\n);\r\n\r\n// Tell the main process we're loaded\r\nCommandService.remoteCall('client:loaded')\r\n  .then(() => {\r\n    showWelcomePage();\r\n    CommandService.remoteCall('menu:update-recent-bots');\r\n  })\r\n  .catch(err => console.error(`Error occured during client:loaded: ${err}`));\r\nif (module['hot']) {\r\n  module['hot'].accept();\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\n//import * as log from './v1/log';\n\nexport default function interceptError() {\n    (process as NodeJS.EventEmitter).on('uncaughtException', error => {\n        //log.error('[err-client]', error.message, error.stack);\n    });\n\n    window.onerror = (message: string, filename?: string, lineno?: number, colno?: number, error?: Error) => {\n        //log.error('[err-client]', message, filename, lineno, colno, error);\n\n        return true; // prevent default handler\n    }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { navigate } from './hyperlinkHandler';\n\nexport default function interceptHyperlink() {\n    const interceptClickEvent = (e: Event) => {\n        let target: any = e.target;\n\n        while (target) {\n            if (target.href) {\n                e.preventDefault();\n                navigate(target.href);\n                return;\n            }\n\n            target = target.parentNode;\n        }\n    }\n\n    document.addEventListener('click', interceptClickEvent);\n\n    // Monkey patch window.open\n    window.open = (url: string): any => {\n        navigate(url);\n    }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nconst electron = window['require']('electron');\n\nimport { IPC, Channel, IDisposable } from '@bfemulator/sdk-shared';\n\nexport const ElectronIPC = new class extends IPC {\n  constructor() {\n    super();\n    electron.ipcRenderer.on('ipc:message', (sender: any, ...args: any[]) => {\n      const channelName = args.shift();\n      const channel = super.getChannel(channelName);\n      if (channel) {\n        channel.onMessage(...args);\n      }\n    });\n  }\n\n  send(...args: any[]): void {\n    electron.ipcRenderer.send('ipc:message', ...args);\n  }\n\n  registerChannel(channel: Channel): IDisposable {\n    return super.registerChannel(channel);\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport {\n  CommandService as InternalSharedService,\n  Disposable,\n  ICommandHandler,\n  ICommandService,\n  IDisposable\n} from '@bfemulator/sdk-shared';\nimport { CommandRegistry } from '../../commands';\nimport { ElectronIPC } from '../../ipc';\n\nexport const CommandService = new class extends Disposable implements ICommandService {\n\n  private _service: InternalSharedService;\n\n  init() { }\n\n  public get registry() { return this._service.registry; }\n\n  constructor() {\n    super();\n    this._service = new InternalSharedService(ElectronIPC, 'command-service', CommandRegistry);\n    super.toDispose(this._service);\n  }\n\n  call(commandName: string, ...args: any[]): Promise<any> {\n    return this._service.call(commandName, ...args);\n  }\n\n  remoteCall(commandName: string, ...args: any[]): Promise<any> {\n    return this._service.remoteCall(commandName, ...args);\n  }\n\n  on(event: string, handler?: ICommandHandler): IDisposable\n  on(event: 'command-not-found', handler?: (commandName: string, ...args: any[]) => any) {\n    return this._service.on(event, handler);\n  }\n};\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { ILogEntry } from '@bfemulator/app-shared';\nimport { Disposable } from '@bfemulator/sdk-shared';\nimport * as ChatActions from '../../data/action/chatActions';\nimport store from '../../data/store';\nimport { CommandRegistry } from '../../commands';\nimport * as chatHelpers from '../../data/chatHelpers';\n\nexport function registerCommands() {\n  CommandRegistry.registerCommand(\"conversation:log:append\", (conversationId: string, entry: ILogEntry): any => {\n    LogService.logToChat(conversationId, entry);\n  });\n}\n\nexport const LogService = new class extends Disposable {\n\n  init() { }\n\n  logToChat(conversationId: string, entry: ILogEntry): void {\n    const documentId = chatHelpers.documentIdForConversation(conversationId);\n    if (documentId) {\n      LogService.logToDocument(documentId, entry);\n    }\n  }\n\n  logToDocument(documentId: string, entry: ILogEntry): void {\n    store.dispatch(ChatActions.appendToLog(documentId, entry));\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { Disposable } from '@bfemulator/sdk-shared';\nimport { CommandRegistry } from '../../commands';\n\nexport function registerCommands() {\n  CommandRegistry.registerCommand(\"receive-global-settings\", (settings: {\n    url: string,\n    cwd: string\n  }): any => {\n    SettingsService.emulator.url = (settings.url || '').replace('[::]', '127.0.0.1');\n    SettingsService.emulator.cwd = (settings.cwd || '').replace(/\\\\/g, '/');\n  });\n}\n\nexport interface IEmulatorSettings {\n  url?: string;\n  cwd?: string;\n  readonly cwdAsBase: string;\n}\n\nclass EmulatorSettings implements IEmulatorSettings {\n  private _url: string;\n  private _cwd: string;\n\n  get url(): string {\n    if (!this._url || !this._url.length) {\n      throw new Error(\"Emulator url not set\");\n    }\n    return this._url;\n  }\n  set url(value: string) {\n    this._url = value;\n  }\n\n  get cwd(): string {\n    if (!this._cwd || !this._cwd.length) {\n      throw new Error(\"Emulator cwd not set\");\n    }\n    return this._cwd;\n  }\n\n  set cwd(value: string) {\n    this._cwd = value;\n  }\n\n  get cwdAsBase() : string {\n    let base = this.cwd;\n    if (!base.startsWith('/')) {\n      base = `/${base}`;\n    }\n\n    return base;\n  }\n}\n\nexport const SettingsService = new class extends Disposable {\n\n  private _emulator: EmulatorSettings;\n\n  get emulator(): IEmulatorSettings { return this._emulator; }\n\n  init() { }\n\n  constructor() {\n    super();\n    this._emulator = new EmulatorSettings();\n  }\n};\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { css } from 'glamor';\n\nimport { IRootState } from '../../data/store';\nimport * as Constants from '../../constants';\nimport { PrimaryButton } from '@bfemulator/ui-react';\n\nconst CSS = css({\n  position: 'absolute',\n  maxWidth: '400px',\n  display: 'flex',\n  flexFlow: 'column nowrap',\n  bottom: 0,\n  left: 0,\n  opacity: '0.9',\n  pointerEvents: 'none',\n\n  '& pre': {\n    maxHeight: '500px',\n    overflowY: 'auto',\n    pointerEvents: 'auto'\n  },\n\n  '& select': {\n    width: '120px'\n  },\n\n  '& select, & option': {\n    pointerEvents: 'auto'\n  },\n\n  '& .visualizer-button': {\n    width: '120px',\n    pointerEvents: 'auto'\n  }\n});\n\ntype StateSlice = 'assetExplorer' | 'bot' | 'chat' | 'dialog' | 'editor' | 'explorer' | 'navBar' | 'presentation' | 'server';\n\ninterface IStoreVisualizerProps {\n  enabled?: boolean;\n  rootState?: IRootState;\n}\n\ninterface IStoreVisualizerState {\n  showing?: boolean;\n  selectedSlice?: StateSlice;\n}\n\n/** Transparent overlay that helps visualize a selected slice of the state */\nclass StoreVisualizer extends React.Component<IStoreVisualizerProps, IStoreVisualizerState> {\n  constructor(context, props) {\n    super(context, props);\n\n    this.toggleShowing = this.toggleShowing.bind(this);\n    this.onSelectSlice = this.onSelectSlice.bind(this);\n\n    this.state = {\n      showing: true,\n      selectedSlice: 'editor'\n    };\n  }\n\n  toggleShowing(): void {\n    this.setState({ showing: !this.state.showing });\n  }\n\n  onSelectSlice(e: any): void {\n    this.setState({ selectedSlice: e.target.value });\n  }\n\n  render(): JSX.Element {\n    const prettyState = JSON.stringify(this.props.rootState[this.state.selectedSlice], null, 2);\n\n    if (this.props.enabled) {\n      return (\n        <div { ...CSS }>\n          {\n            this.state.showing ?\n\n            <>\n              <select value={ this.state.selectedSlice } onChange={ this.onSelectSlice } >\n                <option value=\"assetExplorer\">Asset Explorer</option>\n                <option value=\"bot\">Bot</option>\n                <option value=\"chat\">Chat</option>\n                <option value=\"dialog\">Dialog</option>\n                <option value=\"editor\">Editor</option>\n                <option value=\"explorer\">Explorer</option>\n                <option value=\"navBar\">NavBar</option>\n                <option value=\"presentation\">Presentation</option>\n                <option value=\"server\">Server</option>\n              </select>\n\n              <pre>\n                { prettyState }\n              </pre>\n\n              <PrimaryButton text=\"Hide Visualizer\" className=\"visualizer-button\" onClick={ this.toggleShowing } />\n            </>\n\n            :\n\n            <PrimaryButton text=\"Show visualizer\" className=\"visualizer-button\" onClick={ this.toggleShowing } />\n          }\n        </div>\n      );\n    } else return null;\n  }\n}\n\nconst mapStateToProps = (state: IRootState): IStoreVisualizerProps => ({ rootState: state });\n\nexport default connect(mapStateToProps, null)(StoreVisualizer);\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { uniqueId } from '@bfemulator/sdk-shared';\r\nimport {\r\n  Checkbox,\r\n  Colors,\r\n  Column,\r\n  MediumHeader,\r\n  PrimaryButton,\r\n  Row,\r\n  RowJustification,\r\n  TextInputField\r\n} from '@bfemulator/ui-react';\r\nimport { css } from 'glamor';\r\nimport { EndpointService } from 'msbot/bin/models';\r\nimport { IEndpointService, ServiceType } from 'msbot/bin/schema';\r\nimport * as React from 'react';\r\nimport { BotConfigWithPath } from '@bfemulator/sdk-shared';\r\nimport { IBotConfigWithPath } from '@bfemulator/sdk-shared';\r\n\r\nimport { CommandService } from '../../platform/commands/commandService';\r\nimport { ActiveBotHelper } from '../helpers/activeBotHelper';\r\nimport { DialogService } from './service';\r\n\r\nconst CSS = css({\r\n  backgroundColor: Colors.DIALOG_BACKGROUND_DARK,\r\n  padding: '32px',\r\n  width: '648px',\r\n\r\n  '& .multi-input-row > *': {\r\n    marginLeft: '8px'\r\n  },\r\n\r\n  '& .multi-input-row > *:first-child': {\r\n    marginLeft: 0\r\n  },\r\n\r\n  '& .button-row': {\r\n    marginTop: '48px'\r\n  },\r\n\r\n  '& .bot-create-header': {\r\n    color: Colors.DIALOG_FOREGROUND_DARK,\r\n    marginBottom: '16px'\r\n  },\r\n\r\n  '& .secret-checkbox': {\r\n    paddingBottom: '8px',\r\n    color: Colors.DIALOG_FOREGROUND_DARK\r\n  },\r\n\r\n  '& .bot-creation-input': {\r\n    border: `solid 1px ${Colors.DIALOG_INPUT_BORDER_DARK}`\r\n  },\r\n\r\n  '& .text-input-label, & input': {\r\n    color: Colors.INPUT_TEXT_DARK\r\n  },\r\n\r\n  '& input::placeholder': {\r\n    color: Colors.INPUT_PLACEHOLDER_TEXT_DARK\r\n  },\r\n\r\n  '& .bot-creation-cta': {\r\n    minWidth: 0,\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n    overflow: 'hidden',\r\n    textDecoration: 'none',\r\n    color: Colors.APP_HYPERLINK_FOREGROUND_DARK,\r\n    flexShrink: 0,\r\n\r\n    ':hover': {\r\n      color: Colors.APP_HYPERLINK_FOREGROUND_DARK\r\n    }\r\n  },\r\n\r\n  '& .small-input': {\r\n    width: '200px',\r\n    flexShrink: 0\r\n  },\r\n\r\n  '& .secret-row': {\r\n    paddingLeft: '24px',\r\n\r\n    '& > .secret-input': {\r\n      width: '176px'  // 200 - 24px\r\n    }\r\n  }\r\n});\r\n\r\nexport interface BotCreationDialogState {\r\n  bot: IBotConfigWithPath;\r\n  endpoint: IEndpointService;\r\n  secret: string;\r\n  secretEnabled: boolean;\r\n  secretsMatch: boolean;\r\n  secretConfirmation: string;\r\n}\r\n\r\nexport default class BotCreationDialog extends React.Component<{}, BotCreationDialogState> {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.state = {\r\n      bot: BotConfigWithPath.fromJSON({\r\n        name: '',\r\n        description: '',\r\n        secretKey: '',\r\n        services: [],\r\n        path: ''\r\n      }),\r\n      endpoint: new EndpointService({\r\n        type: ServiceType.Endpoint,\r\n        name: '',\r\n        id: uniqueId(),\r\n        appId: '',\r\n        appPassword: '',\r\n        endpoint: ''\r\n      }),\r\n      secret: '',\r\n      secretEnabled: false,\r\n      secretsMatch: false,\r\n      secretConfirmation: ''\r\n    };\r\n  }\r\n\r\n  private onChangeEndpoint = (e) => {\r\n    const endpoint = { ...this.state.endpoint, endpoint: e.target.value, name: e.target.value };\r\n    this.setState({ endpoint });\r\n  };\r\n\r\n  private onChangeAppId = (e) => {\r\n    const endpoint = { ...this.state.endpoint, appId: e.target.value };\r\n    this.setState({ endpoint });\r\n  };\r\n\r\n  private onChangeAppPw = (e) => {\r\n    const endpoint = { ...this.state.endpoint, appPassword: e.target.value };\r\n    this.setState({ endpoint });\r\n  };\r\n\r\n  private onChangeName = (e) => {\r\n    const bot = { ...this.state.bot, name: e.target.value };\r\n    this.setState({ bot });\r\n  };\r\n\r\n  private onChangeBotLocation = (e) => {\r\n    const bot = { ...this.state.bot, path: e.target.value };\r\n    this.setState({ bot });\r\n  };\r\n\r\n  private onCancel = (e) => {\r\n    DialogService.hideDialog();\r\n  };\r\n\r\n  private onToggleSecret = (e) => {\r\n    this.setState({ secretEnabled: !this.state.secretEnabled, secret: '' });\r\n  };\r\n\r\n  private onSaveAndConnect = async (e) => {\r\n    try {\r\n      const path = await this.showBotSaveDialog();\r\n      if (path) {\r\n        this.performCreate(path);\r\n      } else {\r\n        // user cancelled out of the save dialog\r\n        console.log('Bot creation save dialog was cancelled.');\r\n      }\r\n    } catch (e) {\r\n      console.error('Error while trying to select a bot file location: ', e);\r\n    }\r\n  }\r\n\r\n  private performCreate = (botPath: string) => {\r\n    const endpoint: IEndpointService = {\r\n      type: this.state.endpoint.type,\r\n      name: this.state.endpoint.name.trim(),\r\n      id: this.state.endpoint.id.trim(),\r\n      appId: this.state.endpoint.appId.trim(),\r\n      appPassword: this.state.endpoint.appPassword.trim(),\r\n      endpoint: this.state.endpoint.endpoint.trim()\r\n    };\r\n\r\n    const bot: IBotConfigWithPath = BotConfigWithPath.fromJSON({\r\n      ...this.state.bot,\r\n      name: this.state.bot.name.trim(),\r\n      description: this.state.bot.description.trim(),\r\n      services: [endpoint],\r\n      path: botPath.trim()\r\n    });\r\n\r\n    const secret = this.state.secretEnabled && this.state.secret ? this.state.secret : null;\r\n\r\n    ActiveBotHelper.confirmAndCreateBot(bot, secret)\r\n      .then(() => DialogService.hideDialog())\r\n      .catch(err => console.error('Error during confirm and create bot: ', err));\r\n  };\r\n\r\n  private showBotSaveDialog = async (): Promise<any> => {\r\n    // get a safe bot file name\r\n    const botFileName = await CommandService.remoteCall('file:sanitize-string', this.state.bot.name);\r\n    const dialogOptions = {\r\n      filters: [\r\n        {\r\n          name: \"Bot Files\",\r\n          extensions: ['bot']\r\n        }\r\n      ],\r\n      defaultPath: botFileName,\r\n      showsTagField: false,\r\n      title: \"Save as\",\r\n      buttonLabel: \"Save\"\r\n    };\r\n\r\n    return CommandService.remoteCall('shell:showSaveDialog', dialogOptions);\r\n  };\r\n\r\n  private onChangeSecret = (e) => {\r\n    this.setState({ secret: e.target.value, secretsMatch: e.target.value === this.state.secretConfirmation });\r\n  };\r\n\r\n  private onChangeSecretConfirmation = (e) => {\r\n    this.setState({ secretConfirmation: e.target.value, secretsMatch: e.target.value === this.state.secret });\r\n  };\r\n\r\n  render(): JSX.Element {\r\n    const secretCriteria = this.state.secretEnabled ? this.state.secret && this.state.secretsMatch : true;\r\n\r\n    const requiredFieldsCompleted = this.state.bot\r\n      && this.state.endpoint.endpoint\r\n      && this.state.bot.name\r\n      && secretCriteria;\r\n\r\n    return (\r\n      <div { ...CSS }>\r\n        <Column>\r\n          <MediumHeader className=\"bot-create-header\">New bot configuration</MediumHeader>\r\n          <TextInputField className=\"small-input\" inputClass=\"bot-creation-input\" value={ this.state.bot.name }\r\n                          onChange={ this.onChangeName } label={ 'Bot name' } required={ true }/>\r\n          <TextInputField inputClass=\"bot-creation-input\" value={ this.state.endpoint.endpoint }\r\n                          onChange={ this.onChangeEndpoint }\r\n                          placeholder={ 'Enter a URL for your bot\\'s endpoint' } label={ 'Endpoint URL' }\r\n                          required={ true }/>\r\n          <Row className=\"multi-input-row\">\r\n            <TextInputField className=\"small-input\" inputClass=\"bot-creation-input\" value={ this.state.endpoint.appId }\r\n                            onChange={ this.onChangeAppId } label={ 'MSA app ID' } placeholder={ 'Optional' }/>\r\n            <TextInputField className=\"small-input\" inputClass=\"bot-creation-input\"\r\n                            value={ this.state.endpoint.appPassword } onChange={ this.onChangeAppPw }\r\n                            label={ 'MSA app password' } placeholder={ 'Optional' } type={ 'password' }/>\r\n          </Row>\r\n          <Checkbox className={ 'secret-checkbox' } checked={ this.state.secretEnabled }\r\n                    onChange={ this.onToggleSecret } label={ 'Encrypt your keys' } id={ 'bot-secret-checkbox' }/>\r\n          {\r\n            this.state.secretEnabled &&\r\n            <Row className=\"multi-input-row secret-row\">\r\n              <TextInputField className=\"secret-input\" inputClass=\"bot-creation-input\" value={ this.state.secret }\r\n                              onChange={ this.onChangeSecret }\r\n                              required={ this.state.secretEnabled } label={ 'Create a secret' } type={ 'password' }/>\r\n              <TextInputField className=\"secret-input secret-confirmation\" inputClass=\"bot-creation-input\"\r\n                              value={ this.state.secretConfirmation } onChange={ this.onChangeSecretConfirmation }\r\n                              required={ this.state.secretEnabled } label={ 'Confirm your secret' } type={ 'password' }\r\n                              error={ this.state.secret && !this.state.secretsMatch ? 'Secrets do not match' : null }/>\r\n            </Row>\r\n          }\r\n          <Row className=\"multi-input-row button-row\" justify={ RowJustification.Right }>\r\n            <PrimaryButton secondary text='Cancel' onClick={ this.onCancel } className=\"cancel-button\"/>\r\n            <PrimaryButton text='Save and connect' onClick={ this.onSaveAndConnect }\r\n                           disabled={ !requiredFieldsCompleted } className=\"connect-button\"/>\r\n          </Row>\r\n        </Column>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\nimport * as React from 'react';\nimport { EventHandler } from 'react';\nimport { connect } from 'react-redux';\nimport { DialogService } from './service';\n\ninterface IDialogHostProps {\n  saveHostRef?: (elem: HTMLElement) => void;\n  showing?: boolean;\n}\n\ninterface IDialogHostState {\n}\n\nconst CSS = css({\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n  display: 'none',\n  alignItems: 'center',\n  justifyContent: 'center',\n  backgroundColor: 'transparent',\n\n  '& .dialog-host-content': {\n    height: 'auto',\n    width: 'auto',\n    maxWidth: '648px',\n    maxHeight: '80%',\n    overflow: 'auto',\n    boxShadow: '0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)'\n  },\n\n  '&.dialog-host-visible': {\n    display: 'flex'\n  }\n});\n\nclass DialogHost extends React.Component<IDialogHostProps, IDialogHostState> {\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  private handleOverlayClick: EventHandler<any> = (event: MouseEvent) => {\n    event.stopPropagation();\n    DialogService.hideDialog();\n  };\n\n  private handleContentClick: EventHandler<any> = (event: MouseEvent) => {\n    // need to stop clicks inside the dialog from bubbling up to the overlay\n    event.stopPropagation();\n  };\n\n  private saveHostRef = (elem) => {\n    DialogService.setHost(elem);\n  };\n\n  render() {\n    const visibilityClass = this.props.showing ? ' dialog-host-visible' : '';\n\n    return (\n      <div className={CSS + ' dialog-host-overlay' + visibilityClass} onClick={this.handleOverlayClick}>\n        <div className=\"dialog-host-content\" onClick={this.handleContentClick} ref={this.saveHostRef}>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state: any): any {\n  return ({ showing: state.dialog.showing });\n}\n\nexport default connect(mapStateToProps, null)(DialogHost);\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as React from 'react';\nimport { css } from 'glamor';\n\nimport { Colors, PrimaryButton, TextInputField, Row, RowJustification, Column, MediumHeader, SmallHeader } from '@bfemulator/ui-react';\nimport { DialogService } from './service/index';\n\nconst CSS = css({\n  backgroundColor: Colors.EDITOR_TAB_BACKGROUND_DARK,\n  padding: '32px',\n  width: '480px',\n\n  '& .button-row': {\n    marginTop: '48px',\n\n    '& > .save-button': {\n      marginLeft: '8px'\n    }\n  }\n});\n\ninterface SecretPromptDialogState {\n  secret: string;\n}\n\nexport default class SecretPromptDialog extends React.Component<{}, SecretPromptDialogState> {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = { secret: '' };\n  }\n\n  private onClickDismiss = (e) => {\n    DialogService.hideDialog(null);\n  }\n\n  private onClickSave = (e) => {\n    // return the secret\n    DialogService.hideDialog(this.state.secret);\n  }\n\n  private onChangeSecret = (e) => {\n    this.setState({ secret: e.target.value });\n  }\n\n  render(): JSX.Element {\n    return (\n      <div { ...CSS }>\n        <Column>\n          <MediumHeader>Bot secret required!</MediumHeader>\n          <SmallHeader>Please enter your bot's secret</SmallHeader>\n          <TextInputField value={ this.state.secret } onChange={ this.onChangeSecret } label={ 'Bot secret' } type={ 'password' } />\n          <Row className=\"button-row\" justify={ RowJustification.Right }>\n              <PrimaryButton secondary text={ 'Dismiss' } onClick={ this.onClickDismiss } />\n              <PrimaryButton className=\"save-button\" text={ 'Save' } onClick={ this.onClickSave } />\n          </Row>\n        </Column>\n      </div>\n    );\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as React from 'react';\nimport { ComponentClass, StatelessComponent } from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport * as DialogActions from '../../../data/action/dialogActions';\n\nimport store from '../../../data/store';\nimport { IDialogService } from './IDialogService';\n\nexport const DialogService = new class implements IDialogService {\n  private _hostElement: HTMLElement;\n  private _dialogReturnValue: Promise<any>;\n  private _resolve: (value?: any) => void;\n\n  /** Returns a thenable that can return a value using hideDialog(value)\n   *\n   * Ex. DialogService.showDialog(PasswordPromptDialog).then(pw => // do something with password from dialog)\n  */\n  showDialog<T extends ComponentClass | StatelessComponent>(dialog: T, props: { [propName: string]: any} = {}): Promise<any> {\n    if (!this._hostElement) {\n      return new Promise((resolve, reject) => resolve(null));\n    }\n    const reactElement = React.createElement(Provider, { store }, React.createElement(dialog, props));\n    ReactDOM.render(reactElement, this._hostElement);\n    store.dispatch(DialogActions.setShowing(true));\n\n    // set up the dialog to return a value from the dialog\n    this._dialogReturnValue = new Promise((resolve, reject) => {\n      this._resolve = resolve;\n    });\n    return this._dialogReturnValue;\n  }\n\n  hideDialog(dialogReturnValue?: any): void {\n    if (!this._hostElement) {\n      return;\n    }\n\n    ReactDOM.render(null, this._hostElement);\n    store.dispatch(DialogActions.setShowing(false));\n\n    this._resolve(dialogReturnValue);\n  }\n\n  setHost(hostElement: HTMLElement): void {\n    this._hostElement = hostElement;\n  }\n};\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport React from 'react';\nimport { css } from 'glamor';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { Colors } from '@bfemulator/ui-react';\nimport * as EditorActions from '../../../data/action/editorActions';\n\nconst CSS = css({\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0,\n  position: 'absolute',\n  display: 'flex',\n  flexFlow: 'row nowrap',\n  alignItems: 'center',\n  justifyContent: 'center',\n  backgroundColor: 'rgba(0, 0, 0, 0)',\n\n  '& > ul': {\n    height: 'auto',\n    width: 'auto',\n    maxHeight: '30%',\n    overflowY: 'auto',\n    margin: '0',\n    padding: '24px 64px',\n    listStyle: 'none',\n    backgroundColor: Colors.EDITOR_TAB_INACTIVE_BACKGROUND_DARK,\n    color: Colors.EDITOR_TAB_INACTIVE_FOREGROUND_DARK,\n    boxShadow: '0px 2px 2px 0px rgba(0,0,0,0.2), 2px 0px 2px 0px rgba(0,0,0,0.2), -2px 0px 2px 0px rgba(0,0,0,0.2)'\n  },\n\n  '& > ul > li': {\n    padding: '4px 0',\n    textAlign: 'center',\n\n    '&:focus': { outline: '0' }\n  },\n\n  '& > ul > .selected-tab': {\n    color: Colors.EDITOR_TAB_HOVER_FOREGROUND_DARK,\n    textDecoration: 'underline'\n  }\n});\n\nexport class TabManager extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onKeyDown = this.onKeyDown.bind(this);\n    this.onKeyUp = this.onKeyUp.bind(this);\n    this.saveTabRef = this.saveTabRef.bind(this);\n\n    this.state = {\n      controlIsPressed: false,\n      selectedIndex: 0,\n      shiftIsPressed: false,\n      showing: false\n    };\n\n    this.tabRefs = [];\n  }\n\n  componentWillMount() {\n    window.addEventListener('keydown', this.onKeyDown);\n    window.addEventListener('keyup', this.onKeyUp);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onKeyDown);\n    window.removeEventListener('keyup', this.onKeyUp);\n  }\n\n  saveTabRef(element, index) {\n    this.tabRefs[index] = element;\n  }\n\n  moveIndexDown() {\n    return this.state.selectedIndex === this.props.recentTabs.length - 1 ? 0 : this.state.selectedIndex + 1;\n  }\n\n  moveIndexUp() {\n    return this.state.selectedIndex === 0 ? this.props.recentTabs.length - 1 : this.state.selectedIndex - 1;\n  }\n\n  onKeyDown(e) {\n    if (!this.props.recentTabs.length) {\n      return;\n    }\n\n    switch (e.key) {\n      case 'ArrowUp':\n        if (this.state.showing) {\n          this.setState(({ selectedIndex: this.moveIndexUp() }));\n        }\n        break;\n\n      case 'ArrowDown':\n        if (this.state.showing) {\n          this.setState(({ selectedIndex: this.moveIndexDown() }));\n        }\n        break;\n\n      case 'Control':\n        this.setState(({ controlIsPressed: true }));\n        break;\n\n      case 'Tab':\n        if (this.state.controlIsPressed) {\n          if (this.state.showing && !this.state.shiftIsPressed) {\n            this.setState(({ selectedIndex: this.moveIndexDown() }));\n          } else if (this.state.showing && this.state.shiftIsPressed) {\n            this.setState(({ selectedIndex: this.moveIndexUp() }));\n          } else {\n            this.setState(({ showing: true, selectedIndex: 0 }));\n          }\n        }\n        break;\n\n      case 'Shift':\n        this.setState(({ shiftIsPressed: true }));\n        break;\n\n      default:\n        break;\n    }\n\n    if (this.tabRefs[this.state.selectedIndex]) {\n      this.tabRefs[this.state.selectedIndex].focus();\n    }\n  }\n\n  onKeyUp(e) {\n    switch (e.key) {\n      case 'Control':\n        if (this.state.showing) {\n          this.setState(({ controlIsPressed: false, showing: false }));\n          this.props.dispatch(EditorActions.setActiveTab(this.props.recentTabs[this.state.selectedIndex]));\n        } else {\n          this.setState(({ controlIsPressed: false }));\n        }\n        break;\n\n      case 'Shift':\n        this.setState(({ shiftIsPressed: false }));\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  render() {\n    return (this.state.showing && !this.props.disabled) ? (\n      <div className={ CSS }>\n        <ul>\n          {\n            this.props.recentTabs.map((tabId, index) => {\n              // TODO: Come up with a simple way to retrieve document\n              // name from store using documentId\n              const tabClassName = index === this.state.selectedIndex ? 'selected-tab' : '';\n              return (<li className={ tabClassName } ref={ x => this.saveTabRef(x, index) } key={ tabId } tabIndex={ 0 }>{ tabId }</li>);\n            })\n          }\n        </ul>\n      </div>\n    ) : null;\n  }\n}\n\nTabManager.propTypes = {\n  disabled: PropTypes.bool.isRequired\n};\n\nTabManager.defaultProps = {\n  recentTabs: []\n};\n\nexport default connect((state, ownProps) => ({\n  activeEditor: state.editor.activeEditor,\n  recentTabs: state.editor.editors[state.editor.activeEditor].recentTabs\n}))(TabManager);\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport * as React from 'react';\r\nimport { css } from 'glamor';\r\n\r\nimport { IFrameworkSettings } from '@bfemulator/app-shared';\r\nimport { CommandService } from '../../platform/commands/commandService';\r\nimport {\r\n  Checkbox,\r\n  Colors,\r\n  Column,\r\n  MediumHeader,\r\n  PrimaryButton,\r\n  Row,\r\n  RowAlignment,\r\n  RowJustification,\r\n  SmallHeader,\r\n  TextInputField\r\n} from '@bfemulator/ui-react';\r\nimport * as EditorActions from '../../data/action/editorActions';\r\nimport * as Constants from '../../constants';\r\nimport store from '../../data/store';\r\nimport { getTabGroupForDocument } from '../../data/editorHelpers';\r\nimport { GenericDocument } from '../layout';\r\nimport { debounce } from \"../utils/debounce\";\r\n\r\nconst CSS = css({\r\n  '& .right-column': {\r\n    marginLeft: '48px'\r\n  },\r\n\r\n  '& p': {\r\n    margin: 0,\r\n    marginBottom: '16px'\r\n  },\r\n\r\n  '& a': {\r\n    textDecoration: 'none',\r\n    color: Colors.APP_HYPERLINK_FOREGROUND_DARK,\r\n\r\n    ':hover': {\r\n      color: Colors.APP_HYPERLINK_FOREGROUND_DARK\r\n    }\r\n  },\r\n\r\n  '& .button-row': {\r\n    marginTop: '48px'\r\n  },\r\n\r\n  '& .browse-button, & .save-button': {\r\n    marginLeft: '8px'\r\n  },\r\n\r\n  '& .size-limit-suffix': {\r\n    display: 'inline-block',\r\n    lineHeight: '32px',\r\n    marginLeft: '8px'\r\n  },\r\n\r\n  '& .checkboxOverrides': {\r\n    marginBottom: '16px'\r\n  }\r\n});\r\n\r\ninterface IAppSettingsEditorProps {\r\n  documentId?: string;\r\n  dirty?: boolean;\r\n}\r\n\r\ninterface IAppSettingsEditorState {\r\n  committed: IFrameworkSettings;\r\n  uncommitted: IFrameworkSettings;\r\n}\r\n\r\nconst defaultAppSettings: IFrameworkSettings = {\r\n  bypassNgrokLocalhost: true,\r\n  locale: '',\r\n  localhost: '',\r\n  ngrokPath: '',\r\n  stateSizeLimit: 64,\r\n  use10Tokens: false,\r\n  useCodeValidation: false\r\n};\r\n\r\nfunction shallowEqual(x, y) {\r\n  return (\r\n    Object.keys(x).length === Object.keys(y).length\r\n    && Object.keys(x).every(key => key in y && x[key] === y[key])\r\n  );\r\n}\r\n\r\nexport default class AppSettingsEditor extends React.Component<IAppSettingsEditorProps, IAppSettingsEditorState> {\r\n  constructor(props: IAppSettingsEditorProps, context: any) {\r\n    super(props, context);\r\n\r\n    this.onClickBrowse = this.onClickBrowse.bind(this);\r\n    this.onChangeSizeLimit = this.onChangeSizeLimit.bind(this);\r\n    this.onClickSave = this.onClickSave.bind(this);\r\n    this.onChangeNgrok = this.onChangeNgrok.bind(this);\r\n    this.onChangeNgrokBypass = this.onChangeNgrokBypass.bind(this);\r\n    this.onChangeAuthTokenVersion = this.onChangeAuthTokenVersion.bind(this);\r\n    this.onChangeUseValidationToken = this.onChangeUseValidationToken.bind(this);\r\n    this.setDirtyFlag = debounce(this.setDirtyFlag, 300);\r\n    this.onClickDiscard = this.onClickDiscard.bind(this);\r\n    this.onChangeLocalhost = this.onChangeLocalhost.bind(this);\r\n    this.onChangeLocale = this.onChangeLocale.bind(this);\r\n\r\n    this.state = {\r\n      committed: { ...defaultAppSettings },\r\n      uncommitted: { ...defaultAppSettings }\r\n    };\r\n  }\r\n\r\n  componentWillMount(): void {\r\n    // load settings from main and populate form\r\n    CommandService.remoteCall('app:settings:load')\r\n      .then(settings => {\r\n        this.setState(() => ({\r\n          committed: settings,\r\n          uncommitted: settings\r\n        }));\r\n      })\r\n      .catch(err => console.error('Error while loading emulator settings: ', err));\r\n  }\r\n\r\n  setUncommittedState(patch) {\r\n    this.setState(state => {\r\n      const nextUncommitted = {\r\n        ...state.uncommitted,\r\n        ...patch\r\n      };\r\n\r\n      const clean = shallowEqual(state.uncommitted, state.committed);\r\n      const nextClean = shallowEqual(nextUncommitted, state.committed);\r\n\r\n      if (nextClean !== clean) {\r\n        this.setDirtyFlag(!nextClean);\r\n      }\r\n\r\n      return { uncommitted: nextUncommitted };\r\n    });\r\n  }\r\n\r\n  commit(committed) {\r\n    this.setState(() => {\r\n      this.setDirtyFlag(false);\r\n\r\n      return {\r\n        committed: { ...committed },\r\n        uncommitted: { ...committed }\r\n      };\r\n    });\r\n  }\r\n\r\n  onClickBrowse(): void {\r\n    const dialogOptions = {\r\n      title: 'Browse for ngrok',\r\n      buttonLabel: 'Select ngrok',\r\n      properties: ['openFile']\r\n    };\r\n\r\n    CommandService.remoteCall('shell:showOpenDialog', dialogOptions)\r\n      .then(ngrokPath => this.setUncommittedState({ ngrokPath }))\r\n      .catch(err => console.log('User cancelled browsing for ngrok: ', err));\r\n  }\r\n\r\n  onChangeSizeLimit(e): void {\r\n    this.setUncommittedState({ stateSizeLimit: e.target.value });\r\n  }\r\n\r\n  onClickSave(): void {\r\n    const { uncommitted } = this.state;\r\n    const settings: IFrameworkSettings = {\r\n      ngrokPath: uncommitted.ngrokPath.trim(),\r\n      bypassNgrokLocalhost: uncommitted.bypassNgrokLocalhost,\r\n      stateSizeLimit: +uncommitted.stateSizeLimit,\r\n      use10Tokens: uncommitted.use10Tokens,\r\n      useCodeValidation: uncommitted.useCodeValidation,\r\n      localhost: uncommitted.localhost.trim(),\r\n      locale: uncommitted.locale.trim()\r\n    };\r\n\r\n    CommandService.remoteCall('app:settings:save', settings)\r\n      .then(() => this.commit(settings))\r\n      .catch(err => console.error('Error while saving emulator settings: ', err));\r\n  }\r\n\r\n  onChangeAuthTokenVersion(): void {\r\n    this.setUncommittedState({ use10Tokens: !this.state.uncommitted.use10Tokens });\r\n  }\r\n\r\n  onChangeUseValidationToken(): void {\r\n    this.setUncommittedState({ useCodeValidation: !this.state.uncommitted.useCodeValidation });\r\n  }\r\n\r\n  onChangeNgrok(e): void {\r\n    this.setUncommittedState({ ngrokPath: e.target.value });\r\n  }\r\n\r\n  onChangeNgrokBypass(): void {\r\n    this.setUncommittedState({ bypassNgrokLocalhost: !this.state.uncommitted.bypassNgrokLocalhost });\r\n  }\r\n\r\n  onChangeLocalhost(e): void {\r\n    this.setUncommittedState({ localhost: e.target.value });\r\n  }\r\n\r\n  onChangeLocale(e): void {\r\n    this.setUncommittedState({ locale: e.target.value });\r\n  }\r\n\r\n  setDirtyFlag(dirty): void {\r\n    store.dispatch(EditorActions.setDirtyFlag(this.props.documentId, dirty));\r\n  }\r\n\r\n  onClickDiscard(): void {\r\n    store.dispatch(EditorActions.close(getTabGroupForDocument(this.props.documentId), Constants.DocumentId_AppSettings));\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    const { uncommitted } = this.state;\r\n    const clean = shallowEqual(this.state.committed, uncommitted);\r\n\r\n    return (\r\n      <GenericDocument style={ CSS }>\r\n        <Row>\r\n          <Column>\r\n            <SmallHeader>Service</SmallHeader>\r\n            <p><a href=\"https://ngrok.com/\" target=\"_blank\">ngrok</a> is network tunneling software. The Bot Framework Emulator works with ngrok to communicate with bots hosted remotely. Read the <a href=\"https://github.com/Microsoft/BotFramework-Emulator/wiki/Tunneling-(ngrok)\" target=\"_blank\">wiki page</a> to learn more about using ngrok and to download it.</p>\r\n            <Row align={ RowAlignment.Center }>\r\n              <TextInputField readOnly={ false } value={ uncommitted.ngrokPath } onChange={ this.onChangeNgrok } label={ 'Path to ngrok' } />\r\n              <PrimaryButton onClick={ this.onClickBrowse } text=\"Browse\" className=\"browse-button\" />\r\n            </Row>\r\n            <Checkbox className=\"checkboxOverrides\" checked={ uncommitted.bypassNgrokLocalhost } onChange={ this.onChangeNgrokBypass } id=\"ngrok-bypass\" label=\"Bypass ngrok for local addresses\" />\r\n            <Row align={ RowAlignment.Center }>\r\n              <TextInputField readOnly={ false } value={ uncommitted.localhost } onChange={ this.onChangeLocalhost } label=\"localhost override\" />\r\n            </Row>\r\n            <Row align={ RowAlignment.Center }>\r\n              <TextInputField readOnly={ false } value={ uncommitted.locale } onChange={ this.onChangeLocale } label=\"Locale\" />\r\n            </Row>\r\n         </Column>\r\n         <Column className=\"right-column\">\r\n            <SmallHeader>Auth</SmallHeader>\r\n            <Checkbox className=\"checkboxOverrides\" checked={ uncommitted.use10Tokens } onChange={ this.onChangeAuthTokenVersion } id=\"auth-token-version\" label=\"Use version 1.0 authentication tokens\" />\r\n            <SmallHeader>Sign-in</SmallHeader>\r\n            <Checkbox className=\"checkboxOverrides\" checked={ uncommitted.useCodeValidation } onChange={ this.onChangeUseValidationToken } id=\"use-validation-code\" label=\"Use a sign-in verification code for OAuthCards\" />\r\n          </Column>\r\n        </Row>\r\n        <Row className=\"button-row\" justify={ RowJustification.Right }>\r\n          <PrimaryButton text=\"Cancel\" onClick={ this.onClickDiscard } />\r\n          <PrimaryButton text=\"Save\" onClick={ this.onClickSave } className=\"save-button\" disabled={ clean } />\r\n        </Row>\r\n      </GenericDocument>\r\n    );\r\n  }\r\n}\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { IBotInfo, newEndpoint } from '@bfemulator/app-shared';\r\nimport { BotConfigWithPath, IBotConfigWithPath } from '@bfemulator/sdk-shared';\r\nimport { Column, MediumHeader, PrimaryButton, Row, TextInputField } from '@bfemulator/ui-react';\r\nimport { css } from 'glamor';\r\nimport { IEndpointService, ServiceType } from 'msbot/bin/schema';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as EditorActions from '../../../data/action/editorActions';\r\nimport { getBotInfoByPath } from '../../../data/botHelpers';\r\nimport store, { IRootState } from '../../../data/store';\r\n\r\nimport { CommandService } from '../../../platform/commands/commandService';\r\nimport { GenericDocument } from '../../layout';\r\n\r\nconst CSS = css({\r\n  '& .bot-settings-header': {\r\n    marginBottom: '16px'\r\n  },\r\n\r\n  '& .browse-path-button': {\r\n    marginLeft: '8px',\r\n    alignSelf: 'center'\r\n  },\r\n\r\n  '& .save-button': {\r\n    marginLeft: 'auto'\r\n  },\r\n\r\n  '& .save-connect-button': {\r\n    marginLeft: '8px'\r\n  },\r\n\r\n  '& .multiple-input-row': {\r\n    '& > div': {\r\n      marginLeft: '8px'\r\n    },\r\n\r\n    '& > div:first-child': {\r\n      marginLeft: 0\r\n    }\r\n  },\r\n\r\n  '& .button-row': {\r\n    marginTop: '48px'\r\n  },\r\n\r\n  '& .locale-input': {\r\n    flexShrink: 2,\r\n    minWidth: '100px'\r\n  }\r\n});\r\n\r\ninterface BotSettingsEditorProps {\r\n  bot?: IBotConfigWithPath;\r\n  dirty?: boolean;\r\n  documentId?: string;\r\n}\r\n\r\ninterface BotSettingsEditorState {\r\n  bot?: IBotConfigWithPath;\r\n  endpoint?: IEndpointService;\r\n  secret?: string;\r\n}\r\n\r\n// TODO: We need to deprecate this function as we move to multiple endpoints\r\nfunction getFirstBotEndpointOrDefault(bot) {\r\n  return (Array.isArray(bot.services) && bot.services.find(service => service.type === ServiceType.Endpoint) as IEndpointService) || newEndpoint();\r\n}\r\n\r\nclass BotSettingsEditor extends React.Component<BotSettingsEditorProps, BotSettingsEditorState> {\r\n  constructor(props: BotSettingsEditorProps, context) {\r\n    super(props, context);\r\n\r\n    const { bot } = props;\r\n    const botInfo = getBotInfoByPath(bot.path);\r\n    const endpoint = getFirstBotEndpointOrDefault(bot);\r\n\r\n    this.state = {\r\n      bot,\r\n      endpoint,\r\n      secret: (botInfo && botInfo.secret) || ''\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(newProps: BotSettingsEditorProps) {\r\n    const { path: newBotPath } = newProps.bot;\r\n    // handling a new bot\r\n    if (newBotPath !== this.state.bot.path) {\r\n      const newBotInfo: IBotInfo = getBotInfoByPath(newBotPath);\r\n\r\n      this.setState({ endpoint: getFirstBotEndpointOrDefault(newProps.bot), secret: newBotInfo.secret });\r\n      this.setDirtyFlag(false);\r\n    }\r\n  }\r\n\r\n  private onChangeName = (e) => {\r\n    const bot: IBotConfigWithPath = BotConfigWithPath.fromJSON({ ...this.state.bot, name: e.target.value });\r\n    this.setState({ bot });\r\n    this.setDirtyFlag(true);\r\n  };\r\n\r\n  private onChangeSecret = (e) => {\r\n    this.setState({ secret: e.target.value });\r\n    this.setDirtyFlag(true);\r\n  };\r\n\r\n  private onSave = async (e, connect = false) => {\r\n    const { appId = '', appPassword = '', endpoint = '', type, name = '', id = '' } = this.state.endpoint;\r\n    const endpointService: IEndpointService = {\r\n      appId: appId.trim(),\r\n      appPassword: appPassword.trim(),\r\n      endpoint: endpoint.trim(),\r\n      type: type,\r\n      name: name.trim(),\r\n      id: id.trim()\r\n    };\r\n\r\n    const { name: botName = '', description = '', path } = this.state.bot;\r\n    const bot: IBotConfigWithPath = BotConfigWithPath.fromJSON({\r\n      name: botName.trim(),\r\n      description: description.trim(),\r\n      secretKey: '',\r\n      path: path.trim(),\r\n      services: [endpointService]\r\n    });\r\n\r\n    // write the bot secret to bots.json\r\n    let botInfo = getBotInfoByPath(path);\r\n\r\n    botInfo.secret = this.state.secret;\r\n\r\n    await CommandService.remoteCall('bot:list:patch', path, botInfo);\r\n    await CommandService.remoteCall('bot:save', bot);\r\n\r\n    this.setDirtyFlag(false);\r\n    this.setState({ bot });\r\n\r\n    connect && CommandService.call('livechat:new', endpointService);\r\n  };\r\n\r\n  private onSaveAndConnect = async e => {\r\n    await this.onSave(e, true);\r\n  };\r\n\r\n  private setDirtyFlag(dirty) {\r\n    store.dispatch(EditorActions.setDirtyFlag(this.props.documentId, dirty));\r\n  }\r\n\r\n  render() {\r\n    const disabled = !this.state.bot.name || !this.props.dirty;\r\n    const error = !this.state.bot.name ? 'The bot name is required' : '';\r\n    return (\r\n      <GenericDocument style={ CSS }>\r\n        <Column>\r\n          <MediumHeader className=\"bot-settings-header\">Bot Settings</MediumHeader>\r\n          <TextInputField label=\"Bot name\" value={ this.state.bot.name } required={ true } onChange={ this.onChangeName } error={ error }/>\r\n          <TextInputField label=\"Bot secret\" value={ this.state.secret } onChange={ this.onChangeSecret } type=\"password\"/>\r\n          <Row className=\"button-row\">\r\n            <PrimaryButton text=\"Save\" onClick={ this.onSave } className=\"save-button\" disabled={ disabled }/>\r\n            <PrimaryButton text=\"Save & Connect\" onClick={ this.onSaveAndConnect } className=\"save-connect-button\" disabled={ disabled }/>\r\n          </Row>\r\n        </Column>\r\n      </GenericDocument>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state: IRootState, ownProps: object): BotSettingsEditorProps {\r\n  return {\r\n    bot: state.bot.activeBot\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(BotSettingsEditor);\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\nimport * as React from 'react';\n\nimport Chat from './parts/chat';\nimport { Colors } from '@bfemulator/ui-react';\nimport { EmulatorMode } from './index';\nimport { getFirstBotEndpoint } from '@bfemulator/app-shared';\n\nconst CSS = css({\n  height: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n\n  '& > header': {\n    backgroundColor: Colors.SECTION_HEADER_BACKGROUND_DARK,\n    color: Colors.SECTION_HEADER_FOREGROUND_DARK,\n    lineHeight: '30px',\n    minHeight: '30px',\n    paddingLeft: '16px',\n    textTransform: 'lowercase',\n    userSelect: 'text',\n    whiteSpace: 'nowrap'\n  }\n});\n\ninterface IChatPanelProps {\n  document: any;\n  mode?: EmulatorMode;\n  onStartConversation?: () => any;\n}\n\nexport default class ChatPanel extends React.Component<IChatPanelProps, {}> {\n  constructor(props: IChatPanelProps, context) {\n    super(props, context);\n  }\n\n  render() {\n    const { botUrl } = this.props.document.endpoint || { botUrl: '' };\n\n    return (\n      <div className=\"chat-panel\" { ...CSS }>\n        <header>{ botUrl }</header>\n        <Chat mode={ this.props.mode } document={ this.props.document } onStartConversation={ this.props.onStartConversation } key={ this.props.document.pingId } />\n      </div>\n    );\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\nimport { IBotConfig } from 'msbot/bin/schema';\nimport * as React from 'react';\nimport { connect } from 'react-redux';\n\nimport { Detail } from './parts/detail';\nimport Panel, { PanelControls, PanelContent } from '../panel';\nimport { ExtensionManager, IGetInspectorResult, Extension } from '../../../extensions';\nimport { IExtensionInspector, IInspectorAccessory, IInspectorAccessoryState } from '@bfemulator/sdk-shared';\nimport { IRootState } from '../../../data/store';\nimport { Spinner, SpinnerSize } from 'office-ui-fabric-react/lib/Spinner';\nimport { Colors } from '@bfemulator/ui-react';\n\nconst CSS = css({\n  height: '100%',\n\n  '& .accessories': {\n    '& .accessory-button': {\n      height: '30px',\n      whiteSpace: 'nowrap',\n      display: 'flex',\n      color: Colors.TOOLBAR_BUTTON_FOREGROUND_DARK,\n      backgroundColor: Colors.TOOLBAR_BUTTON_BACKGROUND_DARK,\n\n      '& .accessory-button-icon': {\n        width: '30px'\n      }\n    },\n    '& .accessory-button:disabled': {\n      cursor: 'default',\n      color: Colors.TOOLBAR_BUTTON_DISABLED_FOREGROUND_DARK\n    },\n    '& .accessory-button:active': {\n      color: Colors.TOOLBAR_BUTTON_ACTIVE_FOREGROUND_DARK\n    }\n  }\n});\n\ninterface DetailPanelProps {\n  bot?: IBotConfig,\n  document: any;\n}\n\ninterface AccessoryButton {\n  config: IInspectorAccessory;\n  state: string;\n  enabled: boolean;\n}\n\ninterface DetailPanelState {\n  extension: Extension;\n  inspector: IExtensionInspector;\n  buttons: AccessoryButton[];\n  inspectObj: any;\n  title: string;\n}\n\ninterface GetInspectorResult {\n  response: IGetInspectorResult;\n  inspectObj: any;\n}\n\nclass DetailPanel extends React.Component<DetailPanelProps, DetailPanelState> {\n\n  detailRef: any;\n\n  constructor(props: DetailPanelProps, context) {\n    super(props, context);\n    this.state = {\n      extension: null,\n      inspector: null,\n      buttons: [],\n      inspectObj: null,\n      title: \"\"\n    };\n  }\n\n  private getInspector(): GetInspectorResult {\n    let obj = this.props.document.inspectorObjects && this.props.document.inspectorObjects.length ?\n      this.props.document.inspectorObjects[0] : null;\n\n    return {\n      inspectObj: obj,\n      // Find an inspector for this object.\n      response: obj ? ExtensionManager.inspectorForObject(obj, true) : null\n    }\n  }\n\n  componentDidUpdate(prevProps: DetailPanelProps, prevState: DetailPanelState, prevContext: any): void {\n    let inspector: IExtensionInspector = null;\n    let extension: Extension = null;\n\n    const getInsp = this.getInspector();\n\n    if (getInsp.response) {\n      inspector = getInsp.response.inspector;\n      extension = getInsp.response.extension;\n    }\n\n    if (this.state.inspector != inspector || this.state.inspectObj != getInsp.inspectObj) {\n      const accessories = inspector ? inspector.accessories || [] : [];\n      const title = inspector ? inspector.name || \"\" : \"\";\n      this.setState({\n        inspectObj: getInsp.inspectObj,\n        title,\n        inspector,\n        extension,\n        // Copy the accessories from the new inspector to this.state\n        buttons: accessories.map(config => {\n          // Accessory must have a \"default\" state to be added\n          if (config && config.states[\"default\"]) {\n            return {\n              config,\n              state: \"default\",\n              enabled: true\n            };\n          } else {\n            return null;\n          }\n        }).filter(accessoryState => !!accessoryState) || []\n      });\n    }\n  }\n\n  onAccessoryClick = (id: string) => {\n    if (this.detailRef) {\n      this.detailRef.accessoryClick(id);\n    }\n  }\n\n  onToggleDevToolsClick = () => {\n    if (this.detailRef) {\n      this.detailRef.toggleDevTools();\n    }\n  }\n\n  enableAccessory = (id: string, enable: boolean) => {\n    const button = this.state.buttons.find(button => button.config.id === id);\n    if (button) {\n      if (button.enabled != enable) {\n        button.enabled = enable;\n        this.setState(this.state);\n      }\n    }\n  }\n\n  setAccessoryState = (id: string, state: string) => {\n    const button = this.state.buttons.find(button => button.config.id === id);\n    if (button && button.state !== state) {\n      const { config } = button;\n      if (config.states[state]) {\n        button.state = state;\n        this.setState(this.state);\n      }\n    }\n  }\n\n  setInspectortitle = (title: string) => {\n    this.setState({\n      ...this.state,\n      title\n    });\n  }\n\n  renderAccessoryIcon(config: IInspectorAccessoryState) {\n    if (config.icon === \"Spinner\") {\n      return (\n        <Spinner className=\"accessory-button-icon\" size={ SpinnerSize.xSmall } />\n      );\n    } else if (config.icon) {\n      return (\n        <i className={ `accessory-button-icon ms-Icon ms-Icon--${config.icon}` } aria-hidden=\"true\"></i>\n      );\n    } else {\n      return false;\n    }\n  }\n\n  renderAccessoryButton(button: AccessoryButton, handler: (id: string) => void) {\n    const { config, state, enabled } = button;\n    const currentState = config.states[state] || {};\n    return (\n      <button\n        className='accessory-button'\n        key={ config.id }\n        disabled={ !enabled }\n        onClick={ ev => handler(config.id) }>\n        { this.renderAccessoryIcon(currentState) }\n        { currentState.label }\n      </button>\n    );\n  }\n\n  renderAccessoryButtons(inspector: IExtensionInspector) {\n    return (\n      <PanelControls>\n        { this.state.buttons.map(a => this.renderAccessoryButton(a, this.onAccessoryClick)) }\n      </PanelControls>\n    );\n  }\n\n  render() {\n    if (this.state.inspector) {\n      return (\n        <div { ...CSS }>\n          <Panel title={ [\"inspector\", this.state.title].filter(s => s && s.length).join(\" - \") }>\n            { this.renderAccessoryButtons(this.state.inspector) }\n            <PanelContent>\n              <Detail\n                ref={ ref => this.detailRef = ref }\n                bot={ this.props.bot }\n                document={ this.props.document }\n                inspectObj={ this.state.inspectObj }\n                extension={ this.state.extension }\n                inspector={ this.state.inspector }\n                enableAccessory={ this.enableAccessory }\n                setAccessoryState={ this.setAccessoryState }\n                setInspectorTitle={ this.setInspectortitle }\n              />\n            </PanelContent>\n          </Panel>\n        </div>\n      );\n    } else {\n      return (\n        // No inspector was found.\n        <div { ...CSS }>\n          <Panel title={ `inspector` }>\n          </Panel>\n        </div>\n      );\n    }\n  }\n}\n\nfunction mapStateToProps(state: IRootState, ownProps: DetailPanelProps): DetailPanelProps {\n  return {\n    ...ownProps,\n    bot: state.bot.activeBot\n  };\n}\n\nexport default connect(mapStateToProps)(DetailPanel);\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport * as BotChat from '@bfemulator/custom-botframework-webchat';\r\n\r\nimport { uniqueId } from '@bfemulator/sdk-shared';\r\nimport { Colors, Splitter } from '@bfemulator/ui-react';\r\nimport base64Url from 'base64url';\r\nimport { css } from 'glamor';\r\nimport { IEndpointService } from 'msbot/bin/schema';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport * as ChatActions from '../../../data/action/chatActions';\r\nimport { updateDocument } from '../../../data/action/editorActions';\r\nimport * as PresentationActions from '../../../data/action/presentationActions';\r\nimport { getActiveBot } from '../../../data/botHelpers';\r\nimport { IDocument } from '../../../data/reducer/editor';\r\nimport { IRootState } from '../../../data/store';\r\n\r\nimport { CommandService } from '../../../platform/commands/commandService';\r\nimport { SettingsService } from '../../../platform/settings/settingsService';\r\nimport ToolBar, { Button as ToolBarButton } from '../toolbar';\r\nimport ChatPanel from './chatPanel';\r\nimport DetailPanel from './detailPanel';\r\nimport LogPanel from './logPanel';\r\nimport PlaybackBar from './playbackBar';\r\nimport { debounce } from \"../../utils/debounce\";\r\n\r\nconst { encode } = base64Url;\r\n\r\nconst CSS = css({\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  flex: 1,\r\n  height: '100%',\r\n\r\n  '& .vertical': {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flex: 1\r\n  },\r\n\r\n  '& .header': {\r\n    flexGrow: 0,\r\n    flexShrink: 1,\r\n    flexBasis: '0px'\r\n  },\r\n\r\n  '& .content': {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flex: 1,\r\n    flexGrow: 1,\r\n    flexShrink: 1,\r\n    flexBasis: '0px',\r\n    height: '100%'\r\n  },\r\n});\r\n\r\nconst PRESENTATION_CSS = css({\r\n  position: 'absolute',\r\n  top: 0,\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  backgroundColor: Colors.APP_BACKGROUND_DARK,\r\n\r\n  '& .chat-panel': {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    height: '75%',\r\n    maxHeight: '800px',\r\n    width: '100%',\r\n    transform: 'translateY(-50%)'\r\n  },\r\n\r\n  '& > .presentation-content': {\r\n    position: 'relative',\r\n    height: '100%',\r\n    padding: '64px 0',\r\n    maxWidth: '400px',\r\n    margin: '0 auto'\r\n  },\r\n\r\n  '& > .close-presentation-icon': {\r\n    position: 'absolute',\r\n    top: 0,\r\n    right: 0,\r\n    display: 'inline-block',\r\n    width: '64px',\r\n    height: '64px',\r\n    backgroundImage: 'url(./external/media/ic_close.svg)',\r\n    backgroundSize: '32px',\r\n    backgroundPosition: '50% 50%',\r\n    backgroundRepeat: 'no-repeat',\r\n    cursor: 'pointer'\r\n  },\r\n\r\n  '& .presentation-playback-dock': {\r\n    display: 'none',\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    height: '64px',\r\n    width: '400px',\r\n  }\r\n});\r\n\r\nexport type EmulatorMode = 'transcript' | 'livechat';\r\n\r\ninterface IEmulatorProps {\r\n  conversationId?: string;\r\n  dirty?: boolean;\r\n  document?: any;\r\n  documentId?: string;\r\n  endpointId?: string;\r\n  endpointService?: IEndpointService;\r\n  mode?: EmulatorMode;\r\n  pingId?: number;\r\n  presentationModeEnabled?: boolean;\r\n  pingDocument?: (documentId) => void;\r\n  enablePresentationMode?: (enabled) => void;\r\n  setInspectorObjects?: (documentId: string, objects: any) => void;\r\n  clearLog?: (documentId) => void;\r\n  newConversation?: (documentId, options) => void;\r\n  updateDocument?: (documentId, updatedValues) => void;\r\n}\r\n\r\nclass Emulator extends React.Component<IEmulatorProps, {}> {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  private getVerticalSplitterSizes = () => {\r\n    return {\r\n      0: `${this.props.document.ui.verticalSplitter[0].percentage}`\r\n    };\r\n  };\r\n\r\n  private getHorizontalSplitterSizes = () => {\r\n    return {\r\n      0: `${this.props.document.ui.horizontalSplitter[0].percentage}`\r\n    };\r\n  };\r\n\r\n  private readonly onVerticalSizeChange = debounce((sizes) => {\r\n    this.props.document.ui = {\r\n      ...this.props.document.ui,\r\n      verticalSplitter: sizes\r\n    };\r\n  }, 500);\r\n\r\n  private readonly onHorizontalSizeChange = debounce((sizes) => {\r\n    this.props.document.ui = {\r\n      ...this.props.document.ui,\r\n      horizontalSplitter: sizes\r\n    };\r\n  }, 500);\r\n\r\n  shouldStartNewConversation(props?: any) {\r\n    props = props || this.props;\r\n    return !props.document.directLine ||\r\n      (props.document.conversationId != props.document.directLine.conversationId);\r\n  }\r\n\r\n  componentWillMount() {\r\n    if (this.shouldStartNewConversation()) {\r\n      this.startNewConversation();\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps, nextContext) {\r\n    for (; ;) {\r\n      if (nextProps.document.directLine || this.props.document.documentId === nextProps.document.documentId) {\r\n        break;\r\n      }\r\n      this.startNewConversation(nextProps);\r\n      break;\r\n    }\r\n    if (this.props.document.documentId !== nextProps.document.documentId) {\r\n      this.props.pingDocument(nextProps.document.documentId);\r\n    }\r\n  }\r\n\r\n  private handlePresentationClick = (enabled: boolean) => {\r\n    this.props.enablePresentationMode(enabled);\r\n  };\r\n\r\n  async startNewConversation(props?: any) {\r\n    props = props || this.props;\r\n\r\n    if (props.document.subscription) {\r\n      props.document.subscription.unsubscribe();\r\n    }\r\n    const selectedActivity$ = new BehaviorSubject({});\r\n    const subscription = selectedActivity$.subscribe((obj: any) => {\r\n      if (obj && obj.activity) {\r\n        this.props.setInspectorObjects(props.document.documentId, obj.activity);\r\n      }\r\n    });\r\n\r\n    const { services = [] } = getActiveBot() || {};\r\n    const endpointService: IEndpointService = services.find(s => s.id === props.document.endpointId) as IEndpointService;\r\n\r\n    // TODO: Don't append mode\r\n    const conversationId = `${ uniqueId() }|${ props.mode }`;\r\n    const options = {\r\n      conversationId,\r\n      conversationMode: props.mode,\r\n      endpointId: props.endpointId\r\n    };\r\n\r\n    if (props.document.directLine) {\r\n      props.document.directLine.end();\r\n    }\r\n\r\n    this.initConversation(props, options, selectedActivity$, subscription);\r\n\r\n    if (props.mode === 'transcript') {\r\n      try {\r\n        const conversation = await CommandService.remoteCall('transcript:new', conversationId);\r\n\r\n        if (props.document && props.document.deepLink && props.document.activities) {\r\n          try {\r\n            // transcript was deep linked via protocol, and should just be fed its own activities attached to the document\r\n            await CommandService.remoteCall('emulator:feed-transcript:deep-link', conversation.conversationId, props.document.activities);\r\n          } catch (err) {\r\n            throw new Error(`Error while feeding deep-linked transcript to conversation: ${err}`);\r\n          }\r\n        } else {\r\n          try {\r\n            // the transcript is on disk, so its activities need to be read on the main side and fed in\r\n            const fileInfo: { fileName: string, filePath: string } = await CommandService.remoteCall('emulator:feed-transcript:disk', conversation.conversationId, props.document.documentId);\r\n            this.props.updateDocument(this.props.documentId, { fileName: fileInfo.fileName });\r\n          } catch (err) {\r\n            throw new Error(`Error while feeding transcript on disk to conversation: ${err}`);\r\n          }\r\n        }\r\n      } catch (err) {\r\n        // TODO: surface error somewhere\r\n        console.error('Error creating a new conversation for transcript mode: ', err);\r\n      }\r\n    }\r\n  }\r\n\r\n  initConversation(props, options, selectedActivity$, subscription) {\r\n    const webChatStore = BotChat.createStore();\r\n    const encodedOptions = encode(JSON.stringify(options));\r\n\r\n    // TODO: We need to use encoded token because we need to pass both endpoint ID and conversation ID\r\n    //       We should think about a better model to pass conversation ID from Web Chat to emulator core\r\n    const directLine = new BotChat.DirectLine({\r\n      secret: encodedOptions,\r\n      domain: `${ SettingsService.emulator.url }/v3/directline`,\r\n      webSocket: false\r\n    });\r\n\r\n    this.props.newConversation(props.documentId, {\r\n      conversationId: options.conversationId,\r\n      webChatStore,\r\n      directLine,\r\n      selectedActivity$,\r\n      subscription\r\n    });\r\n  }\r\n\r\n  private handleStartOverClick = () => {\r\n    this.props.clearLog(this.props.document.documentId);\r\n    this.props.setInspectorObjects(this.props.document.documentId, []);\r\n    this.startNewConversation();\r\n  };\r\n\r\n  private handleExportClick = () => {\r\n    if (this.props.document.directLine) {\r\n      CommandService.remoteCall('emulator:save-transcript-to-file', this.props.document.directLine.conversationId);\r\n    }\r\n  };\r\n\r\n  render(): JSX.Element {\r\n    return this.props.presentationModeEnabled ? this.renderPresentationView() : this.renderDefaultView();\r\n  }\r\n\r\n  renderPresentationView(): JSX.Element {\r\n    return (\r\n      <div {...PRESENTATION_CSS}>\r\n        <div className=\"presentation-content\">\r\n          <ChatPanel mode={this.props.mode} document={this.props.document}\r\n                     onStartConversation={this.handleStartOverClick}/>\r\n          {\r\n            this.props.mode === 'transcript' ?\r\n              <div className=\"presentation-playback-dock\"><PlaybackBar/></div>\r\n              :\r\n              null\r\n          }\r\n        </div>\r\n        <span className=\"close-presentation-icon\" onClick={() => this.handlePresentationClick(false)}></span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderDefaultView(): JSX.Element {\r\n    return (\r\n      <div {...CSS} key={this.props.pingId}>\r\n        {\r\n          this.props.mode === 'livechat' &&\r\n          <div className=\"header\">\r\n            <ToolBar>\r\n              <ToolBarButton visible={true} title=\"Start Over\" onClick={this.handleStartOverClick}/>\r\n              <ToolBarButton visible={true} title=\"Save Transcript As...\" onClick={this.handleExportClick}/>\r\n            </ToolBar>\r\n          </div>\r\n        }\r\n        <div className=\"content vertical\">\r\n          <Splitter orientation=\"vertical\" primaryPaneIndex={0} minSizes={{ 0: 80, 1: 80 }}\r\n                    initialSizes={this.getVerticalSplitterSizes} onSizeChange={this.onVerticalSizeChange}\r\n                    key={this.props.pingId}>\r\n            <div className=\"content\">\r\n              <ChatPanel mode={this.props.mode} document={this.props.document}\r\n                         onStartConversation={this.handleStartOverClick}/>\r\n            </div>\r\n            <div className=\"content\">\r\n              <Splitter orientation=\"horizontal\" primaryPaneIndex={0} minSizes={{ 0: 80, 1: 80 }}\r\n                        initialSizes={this.getHorizontalSplitterSizes} onSizeChange={this.onHorizontalSizeChange}\r\n                        key={this.props.pingId}>\r\n                <DetailPanel document={this.props.document} key={this.props.pingId}/>\r\n                <LogPanel document={this.props.document} key={this.props.pingId}/>\r\n              </Splitter>\r\n            </div>\r\n          </Splitter>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state: IRootState, { documentId }: { documentId: string }): IEmulatorProps {\r\n  return {\r\n    conversationId: state.chat.chats[documentId].conversationId,\r\n    document: state.chat.chats[documentId],\r\n    endpointId: state.chat.chats[documentId].endpointId,\r\n    pingId: state.chat.chats[documentId].pingId,\r\n    presentationModeEnabled: state.presentation.enabled\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    pingDocument: documentId => dispatch(ChatActions.pingDocument(documentId)),\r\n    enablePresentationMode: enable => enable ? dispatch(PresentationActions.enable()) : dispatch(PresentationActions.disable()),\r\n    setInspectorObjects: (documentId, objects) => dispatch(ChatActions.setInspectorObjects(documentId, objects)),\r\n    clearLog: documentId => dispatch(ChatActions.clearLog(documentId)),\r\n    newConversation: (documentId, options) => dispatch(ChatActions.newConversation(documentId, options)),\r\n    updateDocument: (documentId, updatedValues: Partial<IDocument>) => dispatch(updateDocument(documentId, updatedValues))\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Emulator as any);\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { connect } from 'react-redux';\nimport { css } from 'glamor';\nimport * as React from 'react';\n\nimport Log from './parts/log';\nimport Panel, { PanelControls, PanelContent } from '../panel';\n\nconst CSS = css({\n  height: '100%'\n});\n\ninterface ILogPanelProps {\n  document: any;\n}\n\nexport default class LogPanel extends React.Component<ILogPanelProps, {}> {\n  render() {\n    return (\n      <div { ...CSS }>\n        <Panel title=\"Log\">\n          <PanelContent>\n            <Log document={ this.props.document } key={ this.props.document.pingId } />\n          </PanelContent>\n        </Panel>\n      </div>\n    );\n  }\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { ISpeechTokenInfo } from '@bfemulator/app-shared';\r\nimport * as WebChat from '@bfemulator/custom-botframework-webchat';\r\n\r\nimport { Colors } from '@bfemulator/ui-react';\r\nimport { css } from 'glamor';\r\nimport { IConnectedService, IEndpointService } from 'msbot/bin/schema';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { EmulatorMode } from '..';\r\n\r\nimport { CommandService } from '../../../../platform/commands/commandService';\r\n\r\nconst CognitiveServices = require('@bfemulator/custom-botframework-webchat/CognitiveServices');\r\nconst AdaptiveCardsHostConfig = require('@bfemulator/custom-botframework-webchat/adaptivecards-hostconfig.json');\r\n\r\nconst CSS = css({\r\n  backgroundColor: 'white',\r\n  height: '100%',\r\n  display: 'flex',\r\n\r\n  '& .wc-chatview-panel': {\r\n    flex: 1,\r\n    position: 'relative',\r\n\r\n    '&::-webkit-scrollbar-thumb': {\r\n      backgroundColor: 'blue',\r\n      color: 'red',\r\n    },\r\n\r\n    '& p': {\r\n      marginBottom: 0,\r\n      marginTop: 0,\r\n    },\r\n\r\n    '& h1, & h2, & h3, & h4': {\r\n      marginTop: '8px',\r\n      marginBottom: '4px',\r\n    },\r\n\r\n    '& br': {\r\n      content: ' ',\r\n      display: 'block',\r\n      fontSize: '50%',\r\n    },\r\n\r\n    '& ol, & ul': {\r\n      marginTop: 0,\r\n    },\r\n\r\n    '& .wc-message-content *': {\r\n      userSelect: 'text',\r\n    },\r\n\r\n    '& .wc-message-content.selected': {\r\n      color: 'black',\r\n      backgroundColor: Colors.WEBCHAT_SELECTED_BACKGROUND_DARK,\r\n      boxShadow: '0px 1px 1px 0px rgba(0,0,0,0.2)',\r\n    },\r\n\r\n    '& .wc-message-content.selected>svg.wc-message-callout>path': {\r\n      fill: Colors.WEBCHAT_SELECTED_BACKGROUND_DARK,\r\n    },\r\n\r\n    '& .wc-card': {\r\n      color: '#000',\r\n    },\r\n\r\n    '& .wc-card button': {\r\n      border: '1px solid #ccc',\r\n      borderRadius: '1px',\r\n      cursor: 'pointer',\r\n      outline: 'none',\r\n      transition: 'color .2s ease, background-color .2s ease',\r\n      backgroundColor: 'transparent',\r\n      color: '#0078D7',\r\n      minHeight: '32px',\r\n      width: '100%',\r\n      padding: '0 16px',\r\n    },\r\n\r\n    '& .wc-list ul': {\r\n      padding: 0,\r\n    },\r\n\r\n    '& .clickable:hover': {\r\n      cursor: 'pointer'\r\n    },\r\n  }\r\n});\r\n\r\nconst DISCONNECTED_CSS = css({\r\n  padding: '16px',\r\n  backgroundColor: 'white',\r\n  height: '100%',\r\n  display: 'flex',\r\n  alignItems: 'flex-start',\r\n  flexAlign: 'center',\r\n\r\n  '& .start-button': {\r\n    flexGrow: 1,\r\n    flexShrink: 1,\r\n    flexBasis: '0px',\r\n  },\r\n});\r\n\r\nexport interface Props {\r\n  mode: EmulatorMode,\r\n  document: any;\r\n  onStartConversation: any;\r\n  services: IConnectedService[];\r\n}\r\n\r\nclass Chat extends React.Component<Props> {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  getEndpoint() {\r\n    const { props } = this;\r\n    const { endpointId } = props.document;\r\n\r\n    return (props.services || []).find(s => s.id === endpointId) as IEndpointService;\r\n  }\r\n\r\n  render() {\r\n    const endpoint = this.getEndpoint();\r\n\r\n    if (this.props.document.directLine) {\r\n      const props: WebChat.ChatProps = {\r\n        adaptiveCardsHostConfig: AdaptiveCardsHostConfig,\r\n        user: {\r\n          id: \"default-user\",\r\n          name: \"User\"\r\n        },\r\n        bot: {\r\n          id: \"WXYZ\",\r\n          name: \"Bot\"\r\n        },\r\n        formatOptions: {\r\n          showHeader: false\r\n        },\r\n        speechOptions: (endpoint && endpoint.appId && endpoint.appPassword) ? {\r\n          speechRecognizer: new CognitiveServices.SpeechRecognizer({\r\n            fetchCallback: this.fetchSpeechToken.bind(this),\r\n            fetchOnExpiryCallback: this.fetchSpeechTokenOnExpiry.bind(this)\r\n          }),\r\n          speechSynthesizer: new WebChat.Speech.BrowserSpeechSynthesizer()\r\n        } : null,\r\n        selectedActivity: (this.props.document.selectedActivity$ as any),\r\n        botConnection: this.props.document.directLine,\r\n        store: this.props.document.webChatStore,\r\n        showShell: this.props.mode === \"livechat\"\r\n      };\r\n      return (\r\n        <div id=\"webchat-container\" className=\"wc-app\" { ...CSS }>\r\n          <WebChat.Chat\r\n            key={ this.props.document.directLine.token }\r\n            { ...props }\r\n          />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div { ...DISCONNECTED_CSS }>\r\n          Not Connected\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  private fetchSpeechToken(authIdEvent: string): Promise<string | void> {\r\n    return this.getSpeechToken(authIdEvent, false);\r\n  }\r\n\r\n  private fetchSpeechTokenOnExpiry(authIdEvent: string): Promise<string | void> {\r\n    return this.getSpeechToken(authIdEvent, true);\r\n  }\r\n\r\n  private async getSpeechToken(authIdEvent: string, refresh: boolean): Promise<string | void> {\r\n    const endpoint = this.getEndpoint();\r\n\r\n    if (!endpoint) {\r\n      console.warn('No endpoint for this chat, cannot fetch speech token.');\r\n      return;\r\n    }\r\n\r\n    let command = refresh ? 'speech-token:refresh' : 'speech-token:get';\r\n\r\n    try {\r\n      const speechToken: ISpeechTokenInfo = await CommandService.remoteCall(command, endpoint.endpoint);\r\n\r\n      if (!speechToken) {\r\n        console.error('Could not retrieve Cognitive Services speech token.');\r\n      } else if (!speechToken.access_Token) {\r\n        console.warn('Could not retrieve Cognitive Services speech token');\r\n\r\n        if (typeof speechToken.error === 'string') {\r\n          console.warn('Error: ' + speechToken.error);\r\n        }\r\n\r\n        if (typeof speechToken.error_Description === 'string') {\r\n          console.warn('Details: ' + speechToken.error_Description);\r\n        }\r\n      } else {\r\n        return speechToken.access_Token;\r\n      }\r\n\r\n      return;\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  services: state.bot.activeBot && state.bot.activeBot.services\r\n}))(Chat as any) as any;\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\nimport { IBotConfig } from 'msbot/bin/schema';\nimport * as React from 'react';\n\nimport { Fonts } from '@bfemulator/ui-react';\nimport { Extension } from '../../../../extensions';\nimport { Inspector } from './inspector';\nimport { IExtensionInspector } from '@bfemulator/sdk-shared';\n\nconst CSS = css({\n  padding: 0,\n  height: '100%',\n  fontFamily: Fonts.FONT_FAMILY_MONOSPACE,\n  wordWrap: 'break-word',\n  whiteSpace: 'pre-wrap',\n  overflowY: 'auto',\n  userSelect: 'text',\n  boxSizing: 'border-box',\n});\n\nexport interface DetailProps {\n  bot: IBotConfig;\n  document: any;\n  inspectObj: any;\n  extension: Extension;\n  inspector: IExtensionInspector;\n  enableAccessory: (id: string, enable: boolean) => void;\n  setAccessoryState: (id: string, state: string) => void;\n  setInspectorTitle: (title: string) => void;\n}\n\nexport class Detail extends React.Component<DetailProps> {\n\n  inspectorRef: any;\n\n  toggleDevTools() {\n    if (this.inspectorRef) {\n      this.inspectorRef.toggleDevTools();\n    }\n  }\n\n  accessoryClick(id: string) {\n    if (this.inspectorRef) {\n      this.inspectorRef.accessoryClick(id);\n    }\n  }\n\n  render() {\n    return (\n      <div { ...CSS } >\n        <Inspector\n          ref={ ref => this.inspectorRef = ref }\n          bot={ this.props.bot }\n          document={ this.props.document }\n          extension={ this.props.extension }\n          inspector={ this.props.inspector }\n          inspectObj={ this.props.inspectObj }\n          enableAccessory={ this.props.enableAccessory }\n          setAccessoryState={ this.props.setAccessoryState }\n          setInspectorTitle={ this.props.setInspectorTitle }\n        />\n      </div>\n    );\n  }\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\ndeclare var __PRELOAD_LOCATION__:string;\r\nconst crypto = window['require']('crypto'); // Cheating here and pulling in a module from node. Can be easily replaced if we ever move the emulator to the web.\r\nimport {  LogLevel, logEntry, textItem } from '@bfemulator/app-shared';\r\nimport { IExtensionInspector } from '@bfemulator/sdk-shared';\r\nimport { css } from 'glamor';\r\nimport { IBotConfig } from 'msbot/bin/schema';\r\nimport * as React from 'react';\r\nimport { getActiveBot } from '../../../../data/botHelpers';\r\nimport { Extension, InspectorAPI } from '../../../../extensions';\r\nimport { LogService } from '../../../../platform/log/logService';\r\n\r\nconst CSS = css({\r\n  width: '100%',\r\n  height: '100%'\r\n});\r\n\r\ninterface IpcMessageEvent extends Event {\r\n  channel: string;\r\n  args: any[];\r\n}\r\n\r\ninterface InspectorProps {\r\n  bot: IBotConfig;\r\n  extension: Extension;\r\n  inspector: IExtensionInspector;\r\n  document: any;\r\n  inspectObj: any;\r\n  enableAccessory: (id: string, enable: boolean) => void;\r\n  setAccessoryState: (id: string, state: string) => void;\r\n  setInspectorTitle: (title: string) => void;\r\n}\r\n\r\ninterface InspectorState {\r\n  botHash: string;\r\n  titleOverride?: string;\r\n}\r\n\r\nexport class Inspector extends React.Component<InspectorProps, InspectorState> {\r\n\r\n  ref: any; //HTMLWebViewElement;\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      botHash: this.hash(getActiveBot())\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('toggle-inspector-devtools', () => this.toggleDevTools());\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('toggle-inspector-devtools', () => this.toggleDevTools());\r\n  }\r\n\r\n  hash(obj: object): string {\r\n    const md5 = crypto.createHash('md5');\r\n    md5.update(JSON.stringify(obj));\r\n    return md5.digest('base64');\r\n  }\r\n\r\n  toggleDevTools() {\r\n    this.sendToInspector('toggle-dev-tools');\r\n  }\r\n\r\n  accessoryClick(id: string) {\r\n    this.sendToInspector('accessory-click', id);\r\n  }\r\n\r\n  canInspect(inspectObj: any): boolean {\r\n    return this.props.inspector.name === 'JSON' || InspectorAPI.canInspect(this.props.inspector, inspectObj);\r\n  }\r\n\r\n  domReadyEventHandler = (ev) => {\r\n    this.botUpdated(getActiveBot());\r\n    this.inspect(this.props.inspectObj);\r\n  };\r\n\r\n  ipcMessageEventHandler = (ev: IpcMessageEvent): void => {\r\n    if (ev.channel === 'enable-accessory') {\r\n      this.props.enableAccessory(ev.args[0], ev.args[1]);\r\n    } else if (ev.channel === 'set-accessory-state') {\r\n      this.props.setAccessoryState(ev.args[0], ev.args[1]);\r\n    } else if (ev.channel === 'set-inspector-title') {\r\n      this.setState({\r\n        ...this.state,\r\n        titleOverride: ev.args[0]\r\n      });\r\n      this.props.setInspectorTitle(ev.args[0]);\r\n    } else if (ev.channel === 'logger.log') {\r\n      const inspectorName = this.state.titleOverride || this.props.inspector.name || \"inspector\";\r\n      LogService.logToDocument(this.props.document.documentId, logEntry(textItem(LogLevel.Info, `[${inspectorName}] ${ev.args[0]}`)));\r\n    } else if (ev.channel === 'logger.error') {\r\n      const inspectorName = this.state.titleOverride || this.props.inspector.name || \"inspector\";\r\n      LogService.logToDocument(this.props.document.documentId, logEntry(textItem(LogLevel.Error, `[${inspectorName}] ${ev.args[0]}`)));\r\n    } else {\r\n      console.warn(\"Unexpected message from inspector\", ev.channel, ...ev.args);\r\n    }\r\n  };\r\n\r\n  updateRef = (ref) => {\r\n    if (this.ref) {\r\n      this.ref.removeEventListener('dom-ready', ev => this.domReadyEventHandler(ev));\r\n      this.ref.removeEventListener('ipc-message', ev => this.ipcMessageEventHandler(ev));\r\n    }\r\n    this.ref = ref;\r\n    if (this.ref) {\r\n      this.ref.addEventListener('dom-ready', ev => this.domReadyEventHandler(ev));\r\n      this.ref.addEventListener('ipc-message', ev => this.ipcMessageEventHandler(ev));\r\n    }\r\n  };\r\n\r\n  inspect(obj: any) {\r\n    if (this.canInspect(obj)) {\r\n      this.sendToInspector('inspect', obj);\r\n    }\r\n  }\r\n\r\n  botUpdated(bot: IBotConfig) {\r\n    this.sendToInspector('bot-updated', bot);\r\n  }\r\n\r\n  sendToInspector(channel, ...args) {\r\n    if (this.ref) {\r\n      try {\r\n        this.ref.send(channel, ...args);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: InspectorProps): boolean {\r\n    return this.props.inspectObj !== nextProps.inspectObj;\r\n  }\r\n\r\n  componentDidUpdate(prevProps: InspectorProps, prevState: any, prevContext: any): void {\r\n    const botHash = this.hash(getActiveBot());\r\n    if (botHash != this.state.botHash) {\r\n      this.setState({\r\n        botHash\r\n      });\r\n      this.botUpdated(getActiveBot());\r\n    }\r\n    if (prevProps.inspectObj && this.props.inspectObj) {\r\n      if (JSON.stringify(prevProps.inspectObj) !== JSON.stringify(this.props.inspectObj)) {\r\n        this.inspect(this.props.inspectObj);\r\n      }\r\n    } else {\r\n      this.inspect(this.props.inspectObj);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const md5 = crypto.createHash('md5');\r\n    md5.update(this.props.inspector.src);\r\n    const hash = md5.digest('base64');\r\n    return (\r\n      <webview { ...CSS }\r\n        webpreferences=\"webSecurity=no\"\r\n        key={ hash }\r\n        partition={ `persist:${hash}` }\r\n        preload = { __PRELOAD_LOCATION__ }\r\n        // preload={ `file://${SettingsService.emulator.cwdAsBase}/../../node_modules/@bfemulator/client/public/inspector-preload.js` }\r\n        ref={ ref => this.updateRef(ref) }\r\n        src={ this.props.inspector.src }\r\n      />\r\n    );\r\n  }\r\n}\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { css } from 'glamor';\r\nimport * as React from 'react';\r\n\r\nimport * as ChatActions from '../../../../data/action/chatActions';\r\nimport store from '../../../../data/store';\r\nimport { Colors, Fonts } from '@bfemulator/ui-react';\r\nimport { ExtensionManager, InspectorAPI } from '../../../../extensions';\r\nimport { ILogEntry, ILogItem, LogLevel } from '@bfemulator/app-shared';\r\nimport { CommandService } from '../../../../platform/commands/commandService';\r\n\r\nconst CSS = css({\r\n  height: '100%',\r\n  overflow: 'auto',\r\n  userSelect: 'text',\r\n  padding: '0 16px 0 16px',\r\n  boxSizing: 'border-box',\r\n\r\n  '& > .entry': {\r\n    fontFamily: Fonts.FONT_FAMILY_MONOSPACE,\r\n\r\n    '& > .source': {\r\n      color: Colors.LOG_PANEL_SOURCE_DARK,\r\n    },\r\n\r\n    '& .timestamp': {\r\n      color: Colors.LOG_PANEL_TIMESTAMP_DARK,\r\n    },\r\n\r\n    '& .src-dst': {\r\n      color: Colors.LOG_PANEL_SRC_DST_DARK,\r\n    },\r\n\r\n    '& a': {\r\n      color: Colors.LOG_PANEL_LINK_DARK,\r\n      textDecoration: 'underline',\r\n      cursor: 'pointer',\r\n    },\r\n\r\n    // info\r\n    '& .level-0': {\r\n      color: Colors.LOG_PANEL_INFO_DARK,\r\n    },\r\n    // debug\r\n    '& .level-1': {\r\n      color: Colors.LOG_PANEL_DEBUG_DARK,\r\n    },\r\n    // warn\r\n    '& .level-2': {\r\n      color: Colors.LOG_PANEL_WARN_DARK,\r\n    },\r\n    // error\r\n    '& .level-3': {\r\n      color: Colors.LOG_PANEL_ERROR_DARK,\r\n    },\r\n\r\n    '& .spaced': {\r\n      marginLeft: '8px',\r\n    },\r\n\r\n    '& .spaced:first-child': {\r\n      marginLeft: 0\r\n    },\r\n  },\r\n});\r\n\r\nfunction number2(n) {\r\n  return ('0' + n).slice(-2);\r\n}\r\n\r\nfunction timestamp(t: number) {\r\n  let timestamp = new Date(t);\r\n  let hours = number2(timestamp.getHours());\r\n  let minutes = number2(timestamp.getMinutes());\r\n  let seconds = number2(timestamp.getSeconds());\r\n  return `${hours}:${minutes}:${seconds}`;\r\n}\r\n\r\nfunction logLevelToClassName(level: LogLevel): string {\r\n  switch (level) {\r\n    case LogLevel.Debug: return \"level-1\";\r\n    case LogLevel.Info: return \"level-0\";\r\n    case LogLevel.Warn: return \"level-2\";\r\n    case LogLevel.Error: return \"level-3\";\r\n  }\r\n  return '';\r\n}\r\n\r\nexport interface LogProps {\r\n  document: any;\r\n}\r\n\r\nexport interface LogState {\r\n  count: number;\r\n}\r\n\r\nexport default class Log extends React.Component<LogProps, LogState> {\r\n  scrollMe: Element;\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    this.state = {\r\n      count: 0\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps: LogProps, prevState: any, prevContext: any): void {\r\n    if (this.props.document.log.entries.length !== this.state.count) {\r\n      this.scrollMe.scrollTop = this.scrollMe.scrollHeight;\r\n      this.setState({\r\n        count: this.props.document.log.entries.length\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let key = 0;\r\n    return (\r\n      <div { ...CSS } ref={ ref => this.scrollMe = ref }>\r\n        {\r\n          this.props.document.log.entries.map(entry =>\r\n            <LogEntry key={ `entry-${key++}` } entry={ entry } document={ this.props.document } />\r\n          )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport interface LogEntryProps {\r\n  document: any;\r\n  entry: ILogEntry;\r\n}\r\n\r\nclass LogEntry extends React.Component<LogEntryProps> {\r\n\r\n  inspect(obj) {\r\n    this.props.document.selectedActivity$.next({});\r\n    store.dispatch(ChatActions.setInspectorObjects(this.props.document.documentId, obj));\r\n  }\r\n\r\n  inspectAndHighlight(obj) {\r\n    this.inspect(obj);\r\n    if (obj.id) {\r\n      this.props.document.selectedActivity$.next(obj);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let key = 0;\r\n    return (\r\n      <div key=\"entry\" className=\"entry\">\r\n        { this.renderTimestamp(this.props.entry.timestamp) }\r\n        { this.props.entry.items.map(item =>\r\n          this.renderItem(item, key++)\r\n        ) }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderTimestamp(t: number) {\r\n    return (\r\n      <span key=\"timestamp\" className=\"spaced\">\r\n        [<span className=\"timestamp\">{ timestamp(t) }</span>]\r\n      </span>\r\n    );\r\n  }\r\n\r\n  renderItem(item: ILogItem, key) {\r\n    switch (item.type) {\r\n      case \"text\": {\r\n        const { level, text } = item.payload;\r\n        return this.renderTextItem(level, text, key);\r\n      }\r\n      case \"external-link\": {\r\n        const { text, hyperlink } = item.payload;\r\n        return this.renderExternalLinkItem(text, hyperlink, key);\r\n      }\r\n      case \"open-app-settings\": {\r\n        const { text } = item.payload;\r\n        return this.renderAppSettingsItem(text, key);\r\n      }\r\n      case \"exception\": {\r\n        const { err } = item.payload;\r\n        return this.renderExceptionItem(err, key);\r\n      }\r\n      case \"inspectable-object\": {\r\n        const { obj } = item.payload;\r\n        return this.renderInspectableItem(obj, key);\r\n      }\r\n      case \"network-request\": {\r\n        const { facility, body, headers, method, url } = item.payload;\r\n        return this.renderNetworkRequestItem(facility, body, headers, method, url, key);\r\n      }\r\n      case \"network-response\": {\r\n        const { body, headers, statusCode, statusMessage, srcUrl } = item.payload;\r\n        return this.renderNetworkResponseItem(body, headers, statusCode, statusMessage, srcUrl, key);\r\n      }\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  renderTextItem(level: LogLevel, text: string, key) {\r\n    return (\r\n      <span key={ key } className={ `spaced ${logLevelToClassName(level)}` }>\r\n        { text }\r\n      </span>\r\n    );\r\n  }\r\n\r\n  renderExternalLinkItem(text: string, hyperlink: string, key) {\r\n    return (\r\n      <span key={ key } className=\"spaced\">\r\n        <a onClick={ () => window.open(hyperlink, \"_blank\") }>{ text }</a>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  renderAppSettingsItem(text: string, key) {\r\n    return (\r\n      <span key={ key } className=\"spaced\">\r\n        <a onClick={ () => CommandService.call('shell:show-app-settings') }>{ text }</a>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  renderExceptionItem(err: Error, key) {\r\n    return (\r\n      <span key={ key } className=\"spaced level-3\">\r\n        { err && err.message ? err.message : '' }\r\n      </span>\r\n    );\r\n  }\r\n\r\n  renderInspectableItem(obj: any, key) {\r\n    let title = \"inspect\";\r\n    if (typeof obj.type === 'string')\r\n      title = obj.type;\r\n    let summaryText = this.summaryText(obj) || \"\";\r\n    return (\r\n      <>\r\n        <span key={ key } className=\"spaced level-0\">\r\n          <a onClick={ () => this.inspectAndHighlight(obj) }>{ title }</a>\r\n        </span>\r\n        <span key={ `${key}-0` } className=\"spaced level-0\">\r\n          { summaryText }\r\n        </span>\r\n      </>\r\n    );\r\n  }\r\n\r\n  renderNetworkRequestItem(facility, body, headers, method, url, key) {\r\n    let obj;\r\n    if (typeof body === 'string') {\r\n      try {\r\n        obj = JSON.parse(body);\r\n      } catch (e) {\r\n        obj = body;\r\n      }\r\n    } else {\r\n      obj = body;\r\n    }\r\n    if (obj) {\r\n      return (\r\n        <span key={ key } className=\"spaced level-0\">\r\n          <a onClick={ () => this.inspect(obj) }>{ method }</a>\r\n        </span>\r\n      );\r\n    } else {\r\n      return (\r\n        <span key={ key } className=\"spaced level-0\">\r\n          { method }\r\n        </span>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderNetworkResponseItem(body, headers, statusCode, statusMessage, srcUrl, key) {\r\n    let obj;\r\n    if (typeof body === 'string') {\r\n      try {\r\n        obj = JSON.parse(body);\r\n      } catch (e) {\r\n        obj = body;\r\n      }\r\n    } else {\r\n      obj = body;\r\n    }\r\n    if (obj) {\r\n      return (\r\n        <span key={ key } className=\"spaced level-0\">\r\n          <a onClick={ () => this.inspect(obj) }>{ statusCode }</a>\r\n        </span>\r\n      );\r\n    } else {\r\n      return (\r\n        <span key={ key } className=\"spaced level-0\">\r\n          { statusCode }\r\n        </span>\r\n      );\r\n    }\r\n  }\r\n\r\n  summaryText(obj: any): string {\r\n    const inspResult = ExtensionManager.inspectorForObject(obj, true);\r\n    if (inspResult && inspResult.inspector) {\r\n      return InspectorAPI.summaryText(inspResult.inspector, obj);\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as React from 'react';\nimport { css } from 'glamor';\n\nconst CSS = css({\n  display: 'flex',\n  height: '64px',\n  width: '400px',\n  padding: '16px 0',\n  justifyContent: 'space-between',\n\n  '& > span': {\n    display: 'inline-block',\n    width: '32px',\n    lineHeight: '32px',\n    textAlign: 'center',\n    cursor: 'pointer'\n  },\n\n  '& .play-icon': {\n    backgroundImage: 'url(./external/media/ic_play.svg)',\n    backgroundSize: '32px',\n    BackgroundPosition: '50% 50%',\n    backgroundRepeat: 'no-repeat'\n  }\n});\n\ninterface IPlaybackBarState {\n  playing?: boolean;\n}\n\n/**\n * TODO: This component is purely visual at the moment until the playback functionality is fleshed out.\n * Still need to decide whether 'playing' state will be fed in via props, or contained within the playback bar\n * component, same with callbacks for buttons: Should the playback bar just be fed the document and conversation id\n * and perform actions based on that, or simply be a dumb component whose functionality is determined by the parent\n * component? (index.tsx in this case)\n *\n * Also needs icons\n * */\nexport default class PlaybackBar extends React.Component<{}, IPlaybackBarState> {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onClickStartOver = this.onClickStartOver.bind(this);\n    this.onClickStepBack = this.onClickStepBack.bind(this);\n    this.onClickStepForward = this.onClickStepForward.bind(this);\n    this.onClickJumpToEnd = this.onClickJumpToEnd.bind(this);\n    this.onClickPlay = this.onClickPlay.bind(this);\n    this.onClickPause = this.onClickPause.bind(this);\n\n    this.state = { playing: false };\n  }\n\n  onClickStartOver(): void {}\n\n  onClickStepBack(): void {}\n\n  onClickStepForward(): void {}\n\n  onClickJumpToEnd(): void {}\n\n  onClickPlay(): void {\n    this.setState({ playing: true });\n  }\n\n  onClickPause(): void {\n    this.setState({ playing: false });\n  }\n\n  render(): JSX.Element {\n    return (\n      <div { ...CSS }>\n        <span onClick={ this.onClickStartOver }>|&lt;&lt;</span>\n        <span onClick={ this.onClickStepBack }>|&lt;</span>\n        {\n          this.state.playing ?\n            <span onClick={ this.onClickPause }>||</span>\n          :\n            <span className=\"play-icon\" onClick={ this.onClickPlay }></span>\n        }\n        <span onClick={ this.onClickStepForward }>&gt;|</span>\n        <span onClick={ this.onClickJumpToEnd }>&gt;&gt;|</span>\n      </div>\n    );\n  }\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport * as Constants from '../../constants';\r\nimport AppSettingsEditor from './appSettingsEditor';\r\nimport BotSettingsEditor from './botSettingsEditor';\r\nimport Emulator from './emulator';\r\nimport WelcomePage from './welcomePage';\r\n\r\nexport default class EditorFactory extends React.Component {\r\n  render() {\r\n    const { document } = this.props;\r\n    const { contentType } = document;\r\n\r\n    return (\r\n      contentType === Constants.ContentType_LiveChat ?\r\n        <Emulator mode=\"livechat\" documentId={ document.documentId } dirty={ this.props.document.dirty } />\r\n        : contentType === Constants.ContentType_Transcript ?\r\n        <Emulator mode=\"transcript\" documentId={ document.documentId } dirty={ this.props.document.dirty } />\r\n        : contentType === Constants.ContentType_BotSettings ?\r\n        <BotSettingsEditor documentId={ document.documentId } dirty={ this.props.document.dirty } />\r\n        : contentType === Constants.ContentType_AppSettings ?\r\n        <AppSettingsEditor documentId={ document.documentId } dirty={ this.props.document.dirty } />\r\n        : contentType === Constants.ContentType_WelcomePage ?\r\n        <WelcomePage documentId={ document.documentId } />\r\n        : false\r\n    );\r\n  }\r\n}\r\n\r\nEditorFactory.propTypes = {\r\n  document: PropTypes.shape({\r\n    contentType: PropTypes.string,\r\n    documentId: PropTypes.string,\r\n    meta: PropTypes.any,\r\n    dirty: PropTypes.bool\r\n  })\r\n};\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { css } from 'glamor';\r\nimport * as React from 'react';\r\n\r\nimport { Colors, filterChildren, hmrSafeNameComparison } from '@bfemulator/ui-react';\r\n\r\nconst CSS = css({\r\n  display: 'flex',\r\n  flex: 1,\r\n  flexDirection: 'column',\r\n  height: '100%',\r\n  position: 'relative',\r\n\r\n  '& > .header': {\r\n    backgroundColor: Colors.SECTION_HEADER_BACKGROUND_DARK,\r\n    color: Colors.SECTION_HEADER_FOREGROUND_DARK,\r\n    lineHeight: '36px',\r\n    minHeight: '36px',\r\n    textTransform: 'uppercase',\r\n    paddingLeft: '16px',\r\n    display: 'flex',\r\n    whiteSpace: 'nowrap',\r\n\r\n    '& > .accessories': {\r\n      margin: '0 0 0 auto',\r\n      height: '100%',\r\n      width: 'auto',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n\r\n      '& > button': {\r\n        backgroundColor: 'transparent',\r\n        color: Colors.SECTION_HEADER_FOREGROUND_DARK,\r\n        border: 0,\r\n        cursor: 'pointer',\r\n        whiteSpace: 'nowrap'\r\n      }\r\n    }\r\n  },\r\n\r\n  '& > .body': {\r\n    backgroundColor: Colors.PANEL_BACKGROUND_DARK,\r\n    color: Colors.PANEL_FOREGROUND_DARK,\r\n    flex: 1,\r\n    overflow: 'auto',\r\n    padding: 0,\r\n  }\r\n});\r\n\r\ninterface IPanelProps {\r\n  children?: any;\r\n  title?: string;\r\n}\r\n\r\nexport default class Panel extends React.Component<IPanelProps, {}> {\r\n  constructor(props: IPanelProps, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div { ...CSS }>\r\n        <div className=\"header\">\r\n          { this.props.title }\r\n          <div className=\"accessories\">\r\n            { filterChildren(this.props.children, child => hmrSafeNameComparison(child.type, PanelControls)) }\r\n          </div>\r\n        </div>\r\n        <div className=\"body\">\r\n          { filterChildren(this.props.children, child => hmrSafeNameComparison(child.type, PanelContent)) }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const PanelControls = props => props.children;\r\nexport const PanelContent = props => props.children;\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { css } from 'glamor';\r\nimport * as React from 'react';\r\n\r\nimport { Colors, Decorators, filterChildren, hmrSafeNameComparison } from '@bfemulator/ui-react';\r\n\r\nconst CSS = css({\r\n  height: '40px',\r\n  backgroundColor: Colors.TOOLBAR_BACKGROUND_DARK,\r\n  lineHeight: '40px',\r\n\r\n  '& > ul': {\r\n    display: 'flex',\r\n    listStyleType: 'none',\r\n    margin: 0,\r\n    padding: 0,\r\n\r\n    '& > li': {\r\n      padding: '0 8px 0 8px',\r\n    },\r\n\r\n    '& > .button > button': {\r\n      cursor: 'pointer',\r\n      margin: 0,\r\n      border: 'none',\r\n      height: '30px',\r\n      backgroundColor: Colors.TOOLBAR_BUTTON_BACKGROUND_DARK,\r\n      color: Colors.TOOLBAR_BUTTON_FOREGROUND_DARK,\r\n      whiteSpace: 'nowrap',\r\n\r\n      ':hover': {\r\n        backgroundColor: Colors.TOOLBAR_BUTTON_HOVER_BACKGROUND_DARK,\r\n        color: Colors.TOOLBAR_BUTTON_HOVER_FOREGROUND_DARK,\r\n        textDecoration: Decorators.TOOLBAR_BUTTON_HOVER_TEXTDECORATION,\r\n      }\r\n    },\r\n\r\n    '& > .separator': {\r\n      backgroundColor: Colors.TOOLBAR_BUTTON_BACKGROUND_DARK,\r\n      color: Colors.TOOLBAR_BUTTON_FOREGROUND_DARK,\r\n    }\r\n  }\r\n});\r\n\r\nexport default class ToolBar extends React.Component<{}, {}> {\r\n  render() {\r\n    return (\r\n      <div { ...CSS }>\r\n        <ul>\r\n          { filterChildren(this.props.children, child => child && child.props.visible).map((child, i) => this.createClass(child, i)) }\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  createClass(child, i) {\r\n    if (hmrSafeNameComparison(child.type, Button)) {\r\n      return (\r\n        <li key={ i } className=\"button\"><button onClick={ () => child.props.onClick() }>{ child.props.title }</button></li>\r\n      )\r\n    } else if (hmrSafeNameComparison(child.type, Separator)) {\r\n      return (\r\n        <li key={ i } className=\"separator\">|</li>\r\n      )\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport const Button = props => props.children;\r\nexport const Separator = props => props.children;\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\nimport { hot } from 'react-hot-loader';\r\nimport { css } from 'glamor';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { IBotInfo } from '@bfemulator/app-shared';\r\n\r\nimport { Colors, Column, Row, PrimaryButton, LargeHeader, SmallHeader, TruncateText } from '@bfemulator/ui-react';\r\nimport { CommandService } from '../../../platform/commands/commandService';\r\nimport { GenericDocument } from '../../layout';\r\n\r\nconst CSS = css({\r\n  '& .right-column': {\r\n    marginLeft: '48px'\r\n  },\r\n\r\n  '& .section': {\r\n    marginBottom: '34px',\r\n    width: 'auto',\r\n    maxWidth: '100%'\r\n  },\r\n\r\n  '& .well': {\r\n    padding: '12px 10px',\r\n    background: 'rgba(0,0,0,.2)',\r\n    transition: 'background 0.05s',\r\n\r\n    '&::-webkit-scrollbar-thumb': {\r\n      backgroundColor: 'transparent'\r\n    },\r\n\r\n    '&:hover': {\r\n      background: 'rgba(200,235,255,.072)',\r\n\r\n      '&::-webkit-scrollbar-thumb': {\r\n        backgroundColor: Colors.SCROLLBAR_THUMB_BACKGROUND_DARK\r\n      }\r\n    }\r\n  },\r\n\r\n  '& .no-bots': {\r\n    fontStyle: 'italic',\r\n  },\r\n\r\n  '& .recent-bots-list': {\r\n    maxHeight: '100px',\r\n    overflowY: 'auto',\r\n    overflowX: 'hidden',\r\n\r\n    '& > li': {\r\n      display: 'flex'\r\n    },\r\n\r\n    '& a': {\r\n      flexShrink: 0\r\n    }\r\n  },\r\n\r\n  '& .recent-bot-detail': {\r\n    display: 'inline-block',\r\n    marginLeft: '8px',\r\n    color: Colors.APP_HYPERLINK_DETAIL_DARK,\r\n    userSelect: 'text',\r\n    cursor: 'text'\r\n  },\r\n\r\n  '& a': {\r\n    minWidth: 0,\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n    overflow: 'hidden',\r\n    textDecoration: 'none',\r\n    color: Colors.APP_HYPERLINK_FOREGROUND_DARK,\r\n\r\n    ':hover': {\r\n      color: Colors.APP_HYPERLINK_FOREGROUND_DARK\r\n    }\r\n  },\r\n\r\n  '& ul': {\r\n    margin: 0,\r\n    listStyle: 'none',\r\n    padding: 0,\r\n  },\r\n\r\n  '& .open-bot': {\r\n    marginTop: '24px',\r\n    marginBottom: '16px',\r\n    width: '180px',\r\n    height: '26px',\r\n\r\n    '& .primary-button-text': {\r\n      lineHeight: '26px'\r\n    }\r\n  },\r\n\r\n  '& .cta-link': {\r\n    whiteSpace: 'normal'\r\n  }\r\n});\r\n\r\ninterface Props {\r\n  documentId?: string;\r\n  recentBots?: IBotInfo[];\r\n}\r\n\r\nclass WelcomePage extends React.Component<Props, {}> {\r\n\r\n  onNewBotClick = () => {\r\n    CommandService.call('bot-creation:show');\r\n  }\r\n\r\n  onOpenBotClick = () => {\r\n    CommandService.call('bot:browse-open');\r\n  }\r\n\r\n  onBotClick = (e, path) => {\r\n    CommandService.call('bot:switch', path);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <GenericDocument style={ CSS }>\r\n        <LargeHeader>Welcome to the Bot Framework Emulator</LargeHeader>\r\n        <Row>\r\n          <Column>\r\n            <div className=\"section\">\r\n              <SmallHeader>Start</SmallHeader>\r\n              <span>Start talking to your bot by connecting to an endpoint or by opening a bot saved locally. More about working locally with a bot.</span>\r\n              <Row>\r\n                <PrimaryButton className=\"open-bot big-button\" text=\"Open Bot\" onClick={ this.onOpenBotClick } />\r\n              </Row>\r\n              <span>If you don’t have a bot configuration, <a className=\"cta-link\" href=\"javascript:void(0)\" onClick={ this.onNewBotClick }>create a new bot configuration.</a></span>\r\n            </div>\r\n            <div className=\"section\">\r\n              <SmallHeader>My Bots</SmallHeader>\r\n              <ul className=\"recent-bots-list well\">\r\n                {\r\n                  this.props.recentBots && this.props.recentBots.length ?\r\n                    this.props.recentBots.slice(0, 10).map(bot => bot &&\r\n                      <li key={ bot.path }>\r\n                        <a href=\"javascript:void(0);\" onClick={ ev => this.onBotClick(ev, bot.path) } title={ bot.path }><TruncateText>{ bot.displayName }</TruncateText></a>\r\n                        <TruncateText className=\"recent-bot-detail\" title={ bot.path }>{ bot.path }</TruncateText>\r\n                      </li>)\r\n                    :\r\n                    <li><span className=\"no-bots\"><TruncateText>No recent bots</TruncateText></span></li>\r\n                }\r\n              </ul>\r\n            </div>\r\n          </Column>\r\n          <Column className='right-column'>\r\n            <div className=\"section\">\r\n              <SmallHeader>Help</SmallHeader>\r\n              <ul>\r\n                <li><a href='https://aka.ms/BotBuilderOverview'><TruncateText>Overview</TruncateText></a></li>\r\n                <li><a href='https://aka.ms/Btovso'><TruncateText>GitHub Repository</TruncateText></a></li>\r\n                <li><a href='https://aka.ms/BotBuilderLocalDev'><TruncateText>Starting with Local Development</TruncateText></a></li>\r\n                <li><a href='https://aka.ms/BotBuilderAZCLI'><TruncateText>Starting with Azure CLI</TruncateText></a></li>\r\n                <li><a href='https://aka.ms/BotBuilderIbiza'><TruncateText>Starting with the Azure Portal</TruncateText></a></li>\r\n              </ul>\r\n            </div>\r\n          </Column>\r\n        </Row>\r\n      </GenericDocument>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state: any): any {\r\n  return ({ recentBots: state.bot.botFiles });\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(hot(module)(WelcomePage));\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { getBotDisplayName } from '@bfemulator/app-shared';\nimport { IBotConfig, IEndpointService, ServiceType } from 'msbot/bin/schema';\nimport { IBotConfigWithPath } from '@bfemulator/sdk-shared';\nimport { hasNonGlobalTabs } from '../../data/editorHelpers';\nimport { CommandService } from '../../platform/commands/commandService';\nimport { getActiveBot } from '../../data/botHelpers';\nimport * as BotActions from '../../data/action/botActions';\nimport * as Constants from '../../constants';\nimport * as EditorActions from '../../data/action/editorActions';\nimport * as ExplorerActions from '../../data/action/explorerActions';\nimport * as FileActions from '../../data/action/fileActions';\nimport * as NavBarActions from '../../data/action/navBarActions';\nimport store from '../../data/store';\n\nexport const ActiveBotHelper = new class {\n  async confirmSwitchBot(): Promise<any> {\n    if (hasNonGlobalTabs()) {\n      return await CommandService.remoteCall(\n        'shell:show-message-box',\n        true,\n        {\n          buttons: ['Cancel', 'OK'],\n          cancelId: 0,\n          defaultId: 1,\n          message: 'Switch bots? All tabs will be closed.',\n          type: 'question'\n        }\n      );\n    } else {\n      return true;\n    }\n  }\n\n  confirmCloseBot(): Promise<any> {\n    const hasTabs = hasNonGlobalTabs();\n    if (hasTabs) {\n      return CommandService.remoteCall('shell:show-message-box', true, {\n        type: 'question',\n        buttons: [\"Cancel\", \"OK\"],\n        defaultId: 1,\n        message: \"Close active bot? All tabs will be closed.\",\n        cancelId: 0,\n      });\n    } else {\n      return Promise.resolve(true);\n    }\n  }\n\n  /** Uses a .bot path and perform a read on the server-side to populate the corresponding bot object */\n  async setActiveBot(botPath: string): Promise<any> {\n    try {\n      const { bot, botDirectory }: { bot: IBotConfig, botDirectory: string } = await CommandService.remoteCall('bot:set-active', botPath);\n\n      store.dispatch(BotActions.setActive(bot));\n      store.dispatch(FileActions.setRoot(botDirectory));\n\n      CommandService.remoteCall('menu:update-recent-bots');\n      CommandService.remoteCall('electron:set-title-bar', getBotDisplayName(bot));\n    } catch (err) {\n      console.error('Error while setting active bot: ', err);\n\n      throw new Error(`Error while setting active bot: ${ err }`);\n    }\n  }\n\n  /** tell the server-side the active bot is now closed */\n  closeActiveBot(): Promise<any> {\n    return CommandService.remoteCall('bot:close')\n    .then(() => {\n      store.dispatch(BotActions.close());\n      CommandService.remoteCall('electron:set-title-bar', '');\n    } )\n      .catch(err => {\n        console.error('Error while closing active bot: ', err);\n        throw new Error(`Error while closing active bot: ${err}`);\n      });\n  }\n\n  async botAlreadyOpen(): Promise<any> {\n    return await CommandService.remoteCall(\n      'shell:show-message-box',\n      true,\n      {\n        buttons: ['OK'],\n        cancelId: 0,\n        defaultId: 0,\n        message: 'This bot is already open. If you\\'d like to start a conversation, click on an endpoint from the Bot Explorer pane.',\n        type: 'question'\n      }\n    );\n  }\n\n  async confirmAndCreateBot(botToCreate: IBotConfigWithPath, secret: string): Promise<any> {\n    const result = await this.confirmSwitchBot();\n\n    if (result) {\n      store.dispatch(EditorActions.closeNonGlobalTabs());\n\n      try {\n        const bot: IBotConfigWithPath = await CommandService.remoteCall('bot:create', botToCreate, secret);\n\n        // TODO: What are we achieving with this async function here?\n        store.dispatch(async () => {\n          store.dispatch(BotActions.create(bot, bot.path, secret));\n\n          await this.setActiveBot(bot.path);\n\n          const endpoint: IEndpointService = bot.services.find(service => service.type === ServiceType.Endpoint) as IEndpointService;\n\n          endpoint && CommandService.call('livechat:new', endpoint);\n\n          store.dispatch(NavBarActions.select(Constants.NavBar_Bot_Explorer));\n          store.dispatch(ExplorerActions.show(true));\n        });\n      } catch (err) {\n        console.error('Error during bot create: ', err);\n      }\n    }\n  }\n\n  browseForBotFile(): Promise<any> {\n    return CommandService.remoteCall(\n      'shell:showOpenDialog',\n      {\n        buttonLabel: 'Choose file',\n        filters: [{\n          extensions: ['bot'],\n          name: 'Bot Files'\n        }],\n        properties: ['openFile'],\n        title: 'Open bot file'\n      }\n    );\n  }\n\n  async confirmAndOpenBotFromFile(): Promise<any> {\n    try {\n      const filename = await this.browseForBotFile()\n\n      if (filename) {\n        let activeBot = getActiveBot();\n        if (activeBot && activeBot.path === filename) {\n          await this.botAlreadyOpen();\n          return;\n        }\n\n        try {\n          const result = this.confirmSwitchBot();\n\n          if (result) {\n            store.dispatch(EditorActions.closeNonGlobalTabs());\n            CommandService.remoteCall('bot:load', filename);\n          }\n        } catch (err) {\n          console.error('Error while calling confirmSwitchBot: ', err);\n        }\n      }\n    } catch (err) {\n      console.error('Error while calling browseForBotFile: ', err);\n    }\n  }\n\n  async confirmAndSwitchBots(botPath: string): Promise<any> {\n    let activeBot = getActiveBot();\n\n    if (activeBot && activeBot.path === botPath) {\n      await this.botAlreadyOpen();\n      return;\n    }\n\n    // TODO: We need to think about merging this with confirmAndCreateBot\n    console.log(`Switching to bot ${ botPath }`);\n\n    try {\n      const result = await this.confirmSwitchBot();\n\n      if (result) {\n        store.dispatch(EditorActions.closeNonGlobalTabs());\n\n        await this.setActiveBot(botPath);\n\n        const bot = getActiveBot();\n        const endpoint: IEndpointService = bot.services.find(service => service.type === ServiceType.Endpoint) as IEndpointService;\n\n        endpoint && CommandService.call('livechat:new', endpoint);\n\n        store.dispatch(NavBarActions.select(Constants.NavBar_Bot_Explorer));\n        store.dispatch(ExplorerActions.show(true));\n      }\n    } catch (err) {\n      console.error('Error while setting active bot: ', err);\n    }\n  }\n\n  confirmAndCloseBot(): Promise<any> {\n    let activeBot = getActiveBot();\n    if (!activeBot)\n      return Promise.resolve();\n\n    console.log(`Closing active bot`);\n\n    return this.confirmCloseBot()\n      .then((result) => {\n        if (result) {\n          store.dispatch(EditorActions.closeNonGlobalTabs());\n          this.closeActiveBot()\n            .catch(err => new Error(err));\n        }\n      })\n      .catch(err => console.error('Error while closing active bot: ', err));\n  }\n\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as React from 'react';\nimport { css } from 'glamor';\n\nconst CSS = css({\n  boxSizing: 'border-box',\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  height: '100%',\n  width: '100%',\n  minWidth: '480px',\n  overflowX: 'hidden',\n  overflowY: 'auto',\n\n  '& > .generic-doc-content': {\n    width: '90%',\n    maxWidth: '1200px'\n  }\n});\n\ninterface IGenericDocumentProps {\n  // Allows glamor style objects to be passed in (ex. <GenericDocument style={ CSS } />)\n  // NOTE: Do not use spread operator!!!\n  style?: any;\n}\n\nexport default class GenericDocument extends React.Component<IGenericDocumentProps, {}> {\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  render(): JSX.Element {\n    return (\n      <div className=\"generic-doc\" { ...CSS } { ...this.props.style }>\n        <div className=\"generic-doc-content\">\n          { this.props.children }\n        </div>\n      </div>\n    );\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport GenericDocument from './genericDocument';\n\nexport {\n  GenericDocument\n};\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as React from 'react';\nimport { css } from 'glamor';\n\nimport { CommandService } from '../../../../platform/commands/commandService';\nimport { EndpointExplorerContainer } from '../endpointExplorer';\nimport { ExplorerBarBody } from '../explorerBarBody';\nimport { ExplorerBarHeader, Title, Accessories } from '../explorerBarHeader';\nimport { getBotDisplayName } from '@bfemulator/app-shared';\nimport { TranscriptExplorer } from '../transcriptExplorer';\nimport * as botHelpers from '../../../../data/botHelpers';\nimport BotNotOpenExplorer from '../botNotOpenExplorer';\n\nconst CSS = css({\n  height: '100%',\n  width: '100%',\n\n  '&.explorer-offscreen': {\n    position: 'absolute',\n    top: '5000px',\n    display: 'none'\n  }\n});\n\nexport class IAssetExplorerBarProps {\n  activeBot: string;\n  hidden: boolean;\n}\n\nexport default class AssetExplorerBar extends React.Component<IAssetExplorerBarProps> {\n\n  constructor(props, context) {\n    super(props, context);\n    this.onClickSettings = this.onClickSettings.bind(this);\n  }\n\n  onClickSettings(e) {\n    CommandService.call('bot-settings:open', this.props.activeBot);\n  }\n\n  render() {\n    const activeBot = botHelpers.getActiveBot();\n    const className = this.props.hidden ? 'explorer-offscreen' : '';\n\n    return (\n      <div className={ className }  { ...CSS }>\n        <ExplorerBarHeader>\n          <Title>\n            Bot Explorer\n          </Title>\n          <Accessories>\n            { this.props.activeBot ? <span className=\"accessory bot-settings-icon\" onClick={ this.onClickSettings } /> : false }\n          </Accessories>\n        </ExplorerBarHeader>\n        <ExplorerBarBody>\n          { this.props.activeBot ? (\n            <>\n              <EndpointExplorerContainer title=\"Endpoint\" />\n              <TranscriptExplorer />\n            </>\n          )\n            :\n            (\n              <BotNotOpenExplorer />\n            )\n          }\n        </ExplorerBarBody>\n      </div>\n    );\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { Modal, ModalActions, ModalContent, PrimaryButton, TextInputField } from '@bfemulator/ui-react';\nimport { AzureBotService } from 'msbot/bin/models';\nimport { IAzureBotService } from 'msbot/bin/schema';\nimport * as React from 'react';\nimport { Component, SyntheticEvent } from 'react';\n\ninterface AzureBotServiceEditorProps {\n  azureBotService: IAzureBotService,\n  cancel: () => void,\n  updateAzureBotService: (updatedAzureBotService: IAzureBotService) => void;\n}\n\ninterface AzureBotServiceEditorState {\n  azureBotService: IAzureBotService,\n  nameError: string;\n  idError: string;\n  tenantIdError: string;\n  subscriptionIdError: string;\n  resourceGroupError: string;\n  isDirty: boolean;\n}\n\nconst title = 'Connect to Azure Bot Service';\nconst detailedDescription = 'Connect your bot to a registration in the Azure Bot Service portal';\nconst modalCssOverrides = {\n  width: '400px',\n  height: '550px'\n};\n\nexport class AzureBotServiceEditor extends Component<AzureBotServiceEditorProps, AzureBotServiceEditorState> {\n\n  public state: AzureBotServiceEditorState = {} as AzureBotServiceEditorState;\n\n  constructor(props, state) {\n    super(props, state);\n    const azureBotService = new AzureBotService(props.azureBotService);\n    this.state = { azureBotService, isDirty: false, idError: '', nameError: '', tenantIdError: '', subscriptionIdError: '', resourceGroupError: '' };\n  }\n\n  public componentWillReceiveProps(nextProps: Readonly<AzureBotServiceEditorProps>): void {\n    const azureBotService = new AzureBotService(nextProps.azureBotService);\n    this.setState({ azureBotService });\n  }\n\n  public render(): JSX.Element {\n    const { azureBotService, idError, nameError, isDirty, tenantIdError, subscriptionIdError, resourceGroupError } = this.state;\n    const { name = '', id = '', tenantId = '', subscriptionId = '', resourceGroup = '' } = azureBotService;\n    const valid = !tenantIdError && !subscriptionIdError && !resourceGroupError && !idError && !nameError;\n    return (\n      <Modal cssOverrides={ modalCssOverrides } title={ title } detailedDescription={ detailedDescription } cancel={ this.onCancelClick }>\n        <ModalContent>\n          <TextInputField error={ nameError } value={ name } onChange={ this.onInputChange } label=\"Bot Name\" required={ true } inputAttributes={ { 'data-propname': 'name' } } />\n          <TextInputField error={ idError } value={ id } onChange={ this.onInputChange } label=\"Azure Bot Id\" required={ true } inputAttributes={ { 'data-propname': 'id' } } />\n          <TextInputField error={ tenantIdError } value={ tenantId } onChange={ this.onInputChange } label=\"Azure Tenant Id\" required={ true } inputAttributes={ { 'data-propname': 'tenantId' } } />\n          <TextInputField error={ subscriptionIdError } value={ subscriptionId } onChange={ this.onInputChange } label=\"Azure Subscription Id\" required={ true } inputAttributes={ { 'data-propname': 'subscriptionId' } } />\n          <TextInputField error={ resourceGroupError } value={ resourceGroup } onChange={ this.onInputChange } label=\"Azure Resource Group\" required={ true } inputAttributes={ { 'data-propname': 'resourceGroup' } } />\n        </ModalContent>\n        <ModalActions>\n          <PrimaryButton text=\"Cancel\" secondary={ true } onClick={ this.onCancelClick } />\n          <PrimaryButton disabled={ !isDirty || !valid } text=\"Submit\" onClick={ this.onSubmitClick } />\n        </ModalActions>\n      </Modal>\n    );\n  }\n\n  private onCancelClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\n    this.props.cancel();\n  };\n\n  private onSubmitClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\n    this.props.updateAzureBotService(this.state.azureBotService);\n  };\n\n  private onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\n    const { currentTarget: input } = event;\n    const { required, value } = input;\n    const trimmedValue = value.trim();\n\n    const { azureBotService: originalAzureBotService } = this.props;\n    const propName = input.getAttribute('data-propname');\n    const errorMessage = (required && !trimmedValue) ? `The field cannot be empty` : '';\n\n    const { azureBotService } = this.state;\n    azureBotService[propName] = input.value;\n\n    const isDirty = Object.keys(azureBotService).reduce((isDirty, key) => (isDirty || azureBotService[key] !== originalAzureBotService[key]), false);\n    this.setState({ azureBotService, [`${propName}Error`]: errorMessage, isDirty } as any);\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { connect } from 'react-redux';\nimport { IRootState } from '../../../../../data/store';\nimport { DialogService } from '../../../../dialogs/service';\nimport { AzureBotServiceEditor } from './azureBotServiceEditor';\n\nconst mapStateToProps = (state: IRootState, ownProps: { [propName: string]: any }) => {\n  return {\n    ...ownProps\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateAzureBotService: updatedAzureBotService => DialogService.hideDialog(updatedAzureBotService),\n    cancel: () => DialogService.hideDialog()\n  };\n};\n\nexport const AzureBotServiceEditorContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AzureBotServiceEditor) as any;\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { AzureBotServiceEditorContainer } from './azureBotServiceEditorContainer';\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { IAzureBotService } from 'msbot/bin/schema';\r\nimport * as React from 'react';\r\nimport { ComponentClass, MouseEventHandler, SyntheticEvent } from 'react';\r\nimport { ServicePane, ServicePaneProps } from '../servicePane';\r\nimport { AzureBotServiceEditorContainer } from './azureBotServiceEditor';\r\n\r\nexport interface AzureBotServiceProps extends ServicePaneProps {\r\n  azureBotServices?: IAzureBotService[];\r\n  launchAzureBotServiceEditor: (azureBotServiceEditor: ComponentClass<any>) => void;\r\n  openAzureBotServiceDeepLink: (azureBotServiceService: IAzureBotService) => void;\r\n}\r\n\r\nexport class AzureBotServiceExplorer extends ServicePane<AzureBotServiceProps, {}> {\r\n  public state = {} as { expanded?: boolean };\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  protected get links() {\r\n    const { azureBotServices = [] } = this.props;\r\n    return azureBotServices\r\n      .map((model, index) => {\r\n        return <li key={ index } onClick={ this.onLinkClick } data-index={ index }>{ model.name }</li>;\r\n      });\r\n  }\r\n\r\n  protected onLinkClick: MouseEventHandler<HTMLLIElement> = (event: SyntheticEvent<HTMLLIElement>): void => {\r\n    const { currentTarget } = event;\r\n    const { index } = currentTarget.dataset;\r\n    const { [index]: azureBotServiceService } = this.props.azureBotServices;\r\n    this.props.openAzureBotServiceDeepLink(azureBotServiceService);\r\n  };\r\n\r\n  protected onContextMenuOverLiElement(li: HTMLLIElement) {\r\n    super.onContextMenuOverLiElement(li);\r\n    const { index } = li.dataset;\r\n    const { [index]: azureBotServiceService } = this.props.azureBotServices;\r\n    this.props.openContextMenu(azureBotServiceService, AzureBotServiceEditorContainer);\r\n  }\r\n\r\n  protected onAddIconClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\r\n    this.props.launchAzureBotServiceEditor(AzureBotServiceEditorContainer);\r\n  };\r\n}\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { IAzureBotService, ServiceType } from 'msbot/bin/schema';\r\nimport { ComponentClass } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  launchAzureBotServiceEditor,\r\n  openAzureBotServiceDeepLink,\r\n  openAzureBotServiceExplorerContextMenu\r\n} from '../../../../data/action/azureBotServiceActions';\r\nimport { IRootState } from '../../../../data/store';\r\nimport { AzureBotServiceEditor } from './azureBotServiceEditor/azureBotServiceEditor';\r\nimport { AzureBotServiceExplorer } from './azureBotServiceExplorer';\r\n\r\nconst mapStateToProps = (state: IRootState) => {\r\n  const { services } = state.bot.activeBot;\r\n  return {\r\n    azureBotServices: services.filter(service => service.type === ServiceType.AzureBotService),\r\n    window\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    launchAzureBotServiceEditor: (azureBotServiceEditor: ComponentClass<AzureBotServiceEditor>, azureBotService: IAzureBotService) => dispatch(launchAzureBotServiceEditor(azureBotServiceEditor, azureBotService)),\r\n    openAzureBotServiceDeepLink: (azureBotService: IAzureBotService) => dispatch(openAzureBotServiceDeepLink(azureBotService)),\r\n    openContextMenu: (azureBotService: IAzureBotService, azureBotServiceEditor: ComponentClass<AzureBotServiceEditor>) => dispatch(openAzureBotServiceExplorerContextMenu(azureBotServiceEditor, azureBotService)),\r\n  };\r\n};\r\n\r\nexport const AzureBotServiceExplorerContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(AzureBotServiceExplorer as any) as any;\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { AzureBotServiceExplorerContainer } from './azureBotServiceExplorerContainer';\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { connect } from 'react-redux';\nimport { css } from 'glamor';\nimport React from 'react';\n\nimport { Colors, PrimaryButton, ExpandCollapse, ExpandCollapseControls, ExpandCollapseContent } from '@bfemulator/ui-react';\nimport { CommandService } from '../../../platform/commands/commandService';\nimport * as Constants from '../../../constants';\n\nconst CSS = css({\n  backgroundColor: Colors.EXPLORER_BACKGROUND_DARK,\n  color: Colors.EXPLORER_FOREGROUND_DARK,\n  display: 'flex',\n  flex: 1,\n  flexDirection: 'column',\n  listStyleType: 'none',\n  margin: 0,\n  padding: 0,\n\n  '& .explorer-empty-state': {\n    padding: '16px',\n    overflow: 'hidden',\n  }\n});\n\nclass BotNotOpenExplorer extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onOpenBot = this.onOpenBot.bind(this);\n  }\n\n  onOpenBot(e) {\n    CommandService.call('navbar:switchtab', Constants.NavBar_App);\n  }\n\n  render() {\n    return (\n      <ul className={ CSS }>\n        <li>\n          <ExpandCollapse\n            expanded={ true }\n            title=\"No Bot Selected\"\n          >\n            <ExpandCollapseContent>\n              <div className=\"explorer-empty-state\">\n                { false && <PrimaryButton text='Select or Create a bot' onClick={ this.onOpenBot } /> }\n              </div>\n            </ExpandCollapseContent>\n          </ExpandCollapse>\n        </li>\n      </ul>\n    );\n  }\n}\n\nexport default connect(state => ({}))(BotNotOpenExplorer)\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { Modal, ModalActions, ModalContent, PrimaryButton, TextInputField } from '@bfemulator/ui-react';\nimport { DispatchService } from 'msbot/bin/models';\nimport { IDispatchService } from 'msbot/bin/schema';\nimport * as React from 'react';\nimport { Component, SyntheticEvent } from 'react';\n\ninterface DispatchEditorProps {\n  dispatchService: IDispatchService,\n  cancel: () => void,\n  updateDispatchService: (updatedDispatchService: IDispatchService) => void;\n}\n\ninterface DispatchEditorState {\n  dispatchService: IDispatchService,\n  nameError: string;\n  appIdError: string;\n  authoringKeyError: string;\n  versionError: string;\n  subscriptionKeyError: string;\n  isDirty: boolean\n}\n\nconst title = 'Connect to a Dispatch Application';\nconst detailedDescription = 'You can connect your bot to a Dispatch.ai application';\nconst modalCssOverrides = {\n  width: '400px',\n  height: '525px'\n};\n\nexport class DispatchEditor extends Component<DispatchEditorProps, DispatchEditorState> {\n\n  public state: DispatchEditorState = {} as DispatchEditorState;\n\n  constructor(props, state) {\n    super(props, state);\n    const dispatchService = new DispatchService(props.dispatchService);\n    this.state = { dispatchService, nameError: '', appIdError: '', authoringKeyError: '', versionError: '', subscriptionKeyError: '', isDirty: false };\n  }\n\n  public componentWillReceiveProps(nextProps: Readonly<DispatchEditorProps>): void {\n    const dispatchService = new DispatchService(nextProps.dispatchService);\n    this.setState({ dispatchService });\n  }\n\n  public render(): JSX.Element {\n    const { dispatchService, appIdError, authoringKeyError, isDirty, nameError, subscriptionKeyError, versionError } = this.state;\n    const { name = '', appId = '', authoringKey = '', subscriptionKey = '', version = '' } = dispatchService;\n    const valid = !nameError && !appIdError && !authoringKeyError && !versionError && !subscriptionKeyError;\n\n    return (\n      <Modal cssOverrides={ modalCssOverrides } title={ title } detailedDescription={ detailedDescription } cancel={ this.onCancelClick }>\n        <ModalContent>\n          <TextInputField value={ name } onChange={ this.onInputChange } label=\"Name\" required={ true } inputAttributes={ { 'data-propname': 'name' } }/>\n          <TextInputField value={ appId } onChange={ this.onInputChange } label=\"Application Id\" required={ true } inputAttributes={ { 'data-propname': 'appId' } }/>\n          <TextInputField value={ authoringKey } onChange={ this.onInputChange } label=\"Authoring key\" required={ true } inputAttributes={ { 'data-propname': 'authoringKey' } }/>\n          <TextInputField value={ version } onChange={ this.onInputChange } label=\"Version\" required={ true } inputAttributes={ { 'data-propname': 'version' } }/>\n          <TextInputField value={ subscriptionKey } onChange={ this.onInputChange } label=\"Subscription key\" required={ false } inputAttributes={ { 'data-propname': 'subscriptionKey' } }/>\n        </ModalContent>\n        <ModalActions>\n          <PrimaryButton text=\"Cancel\" secondary={ true } onClick={ this.onCancelClick }/>\n          <PrimaryButton disabled={ !isDirty || !valid } text=\"Submit\" onClick={ this.onSubmitClick }/>\n        </ModalActions>\n      </Modal>\n    );\n  }\n\n  private onCancelClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\n    this.props.cancel();\n  };\n\n  private onSubmitClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\n    const { dispatchService } = this.state;\n    dispatchService.id = dispatchService.appId;\n    this.props.updateDispatchService(dispatchService);\n  };\n\n  private onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\n    const { currentTarget: input } = event;\n    const { required, value } = input;\n    const trimmedValue = value.trim();\n\n    const { dispatchService: originalDispatchService } = this.props;\n    const propName = input.getAttribute('data-propname');\n    const errorMessage = ( required && !trimmedValue ) ? `The field cannot be empty` : '';\n\n    const { dispatchService } = this.state;\n    dispatchService[propName] = input.value;\n\n    const isDirty = Object.keys(dispatchService).reduce((isDirty, key) => ( isDirty || dispatchService[key] !== originalDispatchService[key] ), false);\n    this.setState({ dispatchService, [`${propName}Error`]: errorMessage, isDirty } as any);\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { connect } from 'react-redux';\nimport { IRootState } from '../../../../../data/store';\nimport { DialogService } from '../../../../dialogs/service';\nimport { DispatchEditor } from './dispatchEditor';\n\nconst mapStateToProps = (state: IRootState, ownProps: { [propName: string]: any }) => {\n  return {\n    ...ownProps\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateDispatchService: updatedDispatchService => DialogService.hideDialog(updatedDispatchService),\n    cancel: () => DialogService.hideDialog()\n  };\n};\n\nexport const DispatchEditorContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DispatchEditor) as any;\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { DispatchEditorContainer } from './dispatchEditorContainer';\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { IQnAService } from 'msbot/bin/schema';\nimport * as React from 'react';\nimport { ComponentClass, MouseEventHandler, SyntheticEvent } from 'react';\nimport { ServicePane, ServicePaneProps } from '../servicePane';\nimport { DispatchEditorContainer } from './dispatchEditor';\n\nexport interface DispatchProps extends ServicePaneProps {\n  dispatchServices?: IQnAService[];\n  launchDispatchEditor: (dispatchEditor: ComponentClass<any>) => void;\n  openDispatchDeepLink: (dispatchService: IQnAService) => void;\n}\n\nexport class DispatchExplorer extends ServicePane<DispatchProps> {\n  public state = {} as { expanded?: boolean };\n\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  protected get links() {\n    const { dispatchServices = [] } = this.props;\n    return dispatchServices\n      .map((model, index) => {\n        return <li key={ index } onClick={ this.onLinkClick } data-index={ index }>{ model.name }</li>;\n      });\n  }\n\n  protected onLinkClick: MouseEventHandler<HTMLLIElement> = (event: SyntheticEvent<HTMLLIElement>): void => {\n    const { currentTarget } = event;\n    const { index } = currentTarget.dataset;\n    const { [index]: dispatchService } = this.props.dispatchServices;\n    this.props.openDispatchDeepLink(dispatchService);\n  };\n\n  protected onContextMenuOverLiElement(li: HTMLLIElement) {\n    super.onContextMenuOverLiElement(li);\n    const { index } = li.dataset;\n    const { [index]: dispatchService } = this.props.dispatchServices;\n    this.props.openContextMenu(dispatchService, DispatchEditorContainer);\n  }\n\n  protected onAddIconClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\n    this.props.launchDispatchEditor(DispatchEditorContainer);\n  };\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { IDispatchService, ServiceType } from 'msbot/bin/schema';\r\nimport { ComponentClass } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { launchDispatchEditor, openDispatchDeepLink, openDispatchExplorerContextMenu } from '../../../../data/action/dispatchServiceActions';\r\nimport { IRootState } from '../../../../data/store';\r\nimport { DispatchEditor } from './dispatchEditor/dispatchEditor';\r\nimport { DispatchExplorer } from './dispatchExplorer';\r\n\r\nconst mapStateToProps = (state: IRootState) => {\r\n  const { services } = state.bot.activeBot;\r\n  return {\r\n    dispatchServices: services.filter(service => service.type === ServiceType.Dispatch),\r\n    window\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    launchDispatchEditor: (dispatchEditor: ComponentClass<DispatchEditor>, dispatchService: IDispatchService) => dispatch(launchDispatchEditor(dispatchEditor, dispatchService)),\r\n    openDispatchDeepLink: (dispatchService: IDispatchService) => dispatch(openDispatchDeepLink(dispatchService)),\r\n    openContextMenu: (dispatchService: IDispatchService, dispatchEditor: ComponentClass<DispatchEditor>) => dispatch(openDispatchExplorerContextMenu(dispatchEditor, dispatchService)),\r\n  };\r\n};\r\n\r\nexport const DispatchExplorerContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DispatchExplorer as any) as any;\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { DispatchExplorerContainer } from './dispatchExplorerContainer';\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { Modal, ModalActions, ModalContent, PrimaryButton, TextInputField } from '@bfemulator/ui-react';\r\nimport { EndpointService } from 'msbot/bin/models';\r\nimport { IEndpointService } from 'msbot/bin/schema';\r\nimport * as React from 'react';\r\nimport { Component, SyntheticEvent } from 'react';\r\n\r\ninterface EndpointEditorProps {\r\n  endpointService: IEndpointService,\r\n  cancel: () => void,\r\n  updateEndpointService: (updatedEndpointService: IEndpointService) => void;\r\n}\r\n\r\ninterface EndpointEditorState {\r\n  endpointService: IEndpointService,\r\n  nameError: string;\r\n  endpointError: string;\r\n  appIdError: string;\r\n  appPasswordError: string;\r\n  isDirty: boolean;\r\n}\r\n\r\nconst title = 'Add a Endpoint for your bot';\r\nconst detailedDescription = 'You can add a endpoint that you use to communicate to an instance of your bot';\r\nconst modalCssOverrides = {\r\n  width: '400px',\r\n  height: '500px'\r\n};\r\n\r\nexport class EndpointEditor extends Component<EndpointEditorProps, EndpointEditorState> {\r\n\r\n  public state: EndpointEditorState = {} as EndpointEditorState;\r\n\r\n  constructor(props, state) {\r\n    super(props, state);\r\n    const endpointService = new EndpointService(props.endpointService);\r\n    this.state = { endpointService, nameError: '', endpointError: '', appPasswordError: '', appIdError: '', isDirty: false };\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: Readonly<EndpointEditorProps>): void {\r\n    const endpointService = new EndpointService(nextProps.endpointService);\r\n    this.setState({ endpointService, appIdError: '', appPasswordError: '', endpointError: '', nameError: '' });\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const { endpointService, appIdError, appPasswordError, endpointError, nameError, isDirty } = this.state;\r\n    const { name = '', endpoint = '', appId = '', appPassword = '' } = endpointService;\r\n    const valid = !!endpoint && !!name;\r\n    return (\r\n      <Modal cssOverrides={ modalCssOverrides } title={ title } detailedDescription={ detailedDescription } cancel={ this.onCancelClick }>\r\n        <ModalContent>\r\n          <TextInputField error={ nameError } value={ name } onChange={ this.onInputChange } label=\"Name\" required={ true } inputAttributes={ { 'data-propname': 'name' } }/>\r\n          <TextInputField error={ endpointError } value={ endpoint } onChange={ this.onInputChange } label=\"Endpoint url\" required={ true } inputAttributes={ { 'data-propname': 'endpoint' } }/>\r\n          <TextInputField error={ appIdError } value={ appId } onChange={ this.onInputChange } label=\"Application Id\" required={ false } inputAttributes={ { 'data-propname': 'appId' } }/>\r\n          <TextInputField error={ appPasswordError } value={ appPassword } onChange={ this.onInputChange } label=\"Application Password\" required={ false } inputAttributes={ { 'data-propname': 'appPassword' } }/>\r\n        </ModalContent>\r\n        <ModalActions>\r\n          <PrimaryButton text=\"Cancel\" secondary={ true } onClick={ this.onCancelClick }/>\r\n          <PrimaryButton disabled={ !isDirty || !valid } text=\"Submit\" onClick={ this.onSubmitClick }/>\r\n        </ModalActions>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  private onCancelClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\r\n    this.props.cancel();\r\n  };\r\n\r\n  private onSubmitClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\r\n    this.props.updateEndpointService(this.state.endpointService);\r\n  };\r\n\r\n  private onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\r\n    const { currentTarget: input } = event;\r\n    const { required, value } = input;\r\n    const trimmedValue = value.trim();\r\n\r\n    const { endpointService: originalEndpointService } = this.props;\r\n    const propName = input.getAttribute('data-propname');\r\n    const errorMessage = ( required && !trimmedValue ) ? `The field cannot be empty` : '';\r\n\r\n    const { endpointService } = this.state;\r\n    endpointService[propName] = input.value;\r\n\r\n    const isDirty = Object.keys(endpointService).reduce((isDirty, key) => ( isDirty || endpointService[key] !== originalEndpointService[key] ), false);\r\n    this.setState({ endpointService, [`${propName}Error`]: errorMessage, isDirty } as any);\r\n  };\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { connect } from 'react-redux';\nimport { IRootState } from '../../../../../data/store';\nimport { DialogService } from '../../../../dialogs/service';\nimport { EndpointEditor } from './endpointEditor';\n\nconst mapStateToProps = (state: IRootState, ownProps: { [propName: string]: any }) => {\n  return {\n    ...ownProps\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateEndpointService: updatedEndpointService => DialogService.hideDialog(updatedEndpointService),\n    cancel: () => DialogService.hideDialog()\n  };\n};\n\nexport const EndpointEditorContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EndpointEditor) as any;\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { EndpointEditorContainer } from './endpointEditorContainer';\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { EndpointService } from 'msbot/bin/models';\nimport { IEndpointService } from 'msbot/bin/schema';\nimport * as React from 'react';\nimport { ComponentClass, MouseEventHandler, SyntheticEvent } from 'react';\nimport { ServicePane, ServicePaneProps } from '../servicePane';\nimport { EndpointEditorContainer } from './endpointEditor';\n\nexport interface EndpointProps extends ServicePaneProps {\n  endpointServices?: IEndpointService[];\n  launchEndpointEditor: (endpointEditor: ComponentClass<any>) => void;\n  openEndpointDeepLink: (endpointService: IEndpointService) => void;\n}\n\nexport class EndpointExplorer extends ServicePane<EndpointProps> {\n  public state = { expanded: true } as { expanded?: boolean };\n\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  protected get links() {\n    const { endpointServices = [] } = this.props;\n    return endpointServices\n      .map((model, index) => {\n        return <li key={ index } onClick={ this.onLinkClick } data-index={ index }>{ model.name }</li>;\n      });\n  }\n\n  protected onLinkClick: MouseEventHandler<HTMLLIElement> = (event: SyntheticEvent<HTMLLIElement>): void => {\n    const { currentTarget } = event;\n    const { index } = currentTarget.dataset;\n    const { [index]: endpointService } = this.props.endpointServices;\n    this.props.openEndpointDeepLink(endpointService);\n  };\n\n  protected onContextMenuOverLiElement(li: HTMLLIElement) {\n    super.onContextMenuOverLiElement(li);\n    const { index } = li.dataset;\n    const { [index]: endpointService } = this.props.endpointServices;\n    this.props.openContextMenu(new EndpointService(endpointService), EndpointEditorContainer);\n  }\n\n  protected onAddIconClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\n    this.props.launchEndpointEditor(EndpointEditorContainer);\n  };\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { IEndpointService, ServiceType } from 'msbot/bin/schema';\r\nimport { ComponentClass } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { launchEndpointEditor, openEndpointDeepLink, openEndpointExplorerContextMenu } from '../../../../data/action/endpointServiceActions';\r\nimport { IRootState } from '../../../../data/store';\r\nimport { EndpointEditor } from './endpointEditor/endpointEditor';\r\nimport { EndpointExplorer } from './endpointExplorer';\r\n\r\nconst mapStateToProps = (state: IRootState) => {\r\n  const { services } = state.bot.activeBot;\r\n  return {\r\n    endpointServices: services.filter(service => service.type === ServiceType.Endpoint),\r\n    window\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    launchEndpointEditor: (endpointEditor: ComponentClass<EndpointEditor>, endpointService: IEndpointService) => dispatch(launchEndpointEditor(endpointEditor, endpointService)),\r\n    openEndpointDeepLink: (endpointService: IEndpointService) => dispatch(openEndpointDeepLink(endpointService)),\r\n    openContextMenu: (endpointService: IEndpointService, endpointEditor: ComponentClass<EndpointEditor>) => dispatch(openEndpointExplorerContextMenu(endpointEditor, endpointService)),\r\n  };\r\n};\r\n\r\nexport const EndpointExplorerContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(EndpointExplorer as any) as any;\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { EndpointExplorerContainer } from './endpointExplorerContainer';\n","// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as React from 'react';\n\nimport { ExplorerSet } from './explorerSet';\n\nexport class ExplorerBarBody extends React.Component {\n  render() {\n    return (\n      <ExplorerSet>\n        { this.props.children }\n      </ExplorerSet>\n    );\n  }\n}\n","// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { css } from 'glamor';\r\nimport * as React from 'react';\r\nimport { filterChildren, hmrSafeNameComparison } from '@bfemulator/ui-react';\r\n\r\nconst CSS = css({\r\n  padding: '8px 16px',\r\n  display: 'flex',\r\n  flexFlow: 'row nowrap',\r\n  alignItems: 'center',\r\n  flexShrink: 0,\r\n\r\n  '& > header': {\r\n    fontSize: '13px',\r\n    lineHeight: '24px',\r\n    height: '24px',\r\n    textTransform: 'uppercase',\r\n    whiteSpace: 'nowrap',\r\n  },\r\n\r\n  '& > span.accessory': {\r\n    display: 'inline-block',\r\n    marginLeft: 'auto',\r\n    width: '24px',\r\n    height: '24px',\r\n    cursor: 'pointer'\r\n  },\r\n\r\n  '& > span.bot-settings-icon': {\r\n    background: \"url('./external/media/ic_settings.svg') no-repeat 50% 50%\",\r\n    backgroundSize: '16px',\r\n  }\r\n});\r\n\r\nexport class ExplorerBarHeader extends React.Component {\r\n  render() {\r\n    return (\r\n      <div { ...CSS }>\r\n        <header>\r\n          { filterChildren(this.props.children, child => hmrSafeNameComparison(child.type, Title)) }\r\n        </header>\r\n        { filterChildren(this.props.children, child => hmrSafeNameComparison(child.type, Accessories)) }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const Title = props => props.children;\r\nexport const Accessories = props => props.children;\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as React from 'react';\nimport { css } from 'glamor';\nimport { Colors } from '@bfemulator/ui-react';\n\nconst CSS = css({\n  color: Colors.EXPLORER_FOREGROUND_DARK,\n  cursor: 'pointer',\n  display: 'block',\n  whiteSpace: 'nowrap',\n  lineHeight: '30px',\n  height: '30px',\n  paddingLeft: '16px',\n\n  '&:hover': {\n    backgroundColor: Colors.EXPLORER_ITEM_HOVER_BACKGROUND_DARK\n  },\n\n  '&.active-explorer-item': {\n    backgroundColor: Colors.EXPLORER_ITEM_ACTIVE_BACKGROUND_DARK\n  },\n\n  '&:before': {\n    content: '🗋',\n    color: Colors.C5,\n    fontSize: '16px',\n    paddingRight: '6px',\n  },\n\n  '&:last-child': {\n    paddingBottom: '4px',\n  },\n});\n\nexport interface Props {\n  active: boolean;\n  onClick?: any;\n}\n\nexport default class ExplorerItem extends React.Component<Props> {\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  render() {\n    return (\n      this.props.active ?\n        <li className=\"active-explorer-item\" { ...CSS } onClick={ this.props.onClick }>{ this.props.children }</li>\n        :\n        <li { ...CSS } onClick={ this.props.onClick }>{ this.props.children }</li>\n    );\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\nimport * as React from 'react';\n\nimport { Colors } from '@bfemulator/ui-react';\n\nconst CSS = css({\n  backgroundColor: Colors.EXPLORER_BACKGROUND_DARK,\n  display: 'flex',\n  flexFlow: 'column nowrap',\n  height: '100%',\n  overflow: 'hidden',\n  listStyleType: 'none',\n  margin: 0,\n  padding: 0,\n\n  '& > li': {\n    display: 'flex',\n    flexDirection: 'column',\n    overflow: 'hidden',\n    flex: '0 1 auto',\n    maxHeight: '100%'\n  }\n});\n\nexport class ExplorerSet extends React.Component {\n  render() {\n    return (\n      <ul className={ CSS + ' explorer-set' }>\n        {\n          React.Children.map(this.props.children, child =>\n            <li>{ child }</li>\n          )\n        }\n      </ul>\n    );\n  }\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\n\nimport { Colors } from '@bfemulator/ui-react';\n\nexport const EXPLORER_CSS = css({\n  display: 'flex',\n  flex: 1,\n  flexDirection: 'column',\n  backgroundColor: Colors.EXPLORER_BACKGROUND_DARK,\n  color: Colors.EXPLORER_FOREGROUND_DARK,\n  overflow: 'hidden',\n\n  '& .empty-list': {\n    padding: '4px 4px 0px 16px',\n    whiteSpace: 'nowrap',\n    height: '30px',\n  }\n});\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport AssetExplorerBar from './assetExplorerBar';\nimport { ServicesExplorerBarContainer } from \"./servicesExplorerBar\";\nimport { Colors, InsetShadow } from '@bfemulator/ui-react';\nimport * as Constants from '../../../constants';\n\nconst CSS = css({\n  backgroundColor: Colors.EXPLORER_BACKGROUND_DARK,\n  height: '100%',\n  display: 'flex',\n  flexFlow: 'column nowrap',\n  position: 'relative'\n});\n\nclass ExplorerBar extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  \n  render() {\n    let explorer = [];\n      explorer.push(\n        <AssetExplorerBar key={ 'asset-explorer-bar' } activeBot={ this.props.activeBot } hidden={ this.props.selectedNavTab !== Constants.NavBar_Bot_Explorer } />\n      );\n    if (this.props.selectedNavTab === Constants.NavBar_Services)\n      explorer.push(\n        <ServicesExplorerBarContainer key={ 'services-explorer-bar' } />\n      );\n    if (!this.props.selectedNavTab)\n      explorer = (\n        false\n      );\n\n    return (\n      <div { ...CSS }>\n        { explorer }\n        <InsetShadow right={ true }/>\n      </div>\n    );\n  }\n}\n\nexport default connect(state => ({\n  activeBot: state.bot.activeBot,\n  selectedNavTab: state.navBar.selection\n}))(ExplorerBar)\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { LuisExplorerContainer } from './luisExplorerContainer';\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { LuisEditorContainer } from './luisEditorContainer';\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { LuisService } from 'msbot/bin/models';\r\nimport { ILuisService } from 'msbot/bin/schema';\r\nimport { Modal, ModalActions, ModalContent, PrimaryButton, TextInputField } from '@bfemulator/ui-react';\r\nimport * as React from 'react';\r\nimport { Component, SyntheticEvent } from 'react';\r\n\r\ninterface LuisEditorProps {\r\n  luisService: ILuisService,\r\n  cancel: () => void,\r\n  updateLuisService: (updatedLuisService: ILuisService) => void;\r\n}\r\n\r\ninterface LuisEditorState {\r\n  luisService: ILuisService,\r\n  nameError: string;\r\n  appIdError: string;\r\n  authoringKeyError: string;\r\n  versionError: string;\r\n  subscriptionKeyError: string;\r\n  isDirty: boolean\r\n}\r\n\r\nconst title = 'Connect to a Luis Application';\r\nconst detailedDescription = 'You can connect your bot to a Luis.ai application';\r\nconst modalCssOverrides = {\r\n  width: '400px',\r\n  height: '525px'\r\n};\r\n\r\nexport class LuisEditor extends Component<LuisEditorProps, LuisEditorState> {\r\n\r\n  public state: LuisEditorState = {} as LuisEditorState;\r\n\r\n  constructor(props, state) {\r\n    super(props, state);\r\n    const luisService = new LuisService(props.luisService);\r\n    this.state = { luisService, nameError: '', appIdError: '', authoringKeyError: '', versionError: '', subscriptionKeyError: '', isDirty: false };\r\n  }\r\n\r\n  public componentWillReceiveProps(nextProps: Readonly<LuisEditorProps>): void {\r\n    const luisService = new LuisService(nextProps.luisService);\r\n    this.setState({ luisService });\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const { onCancelClick, onInputChange, onSubmitClick } = this;\r\n    const { luisService, nameError, appIdError, authoringKeyError, versionError, subscriptionKeyError, isDirty } = this.state;\r\n    const { name = '', appId = '', authoringKey = '', subscriptionKey = '', version = '' } = luisService;\r\n    const valid = !!name && !!appId && !!authoringKey && !!version && !!subscriptionKey;\r\n    return (\r\n      <Modal cssOverrides={ modalCssOverrides } title={ title } detailedDescription={ detailedDescription } cancel={ onCancelClick }>\r\n        <ModalContent>\r\n          <TextInputField error={ nameError } value={ name } onChange={ onInputChange } label=\"Name\" required={ true } inputAttributes={ { 'data-propname': 'name' } }/>\r\n          <TextInputField error={ appIdError } value={ appId } onChange={ onInputChange } label=\"Application Id\" required={ true } inputAttributes={ { 'data-propname': 'appId' } }/>\r\n          <TextInputField error={ authoringKeyError } value={ authoringKey } onChange={ onInputChange } label=\"Authoring key\" required={ true } inputAttributes={ { 'data-propname': 'authoringKey' } }/>\r\n          <TextInputField error={ versionError } value={ version } onChange={ onInputChange } label=\"Version\" required={ true } inputAttributes={ { 'data-propname': 'version' } }/>\r\n          <TextInputField error={ subscriptionKeyError } value={ subscriptionKey } onChange={ onInputChange } label=\"Subscription key\" required={ false } inputAttributes={ { 'data-propname': 'subscriptionKey' } }/>\r\n        </ModalContent>\r\n        <ModalActions>\r\n          <PrimaryButton text=\"Cancel\" secondary={ true } onClick={ onCancelClick }/>\r\n          <PrimaryButton disabled={ !isDirty || !valid } text=\"Submit\" onClick={ onSubmitClick }/>\r\n        </ModalActions>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  private onCancelClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\r\n    this.props.cancel();\r\n  };\r\n\r\n  private onSubmitClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\r\n    this.props.updateLuisService(this.state.luisService);\r\n  };\r\n\r\n  private onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\r\n    const { currentTarget: input } = event;\r\n    const { required, value } = input;\r\n    const trimmedValue = value.trim();\r\n\r\n    const { luisService: originalLuisService } = this.props;\r\n    const propName = input.getAttribute('data-propname');\r\n    const errorMessage = ( required && !trimmedValue ) ? `The field cannot be empty` : '';\r\n\r\n    const { luisService } = this.state;\r\n    luisService[propName] = input.value;\r\n\r\n    const isDirty = Object.keys(luisService).reduce((isDirty, key) => ( isDirty || luisService[key] !== originalLuisService[key] ), false);\r\n    this.setState({ luisService, [`${propName}Error`]: errorMessage, isDirty } as any);\r\n  };\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { connect } from 'react-redux';\nimport { IRootState } from '../../../../../data/store';\nimport { DialogService } from '../../../../dialogs/service';\nimport { LuisEditor } from './luisEditor';\n\nconst mapStateToProps = (state: IRootState, ownProps: { [propName: string]: any }) => {\n  return {\n    ...ownProps\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateLuisService: updatedLuisService => DialogService.hideDialog(updatedLuisService),\n    cancel: () => DialogService.hideDialog()\n  };\n};\n\nexport const LuisEditorContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LuisEditor) as any;\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { ILuisService } from 'msbot/bin/schema';\r\nimport { LuisService } from 'msbot/bin/models';\r\nimport * as React from 'react';\r\nimport { ComponentClass, MouseEventHandler, SyntheticEvent } from 'react';\r\nimport { ServicePane, ServicePaneProps } from '../servicePane';\r\nimport { LuisEditorContainer } from './luisEditor';\r\n\r\nexport interface LuisProps extends ServicePaneProps {\r\n  luisServices?: ILuisService[];\r\n  launchLuisEditor: (luisEditor: ComponentClass<any>) => void;\r\n  openLuisDeepLink: (luisService: ILuisService) => void;\r\n}\r\n\r\nexport class LuisExplorer extends ServicePane<LuisProps> {\r\n  public state = {} as { expanded?: boolean };\r\n\r\n  constructor(props, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  protected get links() {\r\n    const { luisServices = [] } = this.props;\r\n    return luisServices\r\n      .map((model, index) => {\r\n        return <li key={ index } onClick={ this.onLinkClick } data-index={ index }>{ model.name }</li>;\r\n      });\r\n  }\r\n\r\n  protected onLinkClick: MouseEventHandler<HTMLLIElement> = (event: SyntheticEvent<HTMLLIElement>): void => {\r\n    const { currentTarget } = event;\r\n    const { index } = currentTarget.dataset;\r\n    const { [index]: luisService } = this.props.luisServices;\r\n    this.props.openLuisDeepLink(luisService);\r\n  };\r\n\r\n  protected onContextMenuOverLiElement(li: HTMLLIElement) {\r\n    super.onContextMenuOverLiElement(li);\r\n    const { index } = li.dataset;\r\n    const { [index]: luisService } = this.props.luisServices;\r\n    this.props.openContextMenu(new LuisService(luisService), LuisEditorContainer);\r\n  }\r\n\r\n  protected onAddIconClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\r\n    this.props.launchLuisEditor(LuisEditorContainer);\r\n  };\r\n}\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { ILuisService, ServiceType } from 'msbot/bin/schema';\r\nimport { ComponentClass } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { launchLuisEditor, openLuisDeepLink, openLuisExplorerContextMenu } from '../../../../data/action/luisServiceActions';\r\nimport { IRootState } from '../../../../data/store';\r\nimport { LuisEditor } from './luisEditor/luisEditor';\r\nimport { LuisExplorer } from './luisExplorer';\r\n\r\nconst mapStateToProps = (state: IRootState) => {\r\n  const { services } = state.bot.activeBot;\r\n  return {\r\n    luisServices: services.filter(service => service.type === ServiceType.Luis),\r\n    window\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    launchLuisEditor: (luisEditor: ComponentClass<LuisEditor>, luisService: ILuisService) => dispatch(launchLuisEditor(luisEditor, luisService)),\r\n    openLuisDeepLink: (luisService: ILuisService) => dispatch(openLuisDeepLink(luisService)),\r\n    openContextMenu: (luisService: ILuisService, luisEditor: ComponentClass<LuisEditor>) => dispatch(openLuisExplorerContextMenu(luisEditor, luisService)),\r\n  };\r\n};\r\n\r\nexport const LuisExplorerContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LuisExplorer as any) as any;\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport * from './qnaMakerExplorerContainer';\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { QnaMakerEditorContainer } from './qnaMakerEditorContainer';\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { Modal, ModalActions, ModalContent, PrimaryButton, TextInputField } from '@bfemulator/ui-react';\nimport { QnaMakerService } from 'msbot/bin/models';\nimport { IQnAService } from 'msbot/bin/schema';\nimport * as React from 'react';\nimport { Component, SyntheticEvent } from 'react';\n\ninterface QnaMakerEditorProps {\n  qnaMakerService: IQnAService,\n  cancel: () => void,\n  updateQnaMakerService: (updatedQnaMakerService: IQnAService) => void;\n}\n\ninterface QnaMakerEditorState {\n  qnaMakerService: IQnAService;\n  nameError: string;\n  subscriptionKeyError: string;\n  hostnameError: string;\n  endpointKeyError: string;\n  kbIdError: string;\n  isDirty: boolean\n}\n\nconst title = 'Add a QnA Maker knowledge base';\nconst detailedDescription = 'You can find your knowledge base subscription key in QnaMaker.ai';\nconst modalCssOverrides = {\n  width: '400px',\n  height: '530px'\n};\n\nexport class QnaMakerEditor extends Component<QnaMakerEditorProps, QnaMakerEditorState> {\n\n  public state: QnaMakerEditorState = {} as QnaMakerEditorState;\n\n  constructor(props, state) {\n    super(props, state);\n    const qnaMakerService = new QnaMakerService(props.qnaMakerService);\n    this.state = { qnaMakerService, nameError: '', kbIdError: '', subscriptionKeyError: '', endpointKeyError: '', hostnameError: '', isDirty: false };\n  }\n\n  public componentWillReceiveProps(nextProps: Readonly<QnaMakerEditorProps>): void {\n    const qnaMakerService = new QnaMakerService(nextProps.qnaMakerService);\n    this.setState({ qnaMakerService });\n  }\n\n  public render(): JSX.Element {\n    const { qnaMakerService, kbIdError, nameError, subscriptionKeyError, hostnameError, endpointKeyError, isDirty } = this.state;\n    const { name = '', subscriptionKey = '', hostname = '', endpointKey = '', kbId = '' } = qnaMakerService;\n    const valid = !!kbId && !!name && !!subscriptionKey && !!hostname && !!endpointKey;\n    return (\n      <Modal cssOverrides={ modalCssOverrides } title={ title } detailedDescription={ detailedDescription } cancel={ this.onCancelClick }>\n        <ModalContent>\n          <TextInputField error={ nameError } value={ name } onChange={ this.onInputChange } label=\"Name\" required={ true } inputAttributes={ { 'data-propname': 'name' } }/>\n          <TextInputField error={ subscriptionKeyError } value={ subscriptionKey } onChange={ this.onInputChange } label=\"Subscription key\" required={ true } inputAttributes={ { 'data-propname': 'subscriptionKey' } }/>\n          <TextInputField error={ hostnameError } value={ hostname } onChange={ this.onInputChange } label=\"Host name\" required={ true } inputAttributes={ { 'data-propname': 'hostname' } }/>\n          <TextInputField error={ endpointKeyError } value={ endpointKey } onChange={ this.onInputChange } label=\"Endpoint Key\" required={ true } inputAttributes={ { 'data-propname': 'endpointKey' } }/>\n          <TextInputField error={ kbIdError } value={ kbId } onChange={ this.onInputChange } label=\"Knowledge base Id\" required={ true } inputAttributes={ { 'data-propname': 'kbId' } }/>\n        </ModalContent>\n        <ModalActions>\n          <PrimaryButton text=\"Cancel\" secondary={ true } onClick={ this.onCancelClick }/>\n          <PrimaryButton disabled={ !isDirty || !valid } text=\"Submit\" onClick={ this.onSubmitClick }/>\n        </ModalActions>\n      </Modal>\n    );\n  }\n\n  private onCancelClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\n    this.props.cancel();\n  };\n\n  private onSubmitClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\n    this.props.updateQnaMakerService(this.state.qnaMakerService);\n  };\n\n  private onInputChange = (event: SyntheticEvent<HTMLInputElement>): void => {\n    const { currentTarget: input } = event;\n    const { required, value } = input;\n    const trimmedValue = value.trim();\n\n    const { qnaMakerService: originalQnaMakerService } = this.props;\n    const propName = input.getAttribute('data-propname');\n    const errorMessage = ( required && !trimmedValue ) ? `The field cannot be empty` : '';\n\n    const { qnaMakerService } = this.state;\n    qnaMakerService[propName] = trimmedValue;\n\n    const isDirty = Object.keys(qnaMakerService).reduce((isDirty, key) => ( isDirty || qnaMakerService[key] !== originalQnaMakerService[key] ), false);\n    this.setState({ qnaMakerService, [`${propName}Error`]: errorMessage, isDirty } as any);\n  };\n}\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { connect } from 'react-redux';\nimport { IRootState } from '../../../../../data/store';\nimport { DialogService } from '../../../../dialogs/service';\nimport { QnaMakerEditor } from './qnaMakerEditor';\n\nconst mapStateToProps = (state: IRootState, ownProps: { [propName: string]: any }) => {\n  return {\n    ...ownProps\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateQnaMakerService: updatedQnaMakerService => DialogService.hideDialog(updatedQnaMakerService),\n    cancel: () => DialogService.hideDialog()\n  };\n};\n\nexport const QnaMakerEditorContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(QnaMakerEditor) as any;\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { QnaMakerService } from 'msbot/bin/models';\nimport { IQnAService } from 'msbot/bin/schema';\nimport * as React from 'react';\nimport { ComponentClass, MouseEventHandler, SyntheticEvent } from 'react';\nimport { ServicePane, ServicePaneProps } from '../servicePane';\nimport { QnaMakerEditorContainer } from './qnaMakerEditor';\n\nexport interface QnaMakerProps extends ServicePaneProps {\n  qnaMakerServices?: IQnAService[];\n  launchQnaMakerEditor: (qnaMakerEditor: ComponentClass<any>) => void;\n  openQnaMakerDeepLink: (qnaMakerService: IQnAService) => void;\n}\n\nexport class QnaMakerExplorer extends ServicePane<QnaMakerProps> {\n  public state = {} as { expanded?: boolean };\n\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  protected get links() {\n    const { qnaMakerServices = [] } = this.props;\n    return qnaMakerServices\n      .map((model, index) => {\n        return <li key={ index } onClick={ this.onLinkClick } data-index={ index }>{ model.name }</li>;\n      });\n  }\n\n  protected onLinkClick: MouseEventHandler<HTMLLIElement> = (event: SyntheticEvent<HTMLLIElement>): void => {\n    const { currentTarget } = event;\n    const { index } = currentTarget.dataset;\n    const { [index]: qnaMakerService } = this.props.qnaMakerServices;\n    this.props.openQnaMakerDeepLink(qnaMakerService);\n  };\n\n  protected onContextMenuOverLiElement(li: HTMLLIElement) {\n    super.onContextMenuOverLiElement(li);\n    const { index } = li.dataset;\n    const { [index]: qnaMakerService } = this.props.qnaMakerServices;\n    this.props.openContextMenu(new QnaMakerService(qnaMakerService), QnaMakerEditorContainer);\n  }\n\n  protected onAddIconClick = (event: SyntheticEvent<HTMLButtonElement>): void => {\n    this.props.launchQnaMakerEditor(QnaMakerEditorContainer);\n  };\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { IQnAService, ServiceType } from 'msbot/bin/schema';\r\nimport { ComponentClass } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { launchQnaMakerEditor, openQnAMakerDeepLink, openQnaMakerExplorerContextMenu } from '../../../../data/action/qnaMakerServiceActions';\r\nimport { IRootState } from '../../../../data/store';\r\nimport { QnaMakerEditor } from './qnaMakerEditor/qnaMakerEditor';\r\nimport { QnaMakerExplorer } from './qnaMakerExplorer';\r\n\r\nconst mapStateToProps = (state: IRootState) => {\r\n  const { services } = state.bot.activeBot;\r\n  return {\r\n    qnaMakerServices: services.filter(service => service.type === ServiceType.QnA),\r\n    window\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    launchQnaMakerEditor: (qnaMakerEditor: ComponentClass<QnaMakerEditor>, qnaMakerService: IQnAService) => dispatch(launchQnaMakerEditor(qnaMakerEditor, qnaMakerService)),\r\n    openQnaMakerDeepLink: (qnaService: IQnAService) => dispatch(openQnAMakerDeepLink(qnaService)),\r\n    openContextMenu: (qnaMakerService: IQnAService, qnaMakerEditor: ComponentClass<QnaMakerEditor>) => dispatch(openQnaMakerExplorerContextMenu(qnaMakerEditor, qnaMakerService)),\r\n  };\r\n};\r\n\r\nexport const QnaMakerExplorerContainer = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(QnaMakerExplorer as any) as any;\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { IConnectedService } from 'msbot/bin/schema';\r\nimport { Colors, ExpandCollapse, ExpandCollapseContent, ExpandCollapseControls } from '@bfemulator/ui-react';\r\nimport { css, StyleAttribute } from 'glamor';\r\nimport * as React from 'react';\r\nimport { Component, SyntheticEvent } from 'react';\r\n\r\nexport interface ServicePaneProps {\r\n  openContextMenu: (service: IConnectedService, ...rest: any[]) => void;\r\n  window: Window,\r\n  title: string\r\n}\r\n\r\nexport interface ServicePaneState {\r\n  expanded?: boolean;\r\n}\r\n\r\nexport abstract class ServicePane<T extends ServicePaneProps, S extends ServicePaneState = ServicePaneState> extends Component<T, S> {\r\n  public state = {} as Readonly<S>;\r\n  private _listRef: HTMLUListElement;\r\n\r\n  protected constructor(props, context) {\r\n    super(props, context);\r\n  }\r\n\r\n  protected get controls(): JSX.Element {\r\n    return (\r\n      <ExpandCollapseControls>\r\n        <span { ...this.componentCss }>\r\n          <button onClick={ this.onAddIconClick } className=\"addIconButton\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 25 25\">\r\n              <g>\r\n                <path d=\"M0 10L10 10 10 0 15 0 15 10 25 10 25 15 15 15 15 25 10 25 10 15 0 15\"/>\r\n              </g>\r\n            </svg>\r\n          </button>\r\n        </span>\r\n      </ExpandCollapseControls>\r\n    );\r\n  }\r\n\r\n  protected abstract get links(): JSX.Element[];\r\n\r\n  protected abstract onLinkClick: (event: SyntheticEvent<HTMLLIElement>) => void; // bound\r\n  protected onAddIconClick: (event: SyntheticEvent<HTMLButtonElement>) => void; // bound\r\n\r\n  protected get content(): JSX.Element {\r\n    const { links, listCss, emptyContent } = this;\r\n    if (!links || !links.length) {\r\n      return (\r\n        <ExpandCollapseContent>\r\n          { emptyContent }\r\n        </ExpandCollapseContent>\r\n      );\r\n    }\r\n    return (\r\n      <ExpandCollapseContent>\r\n        <ul { ...listCss } ref={ ul => this.listRef = ul }>\r\n          { links }\r\n        </ul>\r\n      </ExpandCollapseContent>\r\n    );\r\n  }\r\n\r\n  protected get emptyContent(): JSX.Element {\r\n    return (\r\n      <p { ...this.emptyContentCss }>You have not saved any { this.props.title } apps to this bot.</p>\r\n    );\r\n  }\r\n\r\n\r\n  protected get componentCss(): StyleAttribute {\r\n    return css({\r\n      position: 'relative',\r\n      display: 'inline-block',\r\n      height: '100%',\r\n      width: '100%',\r\n      '& .addIconButton': {\r\n        background: 'transparent',\r\n        cursor: 'pointer',\r\n        border: 'none',\r\n        outline: 'none',\r\n        position: 'absolute',\r\n        transform: 'translateY(-50%)',\r\n        top: '50%',\r\n        right: '10px',\r\n        padding: '0',\r\n        margin: '0',\r\n\r\n        '> svg': {\r\n          width: '12px',\r\n          height: '12px',\r\n\r\n          fill: '#c5c5c5',\r\n          '&:hover': {\r\n            fill: Colors.C14\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  protected get listCss(): StyleAttribute {\r\n    return css({\r\n      listStyle: 'none',\r\n      padding: 0,\r\n      margin: 0,\r\n      overflow: 'hidden',\r\n\r\n      '> li': {\r\n        color: '#CCCCCC',\r\n        cursor: 'pointer',\r\n        display: 'block',\r\n        whiteSpace: 'nowrap',\r\n        lineHeight: '30px',\r\n        minHeight: '30px',\r\n        fontSize: ' 13px',\r\n\r\n        '&:hover': {\r\n          backgroundImage: `linear-gradient(to bottom, ${Colors.EXPLORER_ITEM_ACTIVE_BACKGROUND_DARK} 0%,${Colors.EXPLORER_ITEM_ACTIVE_BACKGROUND_DARK} 100%)`,\r\n          backgroundSize: '100% 30px',\r\n          backgroundRepeat: 'no-repeat'\r\n        },\r\n\r\n        '&[data-selected]': {\r\n          backgroundImage: `linear-gradient(to bottom, ${Colors.C12} 0%,${Colors.C12} 100%)`\r\n        },\r\n\r\n        '& span': {\r\n          color: 'rgba(255, 255, 255, 0.5)'\r\n        },\r\n\r\n        '&::before': {\r\n          content: '🔗',\r\n          display: 'inline-block',\r\n          color: Colors.C5,\r\n          paddingRight: '5px',\r\n          paddingLeft: '13px',\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  protected get emptyContentCss(): StyleAttribute {\r\n    return css({\r\n      margin: '12px 25px',\r\n      fontSize: '13px',\r\n      color: 'rgba(255, 255, 255, .5)'\r\n    });\r\n  }\r\n\r\n  protected get listRef(): HTMLUListElement {\r\n    return this._listRef;\r\n  }\r\n\r\n  protected set listRef(value: HTMLUListElement) {\r\n    const { window } = this.props;\r\n    window.removeEventListener('contextmenu', this.onContextMenu, true);\r\n    const ref = this._listRef = value;\r\n    if (ref) {\r\n      window.addEventListener('contextmenu', this.onContextMenu, true);\r\n    }\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    return (\r\n      <ExpandCollapse key={ this.props.title } title={ this.props.title } expanded={ this.state.expanded }>\r\n        { this.controls }\r\n        { this.content }\r\n      </ExpandCollapse>\r\n    );\r\n  }\r\n\r\n  protected onContextMenu = (event: MouseEvent) => {\r\n    const { listRef } = this;\r\n    let target = event.target as HTMLElement;\r\n    while (target && target.tagName !== 'LI') {\r\n      target = target.parentElement;\r\n    }\r\n    if (!target || target.tagName !== 'LI' || !listRef.contains(target)) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    this.onContextMenuOverLiElement(target as HTMLLIElement);\r\n  };\r\n\r\n  protected onContextMenuOverLiElement(li: HTMLLIElement): void {\r\n    const { window } = this.props;\r\n    const { document } = window;\r\n    li.setAttributeNode(document.createAttribute('data-selected')); // Boolean attribute\r\n    const deselectLiElement = function () {\r\n      window.removeEventListener('click', deselectLiElement, true);\r\n      window.removeEventListener('contextmenu', deselectLiElement, true);\r\n      li.removeAttribute('data-selected');\r\n    };\r\n    window.addEventListener('click', deselectLiElement, true);\r\n    window.addEventListener('contextmenu', deselectLiElement, true);\r\n  }\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport { ServicesExplorerBarContainer } from './servicesExplorerBarContainer';\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { connect } from 'react-redux';\nimport { IRootState } from '../../../../data/store';\nimport ServicesExplorerBar from './servicesExporerBar';\n\nconst mapStateToProps = (state: IRootState) => {\n  const activeBotExists = !!state.bot.activeBot;\n  return { activeBotExists };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport const ServicesExplorerBarContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ServicesExplorerBar) as any;\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport * as React from 'react';\nimport { Component } from 'react';\nimport { ExplorerBarBody } from '../explorerBarBody';\nimport { ExplorerBarHeader, Title } from '../explorerBarHeader';\nimport { LuisExplorerContainer } from '../luisExplorer';\nimport { DispatchExplorerContainer } from '../dispatchExplorer';\nimport { QnaMakerExplorerContainer } from '../qnaMakerExplorer';\nimport { AzureBotServiceExplorerContainer } from '../azureBotServiceExplorer';\n\nexport default class ServicesExplorerBar extends Component<{ activeBotExists: boolean }> {\n\n  constructor(props, context) {\n    super(props, context);\n  }\n\n  private get explorerBodyChildren(): JSX.Element {\n    const { activeBotExists } = this.props;\n    if (activeBotExists) {\n      return (\n        <>\n          <AzureBotServiceExplorerContainer title=\"Azure Bot Service\" />\n          <DispatchExplorerContainer title=\"Dispatch\" />\n          <LuisExplorerContainer title=\"LUIS\" />\n          <QnaMakerExplorerContainer title=\"QnA Maker\" />\n        </>\n      );\n    }\n    return null;\n  }\n\n  render() {\n    return (\n      <>\n        <ExplorerBarHeader>\n          <Title>\n            Services\n          </Title>\n        </ExplorerBarHeader>\n        <ExplorerBarBody>\n          {this.explorerBodyChildren}\n        </ExplorerBarBody>\n      </>\n    );\n  }\n}\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { FileInfo } from '@bfemulator/app-shared';\r\nimport { Container, ITreeNodeView, TreeDataProvider, TreeNode } from '@fuselab/ui-fabric/lib/tree';\r\nimport { fileExtensionToIcon, iconDefinitionToStyle } from '@fuselab/ui-fabric/lib/themes';\r\nimport { IStyleSet } from '@uifabric/styling/lib';\r\n\r\nimport { IFileTreeState } from '../../../../data/reducer/files';\r\n\r\n/**\r\n * File tree data provider\r\n */\r\nexport class FileTreeDataProvider implements TreeDataProvider<FileInfo> {\r\n  private _selected: TreeNode<FileInfo>;\r\n\r\n  constructor(private _tree: IFileTreeState) {\r\n  }\r\n\r\n  public async loadContainer(container: Container<FileInfo>): Promise<TreeNode<FileInfo>[]> {\r\n    return Promise.reject(new Error('nyi'));\r\n  }\r\n\r\n  public insertAt(container: Container<FileInfo>, node: TreeNode<FileInfo>) {\r\n  }\r\n\r\n  public remove(node: TreeNode<FileInfo>): Promise<TreeNode<FileInfo>> {\r\n    return Promise.reject(new Error('file tree node removal NYI'))\r\n  }\r\n\r\n  public selectNode(node: TreeNode<FileInfo>) {\r\n    this.tree.selected = node;\r\n  }\r\n\r\n  public get root(): Container<FileInfo> {\r\n    return <Container<FileInfo>>this.tree.root;\r\n  }\r\n\r\n  public get tree(): IFileTreeState {\r\n    return this._tree;\r\n  }\r\n\r\n  public get selected(): TreeNode<FileInfo> {\r\n    return this._selected;\r\n  }\r\n\r\n  public getStyle(node: ITreeNodeView): IStyleSet {\r\n    if (node.node.type === 'leaf') {\r\n      const name = node.node.name;\r\n      const iconDefinition = fileExtensionToIcon(name, node.theme);\r\n      const iconStyle = iconDefinitionToStyle(iconDefinition, node.theme);\r\n\r\n      return { icon: iconStyle };\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nexport * from './transcriptExplorer';\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { css } from 'glamor';\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FileInfo } from '@bfemulator/app-shared';\r\nimport { lazy, pathExt } from '@fuselab/ui-shared/lib';\r\nimport { TreeView, TreeViewProps, initFontFaces } from '@fuselab/ui-fabric/lib';\r\nimport { ExpandCollapse, ExpandCollapseContent } from '@bfemulator/ui-react';\r\nimport ExplorerItem from '../explorerItem';\r\nimport { IFileTreeState } from '../../../../data/reducer/files';\r\nimport { EXPLORER_CSS } from '../explorerStyle';\r\nimport { CommandService } from '../../../../platform/commands/commandService';\r\nimport { FileTreeDataProvider } from './fileTreeProvider';\r\n\r\nconst CONVO_CSS = css({\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  listStyleType: 'none',\r\n  margin: 0,\r\n  padding: 0,\r\n  overflowY: 'auto',\r\n  overflowX: 'hidden',\r\n\r\n  '& .empty-list': {\r\n    fontStyle: 'italic',\r\n  }\r\n});\r\n\r\ninterface TranscriptExplorerProps {\r\n  activeEditor: string,\r\n  activeDocumentId: string,\r\n  transcripts: any[],\r\n  files: IFileTreeState\r\n}\r\n\r\nfunction isTranscript(path: string): boolean {\r\n  const ext = (pathExt(path) || '').toLowerCase();\r\n  return ext === 'transcript';\r\n}\r\n\r\nclass _TranscriptExplorer extends React.Component<TranscriptExplorerProps> {\r\n  private onItemClick: (name: string) => void;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onItemClick = this.handleItemClick.bind(this);\r\n  }\r\n\r\n  private handleItemClick(filename) {\r\n    CommandService.call(\"transcript:open\", filename);\r\n  }\r\n\r\n  private renderFileTree(): JSX.Element {\r\n    if (!this.props.files.root) {\r\n      return null;\r\n    }\r\n    const provider = new FileTreeDataProvider(this.props.files);\r\n    const props: TreeViewProps<FileInfo> = {\r\n      loadContainer: provider.loadContainer.bind(provider),\r\n      remove: provider.remove.bind(provider),\r\n      insertAt: provider.insertAt.bind(provider),\r\n      selectNode: node => {\r\n        if (isTranscript(node.data.path)) {\r\n          this.handleItemClick(node.data.path);\r\n        }\r\n        provider.selectNode.bind(provider);\r\n      },\r\n      selectedData: provider.selected,\r\n      getStyle: provider.getStyle.bind(provider),\r\n      data: provider.root,\r\n      selected: false,\r\n      parent: null,\r\n      compact: true,\r\n      readonly: true,\r\n      theme: 'dark',\r\n      hideRoot: true\r\n    };\r\n\r\n    return (\r\n      <ExpandCollapseContent key={ 'transcript-explorer-tree' }>\r\n        <TreeView { ...props } />\r\n      </ExpandCollapseContent>\r\n    );\r\n  }\r\n\r\n  private renderTranscriptList(): JSX.Element {\r\n    return (\r\n      <ExpandCollapseContent key={ 'transcript-explorer-tree' }>\r\n        <ul { ...CONVO_CSS }>\r\n          {\r\n            this.props.transcripts.map(filename =>\r\n              <ExplorerItem key={ filename } active={ this.props.activeDocumentId === filename } onClick={ () => this.onItemClick(filename) }>\r\n                <span>{ filename.replace(/\\\\$/, '').split('\\\\').pop() }</span>\r\n              </ExplorerItem>\r\n            )\r\n          }\r\n        </ul>\r\n      </ExpandCollapseContent>\r\n    );\r\n  }\r\n\r\n  private renderEmptyTranscriptList(): JSX.Element {\r\n    return (\r\n      <ExpandCollapseContent key={ 'transcript-explorer-tree' }>\r\n        <ul { ...CONVO_CSS }>\r\n          <li><span className=\"empty-list\">No transcripts yet</span></li>\r\n          <li>&nbsp;</li>\r\n        </ul>\r\n      </ExpandCollapseContent>\r\n    );\r\n  }\r\n\r\n  @lazy()\r\n  private get setiFont(): string {\r\n    const fontCalc = x => `url(./external/media${x})`;\r\n    initFontFaces(fontCalc);\r\n    return './external/media';\r\n  }\r\n\r\n  public componentDidMount() {\r\n    // make sure setiFont is injected\r\n    const font = this.setiFont;\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    return (\r\n      <div { ...EXPLORER_CSS }>\r\n        <ExpandCollapse\r\n          expanded={ true }\r\n          title=\"Transcript Explorer\"\r\n        >\r\n          { this.renderFileTree() }\r\n          {/*\r\n            this.props.transcripts.length\r\n              ? this.renderTranscriptList()\r\n              : this.renderEmptyTranscriptList()\r\n          */\r\n          }\r\n        </ExpandCollapse>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state: any): TranscriptExplorerProps {\r\n  return {\r\n    activeEditor: state.editor.activeEditor,\r\n    activeDocumentId: state.editor.editors[state.editor.activeEditor].activeDocumentId,\r\n    transcripts: state.chat.transcripts,\r\n    files: state.files\r\n  };\r\n}\r\n\r\nexport const TranscriptExplorer = (connect(mapStateToProps, null)(_TranscriptExplorer)) as any;\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\nimport { connect } from 'react-redux';\r\nimport { css } from 'glamor';\r\nimport React from 'react';\r\n\r\nimport { Colors, Fonts, Splitter } from '@bfemulator/ui-react';\r\nimport ExplorerBar from './explorer';\r\nimport MDI from './mdi';\r\nimport NavBar from './navBar';\r\nimport TabManager from '../dialogs/tabManager';\r\nimport * as Constants from '../../constants';\r\nimport StatusBar from './statusBar';\r\nimport DialogHost from '../dialogs/host';\r\nimport StoreVisualizer from '../debug/storeVisualizer';\r\nimport { KeyCodes } from '@uifabric/utilities/lib';\r\nimport * as PresentationActions from '../../data/action/presentationActions';\r\n\r\ncss.global('html, body, #root', {\r\n  backgroundColor: Colors.APP_BACKGROUND_DARK,\r\n  cursor: 'default',\r\n  fontFamily: Fonts.FONT_FAMILY_DEFAULT,\r\n  fontSize: '13px',\r\n  height: '100%',\r\n  margin: 0,\r\n  minHeight: '100%',\r\n  overflow: 'hidden',\r\n  userSelect: 'none',\r\n});\r\n\r\ncss.global('div', {\r\n  boxSizing: 'border-box',\r\n});\r\n\r\ncss.global('::-webkit-scrollbar', {\r\n  width: '10px',\r\n  height: '10px',\r\n});\r\n\r\ncss.global('::-webkit-scrollbar-track', {\r\n  background: Colors.SCROLLBAR_TRACK_BACKGROUND_DARK,\r\n});\r\n\r\ncss.global('::-webkit-scrollbar-thumb', {\r\n  background: Colors.SCROLLBAR_THUMB_BACKGROUND_DARK,\r\n});\r\n\r\nconst CSS = css({\r\n  backgroundColor: Colors.APP_BACKGROUND_DARK,\r\n  color: Colors.APP_FOREGROUND_DARK,\r\n  display: 'flex',\r\n  width: '100%',\r\n  height: '100%',\r\n  minHeight: '100%',\r\n  flexDirection: 'column'\r\n});\r\n\r\nconst NAV_CSS = css({\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  width: '100%',\r\n  height: '100%',\r\n\r\n  '& > .workbench': {\r\n    display: 'flex',\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n  },\r\n\r\n  '& .mdi-wrapper': {\r\n    height: '100%',\r\n    width: '100%',\r\n  },\r\n\r\n  '& .secondary-mdi': {\r\n    borderLeft: `1px solid ${Colors.C3}`\r\n  }\r\n});\r\n\r\nexport class Main extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleTabChange = this.handleTabChange.bind(this);\r\n\r\n    this.state = {\r\n      tabValue: 0\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    if (newProps.presentationModeEnabled) {\r\n      window.addEventListener(\"keydown\", this.props.exitPresentationMode);\r\n    } else {\r\n      window.removeEventListener(\"keydown\", this.props.exitPresentationMode);\r\n    }\r\n  }\r\n\r\n  handleTabChange(nextTabValue) {\r\n    this.setState(() => ({ tabValue: nextTabValue }));\r\n  }\r\n\r\n  render() {\r\n    const tabGroup1 = this.props.primaryEditor &&\r\n      <div className=\"mdi-wrapper\" key={'primaryEditor'} ><MDI owningEditor={Constants.EditorKey_Primary} /></div>;\r\n\r\n    const tabGroup2 = this.props.secondaryEditor && Object.keys(this.props.secondaryEditor.documents).length ?\r\n      <div className=\"mdi-wrapper secondary-mdi\" key={'secondaryEditor'} ><MDI owningEditor={Constants.EditorKey_Secondary} /></div> : null;\r\n\r\n    // If falsy children aren't filtered out, splitter won't recognize change in number of children\r\n    // (i.e. [child1, child2] -> [false, child2] is still seen as 2 children by the splitter)\r\n    // TODO: Move this logic to splitter-side\r\n    const tabGroups = [tabGroup1, tabGroup2].filter(tG => !!tG);\r\n\r\n    // Explorer & TabGroup(s) pane\r\n    const workbenchChildren = [];\r\n\r\n    if (this.props.showingExplorer && !this.props.presentationModeEnabled)\r\n      workbenchChildren.push(<ExplorerBar key={'explorer-bar'} />);\r\n\r\n    workbenchChildren.push(\r\n      <Splitter orientation={'vertical'} key={'tab-group-splitter'}>\r\n        {tabGroups}\r\n      </Splitter>\r\n    );\r\n\r\n    return (\r\n      <div className={CSS}>\r\n        <div className={NAV_CSS}>\r\n          {!this.props.presentationModeEnabled && <NavBar />}\r\n          <div className=\"workbench\">\r\n            <Splitter orientation={'vertical'} primaryPaneIndex={0} minSizes={{ 0: 40, 1: 40 }} initialSizes={{ 0: 210 }}>\r\n              {workbenchChildren}\r\n            </Splitter>\r\n          </div>\r\n          <TabManager disabled={false} />\r\n        </div>\r\n        {!this.props.presentationModeEnabled && <StatusBar />}\r\n        <DialogHost />\r\n        <StoreVisualizer enabled={false} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction connectToProps(dispatch) {\r\n  return {\r\n    exitPresentationMode: (e) => {\r\n      if (e.keyCode === KeyCodes.escape) {\r\n        dispatch(PresentationActions.disable());\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({\r\n  presentationModeEnabled: state.presentation.enabled,\r\n  primaryEditor: state.editor.editors[Constants.EditorKey_Primary],\r\n  secondaryEditor: state.editor.editors[Constants.EditorKey_Secondary],\r\n  showingExplorer: state.explorer.showing\r\n}), connectToProps)(Main);\r\n\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport { getTabGroupForDocument } from '../../../data/editorHelpers';\nimport * as ChatActions from '../../../data/action/chatActions';\nimport * as EditorActions from '../../../data/action/editorActions';\nimport Tab from './tab';\n\nexport class EmulatorTab extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onCloseClick = this.onCloseClick.bind(this);\n  }\n\n  onCloseClick(e) {\n    e.stopPropagation();\n    this.props.dispatch(EditorActions.close(getTabGroupForDocument(this.props.documentId), this.props.documentId));\n    this.props.dispatch(ChatActions.closeDocument(this.props.documentId));\n  }\n\n  render() {\n    return (\n      <Tab active={ this.props.active } title={ this.props.title } onCloseClick={ this.onCloseClick }\n           documentId={ this.props.documentId } dirty={ this.props.dirty }/>\n    );\n  }\n}\n\nexport default connect((state, { mode, documentId }) => {\n  let title;\n  if (mode === 'livechat') {\n    title = \"Live Chat\";\n\n    const { services = [] } = state.bot.activeBot || {};\n\n    const { endpointId } = state.chat.chats[documentId] || {};\n    const botEndpoint = services.find(s => s.id === endpointId);\n\n    if (botEndpoint) {\n      title += ` (${ botEndpoint.name })`;\n    }\n  } else if (mode === 'transcript') {\n    const { editor: editorState } = state;\n    const {editors, activeEditor} = editorState;\n    const editor = editors[activeEditor];\n    const document = editor.documents[documentId];\n    title = 'Transcript';\n    if (document.fileName) {\n      title += ` (${document.fileName})`;\n    }\n  }\n\n  return {\n    active: state.editor.editors[state.editor.activeEditor].activeDocumentId === documentId,\n    title\n  };\n})(EmulatorTab);\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport * as Constants from '../../../constants';\nimport * as EditorActions from '../../../data/action/editorActions';\nimport Tab from './tab';\nimport { getTabGroupForDocument } from '../../../data/editorHelpers';\n\nclass GenericTab extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onCloseClick = this.onCloseClick.bind(this);\n  }\n\n  onCloseClick(e) {\n    e.stopPropagation();\n    this.props.dispatch(EditorActions.close(getTabGroupForDocument(this.props.documentId), this.props.documentId));\n  }\n\n  render() {\n    return (\n      <Tab active={ this.props.active } title={ this.props.title } onCloseClick={ this.onCloseClick }\n        documentId={ this.props.documentId } dirty={ this.props.dirty } />\n    );\n  }\n}\n\nGenericTab.propTypes = {\n  dirty: PropTypes.bool\n};\n\nexport default connect((state, { documentId }) => ({\n  active: state.editor.editors[state.editor.activeEditor].activeDocumentId === documentId\n}))(GenericTab);\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport * as React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport * as EditorActions from '../../../data/action/editorActions';\r\nimport EditorFactory from '../../editor';\r\nimport MultiTabs from '../multiTabs';\r\nimport TabFactory from './tabFactory';\r\nimport TabbedDocument, { Tab as TabbedDocumentTab, Content as TabbedDocumentContent } from '../multiTabs/tabbedDocument';\r\n\r\nclass MDI extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleTabChange = this.handleTabChange.bind(this);\r\n  }\r\n\r\n  handleTabChange(tabValue) {\r\n    this.props.dispatch(EditorActions.setActiveTab(this.props.tabOrder[tabValue]));\r\n  }\r\n\r\n  render() {\r\n    const activeIndex = this.props.tabOrder.findIndex(documentId => documentId === this.props.activeDocumentId);\r\n    return (\r\n      <MultiTabs\r\n        onChange={ this.handleTabChange }\r\n        value={ ~activeIndex ? activeIndex : 0 }\r\n        owningEditor={ this.props.owningEditor }\r\n      >\r\n        {\r\n          this.props.tabOrder.map(documentId =>\r\n            <TabbedDocument key={ documentId }>\r\n              <TabbedDocumentTab>\r\n                <TabFactory document={ this.props.documents[documentId] } />\r\n              </TabbedDocumentTab>\r\n              <TabbedDocumentContent documentId={ documentId }>\r\n                <EditorFactory document={ this.props.documents[documentId] } />\r\n              </TabbedDocumentContent>\r\n            </TabbedDocument>\r\n          )\r\n        }\r\n      </MultiTabs>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state, { owningEditor }) => ({\r\n  activeDocumentId: state.editor.editors[owningEditor].activeDocumentId,\r\n  documents: state.editor.editors[owningEditor].documents,\r\n  tabOrder: state.editor.editors[owningEditor].tabOrder,\r\n  activeEditor: state.editor.activeEditor\r\n}))(MDI)\r\n\r\nMDI.propTypes = {\r\n  activeDocumentId: PropTypes.string,\r\n  documents: PropTypes.object,\r\n  activeEditor: PropTypes.string,\r\n  owningEditor: PropTypes.string\r\n};\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { css } from 'glamor';\n\nimport { TAB_CSS } from './tabStyle';\nimport * as EditorActions from './../../../data/action/editorActions';\nimport { getTabGroupForDocument } from '../../../data/editorHelpers';\nimport { TruncateText } from '@bfemulator/ui-react';\n\nconst truncateTextCss = css({\n  maxWidth: '200px'\n});\n\nclass Tab extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onDragStart = this.onDragStart.bind(this);\n    this.onDragOver = this.onDragOver.bind(this);\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.onDragEnd = this.onDragEnd.bind(this);\n\n    this.state = {\n      owningEditor: getTabGroupForDocument(props.documentId)\n    };\n  }\n\n  onDragStart(e) {\n    const dragData = {\n      tabId: this.props.documentId,\n      editorKey: this.state.owningEditor\n    };\n    e.dataTransfer.setData('application/json', JSON.stringify(dragData));\n    this.props.dispatch(EditorActions.toggleDraggingTab(true));\n  }\n\n  onDragEnd(e) {\n    this.props.dispatch(EditorActions.toggleDraggingTab(false));\n  }\n\n  onDragOver(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState(({ draggedOver: true }));\n  }\n\n  onDragEnter(e) {\n    e.preventDefault();\n  }\n\n  onDragLeave(e) {\n    this.setState(({ draggedOver: false }));\n  }\n\n  onDrop(e) {\n    const tabData = JSON.parse(e.dataTransfer.getData('application/json'));\n\n    // only swap the tabs if they are different\n    if (tabData.tabId !== this.props.documentId) {\n      this.props.dispatch(EditorActions.swapTabs(tabData.editorKey, this.state.owningEditor, tabData.tabId, this.props.documentId));\n    }\n\n    this.setState(({ draggedOver: false }));\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  render() {\n    let tabClassName = '';\n    if (this.props.active) {\n      tabClassName += ' active-editor-tab';\n    } else if (this.state.draggedOver) {\n      tabClassName += ' dragged-over-editor-tab';\n    }\n\n    return (\n      <div className={ TAB_CSS + tabClassName } draggable\n           onDragOver={ this.onDragOver } onDragEnter={ this.onDragEnter } onDragStart={ this.onDragStart }\n           onDrop={ this.onDrop } onDragLeave={ this.onDragLeave } onDragEnd={ this.onDragEnd }>\n        <span className=\"editor-tab-icon\"></span>\n        <TruncateText className={ truncateTextCss }>{ this.props.title }</TruncateText>\n        { this.props.dirty ? <span>*</span> : null }\n        <span className=\"editor-tab-close\" onClick={ this.props.onCloseClick }></span>\n      </div>\n    );\n  }\n}\n\nexport default connect((state, ownProps) => ({}))(Tab);\n\nTab.propTypes = {\n  dirty: PropTypes.bool\n};\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport React from 'react';\n\nimport * as Constants from '../../../constants';\nimport GenericTab from './genericTab';\nimport EmulatorTab from './emulatorTab';\nimport TestBedTab from './testBedTab';\n\nexport default props =>\n  props.document.contentType === Constants.ContentType_LiveChat ?\n    <EmulatorTab mode=\"livechat\" documentId={ props.document.documentId } dirty={ props.document.dirty } />\n  : props.document.contentType === Constants.ContentType_Transcript ?\n    <EmulatorTab mode=\"transcript\" documentId={ props.document.documentId } dirty={ props.document.dirty } />\n  : props.document.contentType === Constants.ContentType_TestBed ?\n    <TestBedTab documentId={ props.document.documentId } dirty={ props.document.dirty } />\n  : props.document.contentType === Constants.ContentType_BotSettings ?\n    <GenericTab documentId={ props.document.documentId } title={ \"Bot Settings\" } dirty={ props.document.dirty } />\n  : props.document.contentType === Constants.ContentType_WelcomePage ?\n    <GenericTab documentId={ props.document.documentId } title={ \"Welcome\" } dirty={ props.document.dirty } />\n  : props.document.contentType === Constants.ContentType_AppSettings ?\n    <GenericTab documentId={ props.document.documentId } title={ \"Emulator Settings\" } dirty={ props.document.dirty } />\n  : false\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\n\nimport { Colors } from '@bfemulator/ui-react';\n\nexport const TAB_CSS = css({\n  display: 'flex',\n  alignItems: 'center',\n  height: '100%',\n  border: 'none',\n  borderRight: `1px solid ${Colors.EDITOR_TAB_BORDER_DARK}`,\n  backgroundColor: Colors.EDITOR_TAB_INACTIVE_BACKGROUND_DARK,\n  color: Colors.EDITOR_TAB_INACTIVE_FOREGROUND_DARK,\n  cursor: 'pointer',\n  padding: '4px 8px',\n  boxSizing: 'border-box',\n  whiteSpace: 'nowrap',\n\n  '&.active-editor-tab': {\n    backgroundColor: Colors.EDITOR_TAB_ACTIVE_BACKGROUND_DARK,\n    color: Colors.EDITOR_TAB_ACTIVE_FOREGROUND_DARK,\n\n    '& > span.editor-tab-close': {\n      opacity: 1\n    }\n  },\n\n  '&.dragged-over-editor-tab': {\n    backgroundColor: Colors.EDITOR_TAB_DRAGGED_OVER_BACKGROUND_DARK\n  },\n\n  '&:hover': {\n    '& > span.editor-tab-close': {\n      opacity: 1\n    }\n  },\n\n  '& > span': {\n    display: 'inline-block',\n    height: 'auto'\n  },\n\n  '& > span.editor-tab-icon': {\n    display: 'inline-block',\n    width: '12px',\n    marginRight: '8px',\n\n    '&:after': {\n      content: '🗋',\n      color: Colors.C5,\n      fontSize: '16px',\n    }\n  },\n\n  '& > span.editor-tab-close': {\n    display: 'inline-block',\n    width: '8px',\n    marginLeft: '8px',\n    opacity: 0,\n\n    '&:after': {\n      content: '✖',\n      color: Colors.C2,\n      fontSize: '12px'\n    }\n  }\n});\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport * as EditorActions from '../../../data/action/editorActions';\nimport GenericTab from './genericTab';\nimport { getTabGroupForDocument } from '../../../data/editorHelpers';\n\nexport class TestBedTab extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onCloseClick = this.onCloseClick.bind(this);\n  }\n\n  onCloseClick(e) {\n    e.stopPropagation();\n    this.props.dispatch(EditorActions.close(getTabGroupForDocument(this.props.documentId), this.props.documentId));\n  }\n\n  render() {\n    return(\n      <GenericTab active={ this.props.active } title={ this.props.title } onCloseClick={ this.onCloseClick }\n        documentId={ this.props.documentId } dirty={ this.props.dirty } />\n    );\n  }\n}\n\nexport default connect((state, { documentId }) => ({\n  active: state.editor.editors[state.editor.activeEditor].activeDocumentId === documentId,\n  title: \"Testbed\"\n}))(TestBedTab);\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { css } from 'glamor';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { areComponentsEqual } from 'react-hot-loader';\r\n\r\nimport TabBar from './tabBar';\r\nimport TabBarTab from './tabBarTab';\r\nimport { Content as TabbedDocumentContent, Tab as TabbedDocumentTab } from './tabbedDocument';\r\nimport { filterChildren, hmrSafeNameComparison } from '@bfemulator/ui-react';\r\n\r\nconst CSS = css({\r\n  display: 'flex',\r\n  flex: 1,\r\n  flexDirection: 'column',\r\n  height: '100%',\r\n  boxSizing: 'border-box'\r\n});\r\n\r\nclass MultiTabs extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleTabClick = this.handleTabClick.bind(this);\r\n    this.setRef = this.setRef.bind(this);\r\n    this.childRefs = [];\r\n  }\r\n\r\n  handleTabClick(nextValue) {\r\n    this.props.onChange && this.props.onChange(nextValue);\r\n  }\r\n\r\n  setRef(input) {\r\n    this.childRefs.push(input);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className={CSS}>\r\n        {\r\n          !this.props.presentationModeEnabled &&\r\n          <TabBar owningEditor={this.props.owningEditor} childRefs={this.childRefs} activeIndex={this.props.value}>\r\n            {\r\n              React.Children.map(this.props.children, (tabbedDocument, index) =>\r\n                <TabBarTab onClick={this.handleTabClick.bind(this, index)} setRef={this.setRef}>\r\n                  {filterChildren(tabbedDocument.props.children, child => hmrSafeNameComparison(child.type, TabbedDocumentTab))}\r\n                </TabBarTab>\r\n              )\r\n            }\r\n          </TabBar>\r\n        }\r\n        {!!this.props.children.length && filterChildren(React.Children.toArray(this.props.children)[this.props.value].props.children, child => hmrSafeNameComparison(child.type, TabbedDocumentContent))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state) => ({\r\n  presentationModeEnabled: state.presentation.enabled\r\n}))(MultiTabs);\r\n\r\nMultiTabs.propTypes = {\r\n  onChange: PropTypes.func,\r\n  value: PropTypes.number,\r\n  owningEditor: PropTypes.string\r\n};\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { css } from 'glamor';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Colors } from '@bfemulator/ui-react';\r\nimport * as EditorActions from '../../../data/action/editorActions';\r\nimport * as Constants from '../../../constants';\r\nimport { getOtherTabGroup } from '../../../data/editorHelpers';\r\nimport * as PresentationActions from '../../../data/action/presentationActions';\r\n\r\nconst CSS = css({\r\n  display: 'flex',\r\n  backgroundColor: Colors.EDITOR_TAB_BACKGROUND_DARK,\r\n  minHeight: '32px',\r\n\r\n  '&.dragged-over-tab-bar': {\r\n    backgroundColor: Colors.EDITOR_TAB_DRAGGED_OVER_BACKGROUND_DARK\r\n  },\r\n\r\n  '& > ul': {\r\n    display: 'flex',\r\n    backgroundColor: Colors.EDITOR_TAB_BACKGROUND_DARK,\r\n    listStyleType: 'none',\r\n    margin: 0,\r\n    padding: 0,\r\n    zIndex: 1, // So that the box-shadow will fall onto the document area (sibling div)\r\n    overflowX: 'auto',\r\n\r\n    '&::-webkit-scrollbar': {\r\n      height: '2px'\r\n    },\r\n\r\n    '&::-webkit-scrollbar-thumb': {\r\n      background: Colors.SCROLLBAR_THUMB_BACKGROUND_DARK\r\n    },\r\n\r\n    '&::-webkit-scrollbar-track': {\r\n      background: Colors.SCROLLBAR_TRACK_BACKGROUND_DARK\r\n    }\r\n  },\r\n\r\n  '& > div.tab-bar-widgets': {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    width: 'auto',\r\n    marginLeft: 'auto',\r\n    flexShrink: 0,\r\n\r\n    '& > span': {\r\n      display: 'inline-block',\r\n      cursor: 'pointer',\r\n      height: '16px',\r\n      marginRight: '12px',\r\n      fontSize: '12px',\r\n\r\n      '&:first-of-type': {\r\n        marginLeft: '12px'\r\n      }\r\n    },\r\n\r\n    '& > .widget': {\r\n      backgroundSize: '16px',\r\n      height: '32px',\r\n      width: '22px'\r\n    },\r\n\r\n    '& > .split-widget': {\r\n      background: \"url('./external/media/ic_split.svg') no-repeat 50% 50%\",\r\n    },\r\n\r\n    '& > .presentation-widget': {\r\n      background: \"url('./external/media/ic_presentation.svg') no-repeat 50% 50%\",\r\n    }\r\n  }\r\n});\r\n\r\nexport class TabBar extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.onSplitClick = this.onSplitClick.bind(this);\r\n\r\n    this.onDragEnter = this.onDragEnter.bind(this);\r\n    this.onDragOver = this.onDragOver.bind(this);\r\n    this.onDragLeave = this.onDragLeave.bind(this);\r\n    this.onDrop = this.onDrop.bind(this);\r\n    this.saveScrollable = this.saveScrollable.bind(this);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  onSplitClick() {\r\n    const owningEditor = this.props.editors[this.props.owningEditor];\r\n    const docIdToSplit = owningEditor.activeDocumentId;\r\n    const docToSplit = owningEditor.documents[docIdToSplit];\r\n    const destEditorKey = getOtherTabGroup(this.props.owningEditor);\r\n    this.props.dispatch(EditorActions.splitTab(docToSplit.contentType, docToSplit.documentId, this.props.owningEditor, destEditorKey));\r\n  }\r\n\r\n  onDragEnter(e) {\r\n    e.preventDefault();\r\n  }\r\n\r\n  onDragOver(e) {\r\n    this.setState(({ draggedOver: true }));\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }\r\n\r\n  onDragLeave(e) {\r\n    this.setState(({ draggedOver: false }));\r\n  }\r\n\r\n  onDrop(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState(({ draggedOver: false }));\r\n    try {\r\n      const tabData = JSON.parse(e.dataTransfer.getData('application/json'));\r\n      const tabId = tabData.tabId;\r\n      this.props.dispatch(EditorActions.appendTab(tabData.editorKey, this.props.owningEditor, tabId));\r\n    } catch (e) { }\r\n  }\r\n\r\n  saveScrollable(ref) {\r\n    this._scrollable = ref;\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    let scrollable = this._scrollable;\r\n  \r\n    if (scrollable) {\r\n      if (this.props.children.length > prevProps.children.length &&\r\n        scrollable.scrollWidth > scrollable.clientWidth) {\r\n          let leftOffset = 0;\r\n          for (let i = 0; i <= this.props.activeIndex; i++) {\r\n            let ref = this.props.childRefs[i];\r\n            leftOffset += ref ?  this.props.childRefs[i].offsetWidth : 0;\r\n          }\r\n          if (leftOffset >= scrollable.clientWidth) {\r\n            scrollable.scrollLeft = leftOffset;\r\n          }\r\n      }\r\n    }\r\n  }\r\n\r\n  onPresentationModeClick = () =>\r\n    this.props.dispatch(PresentationActions.enable());\r\n\r\n  render() {\r\n    const splitEnabled = Object.keys(this.props.documents).length > 1;\r\n    const activeDoc = this.props.documents[this.props.activeDocumentId];\r\n    const presentationEnabled = activeDoc\r\n      && (activeDoc.contentType === Constants.ContentType_Transcript || activeDoc.contentType === Constants.ContentType_LiveChat);\r\n\r\n    const tabBarClassName = this.state.draggedOver ? ' dragged-over-tab-bar' : '';\r\n    this.childRefs = [];\r\n    return (\r\n      <div className={ CSS + tabBarClassName } onDragEnter={ this.onDragEnter } onDragOver={ this.onDragOver }\r\n        onDragLeave={ this.onDragLeave } onDrop={ this.onDrop } >\r\n        <ul ref={ this.saveScrollable }>\r\n          {\r\n            React.Children.map(this.props.children, child =>\r\n              <li>{child}</li>\r\n            )\r\n          }\r\n        </ul>\r\n        <div className=\"tab-bar-widgets\">\r\n          { presentationEnabled ? <span className=\"widget presentation-widget\" title=\"Presentation Mode\" onClick={ e => this.onPresentationModeClick() }></span> : null }\r\n          { splitEnabled ? <span className=\"widget split-widget\" title=\"Split Editor\" onClick={ this.onSplitClick }></span> : null }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state, { owningEditor }) => ({\r\n  activeDocumentId: state.editor.editors[owningEditor].activeDocumentId,\r\n  activeEditor: state.editor.activeEditor,\r\n  editors: state.editor.editors,\r\n  documents: state.editor.editors[owningEditor].documents\r\n}))(TabBar);\r\n\r\nTabBar.propTypes = {\r\n  activeDocumentId: PropTypes.string,\r\n  activeEditor: PropTypes.oneOf([\r\n    Constants.EditorKey_Primary,\r\n    Constants.EditorKey_Secondary\r\n  ]),\r\n  editors: PropTypes.object,\r\n  value: PropTypes.number,\r\n  owningEditor: PropTypes.oneOf([\r\n    Constants.EditorKey_Primary,\r\n    Constants.EditorKey_Secondary\r\n  ]),\r\n  splitEnabled: PropTypes.bool\r\n};\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { css } from 'glamor';\r\nimport React from 'react';\r\n\r\nconst CSS = css({\r\n    height: '100%',\r\n    border: 'none',\r\n    padding: 0,\r\n\r\n    '&:active': {\r\n        border: 0,\r\n        outline: 0\r\n    },\r\n\r\n    '&:focus': {\r\n        border: 0,\r\n        outline: 0\r\n    }\r\n});\r\n\r\nexport default props =>\r\n    <button \r\n        ref={ props.setRef }\r\n        className={ CSS }\r\n        onClick={ props.onClick }\r\n        type=\"button\"\r\n    >\r\n        { props.children }\r\n    </button>\r\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { css } from 'glamor';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { OVERLAY_CSS } from './overlayStyle';\r\nimport * as EditorActions from '../../../../data/action/editorActions';\r\nimport { getTabGroupForDocument } from '../../../../data/editorHelpers';\r\n\r\nconst CSS = css({\r\n  top: 0,\r\n  left: 0,\r\n  right: 0,\r\n  bottom: 0\r\n}, OVERLAY_CSS);\r\n\r\nexport class ContentOverlay extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.onDragEnter = this.onDragEnter.bind(this);\r\n    this.onDragLeave = this.onDragLeave.bind(this);\r\n    this.onDragOver = this.onDragOver.bind(this);\r\n    this.onDrop = this.onDrop.bind(this);\r\n\r\n    this.state = {\r\n      owningEditor: getTabGroupForDocument(props.documentId)\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const { documentId: newDocumentId } = newProps;\r\n    if (this.props.documentId && this.props.documentId !== newDocumentId) {\r\n      this.setState({ owningEditor: getTabGroupForDocument(newDocumentId) });\r\n    }\r\n  }\r\n\r\n  onDragEnter(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }\r\n\r\n  onDragLeave(e) {\r\n    this.setState(({ draggedOver: false }));\r\n  }\r\n\r\n  onDragOver(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState(({ draggedOver: true }));\r\n  }\r\n\r\n  onDrop(e) {\r\n    const tabData = JSON.parse(e.dataTransfer.getData('application/json'));\r\n    if (tabData.editorKey !== this.state.owningEditor) {\r\n      this.props.dispatch(EditorActions.appendTab(tabData.editorKey, this.state.owningEditor, tabData.tabId));\r\n    }\r\n\r\n    this.setState(({ draggedOver: false }));\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }\r\n\r\n  render() {\r\n    let overlayClassName = this.state.draggedOver ? ' dragged-over-overlay' : '';\r\n    overlayClassName += (this.props.draggingTab ? ' enabled-for-drop' : '');\r\n\r\n    return (\r\n      <div className={ CSS + overlayClassName }\r\n        onDragEnterCapture={ this.onDragEnter } onDragLeave={ this.onDragLeave }\r\n        onDragOverCapture={ this.onDragOver } onDropCapture={ this.onDrop } />\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect((state, ownProps) => ({\r\n  draggingTab: state.editor.draggingTab\r\n}))(ContentOverlay);\r\n\r\nContentOverlay.propTypes = {\r\n  draggingTab: PropTypes.bool,\r\n  documentId: PropTypes.string\r\n};\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\n\nimport * as EditorActions from '../../../../data/action/editorActions';\nimport { Colors, InsetShadow } from '@bfemulator/ui-react';\nimport ContentOverlay from './contentOverlay';\nimport LeftContentOverlay from './leftContentOverlay';\nimport RightContentOverlay from './rightContentOverlay';\nimport * as Constants from '../../../../constants';\nimport { getTabGroupForDocument, tabGroupHasDocuments } from '../../../../data/editorHelpers';\n\nconst CSS = css({\n  position: 'relative',\n  height: '100%',\n  width: '100%',\n  overflow: 'auto'\n});\n\nexport class TabbedDocumentContentWrapper extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onClick = this.onClick.bind(this);\n\n    this.state = {\n      owningEditor: getTabGroupForDocument(props.documentId)\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    const { documentId: newDocumentId } = newProps;\n    if (this.props.documentId && this.props.documentId !== newDocumentId) {\n      this.setState({ owningEditor: getTabGroupForDocument(newDocumentId) });\n    }\n  }\n\n  onClick(e) {\n    if (this.state.owningEditor !== this.props.activeEditor) {\n      this.props.dispatch(EditorActions.setActiveEditor(this.state.owningEditor));\n    }\n  }\n\n  render() {\n    const onlyOneEditorActive = tabGroupHasDocuments(this.props.primaryEditor) && !tabGroupHasDocuments(this.props.secondaryEditor);\n    const splittingEnabled = onlyOneEditorActive && this.props.primaryEditor.documents && Object.keys(this.props.primaryEditor.documents).length > 1;\n\n    return (\n      <div className={ CSS } onClickCapture={ this.onClick }>\n        { this.props.children }\n        <ContentOverlay documentId={ this.props.documentId } />\n        {\n          splittingEnabled ?\n            <React.Fragment>\n              <LeftContentOverlay />\n              <RightContentOverlay />\n            </React.Fragment>\n          :\n            null\n        }\n        <InsetShadow top={ true } />\n      </div>\n    );\n  }\n}\n\nexport default connect((state, ownProps) => ({\n  activeEditor: state.editor.activeEditor,\n  primaryEditor: state.editor.editors[Constants.EditorKey_Primary],\n  secondaryEditor: state.editor.editors[Constants.EditorKey_Secondary]\n}))(TabbedDocumentContentWrapper);\n\nTabbedDocumentContentWrapper.propTypes = {\n  activeEditor: PropTypes.oneOf([\n    Constants.EditorKey_Primary,\n    Constants.EditorKey_Secondary\n  ]),\n  documentId: PropTypes.string,\n  primaryEditor: PropTypes.object,\n  secondaryEditor: PropTypes.object\n};\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport TabbedDocumentContentWrapper from './contentWrapper';\n\nconst CSS = css({\n  display: 'flex',\n  flex: 1,\n  flexDirection: 'column'\n});\n\nexport default class TabbedDocument extends React.Component {\n  render() {\n    return false;\n  }\n}\n\nexport const Tab = props => props.children;\nexport const Content = props => <TabbedDocumentContentWrapper documentId={ props.documentId }>{ props.children }</TabbedDocumentContentWrapper>;\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\n\nimport { OVERLAY_CSS } from './overlayStyle';\nimport * as Constants from '../../../../constants';\n\nconst CSS = css({\n  top: 0,\n  left: 0,\n  right: '80%',\n  bottom: 0\n}, OVERLAY_CSS);\n\nexport class ContentOverlay extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDragOver = this.onDragOver.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n\n    this.state = {};\n  }\n\n  onDragEnter(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  onDragLeave(e) {\n    this.setState(({ draggedOver: false }));\n  }\n\n  onDragOver(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState(({ draggedOver: true }));\n  }\n\n  onDrop(e) {\n    this.setState(({ draggedOver: false }));\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  render() {\n    let overlayClassName = this.state.draggedOver ? ' dragged-over-overlay' : '';\n    overlayClassName += (this.props.draggingTab ? ' enabled-for-drop' : '');\n\n    return (\n      <div className={ CSS + overlayClassName }\n        onDragEnterCapture={ this.onDragEnter } onDragLeave={ this.onDragLeave }\n        onDragOverCapture={ this.onDragOver } onDropCapture={ this.onDrop } />\n    );\n  }\n}\n\nexport default connect((state, ownProps) => ({\n  draggingTab: state.editor.draggingTab\n}))(ContentOverlay);\n\nContentOverlay.propTypes = {\n  draggingTab: PropTypes.bool,\n  documentId: PropTypes.string\n};\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\n\nimport { Colors } from '@bfemulator/ui-react';\n\nexport const OVERLAY_CSS = css({\n    position: 'absolute',\n    transition: 'background-color 0.1s ease-in-out',\n    backgroundColor: Colors.EDITOR_DRAG_OVERLAY_TRANSPARENT_DARK,\n    pointerEvents: 'none',\n\n    '&.dragged-over-overlay': {\n        backgroundColor: Colors.EDITOR_DRAG_OVERLAY_VISIBLE_DARK\n    },\n\n    '&.enabled-for-drop': {\n        pointerEvents: 'auto'\n    }\n});\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\n\nimport { OVERLAY_CSS } from './overlayStyle';\nimport * as EditorActions from '../../../../data/action/editorActions';\nimport * as Constants from '../../../../constants';\n\nconst CSS = css({\n    top: 0,\n    left: '80%',\n    right: 0,\n    bottom: 0\n}, OVERLAY_CSS);\n\nexport class RightContentOverlay extends React.Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.onDragEnter = this.onDragEnter.bind(this);\n        this.onDragLeave = this.onDragLeave.bind(this);\n        this.onDragOver = this.onDragOver.bind(this);\n        this.onDrop = this.onDrop.bind(this);\n\n        this.state = {};\n    }\n\n    onDragEnter(e) {\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    onDragLeave(e) {\n        this.setState(({ draggedOver: false }));\n    }\n\n    onDragOver(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState(({ draggedOver: true }));\n    }\n\n    onDrop(e) {\n        const tabData = JSON.parse(e.dataTransfer.getData('application/json'));\n        const tabId = tabData.tabId;\n        const docToSplit = this.props.primaryEditor.documents[tabId];\n        this.props.dispatch(EditorActions.splitTab(docToSplit.contentType, tabId, Constants.EditorKey_Primary, Constants.EditorKey_Secondary));\n        this.setState(({ draggedOver: false }));\n\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    render() {\n        let overlayClassName = this.state.draggedOver ? ' dragged-over-overlay' : '';\n        overlayClassName += (this.props.draggingTab ? ' enabled-for-drop' : '');\n\n        return (\n            <div className={ CSS + overlayClassName }\n                onDragEnterCapture={ this.onDragEnter } onDragLeave={ this.onDragLeave }\n                onDragOverCapture={ this.onDragOver } onDropCapture={ this.onDrop } />\n        );\n    }\n}\n\nexport default connect((state, ownProps) => ({\n    draggingTab: state.editor.draggingTab,\n    primaryEditor: state.editor.editors[Constants.EditorKey_Primary]\n}))(RightContentOverlay);\n\nRightContentOverlay.propTypes = {\n    draggingTab: PropTypes.bool,\n    primaryEditor: PropTypes.object\n};\n","//\r\n// Copyright (c) Microsoft. All rights reserved.\r\n// Licensed under the MIT license.\r\n//\r\n// Microsoft Bot Framework: http://botframework.com\r\n//\r\n// Bot Framework Emulator Github:\r\n// https://github.com/Microsoft/BotFramwork-Emulator\r\n//\r\n// Copyright (c) Microsoft Corporation\r\n// All rights reserved.\r\n//\r\n// MIT License:\r\n// Permission is hereby granted, free of charge, to any person obtaining\r\n// a copy of this software and associated documentation files (the\r\n// \"Software\"), to deal in the Software without restriction, including\r\n// without limitation the rights to use, copy, modify, merge, publish,\r\n// distribute, sublicense, and/or sell copies of the Software, and to\r\n// permit persons to whom the Software is furnished to do so, subject to\r\n// the following conditions:\r\n//\r\n// The above copyright notice and this permission notice shall be\r\n// included in all copies or substantial portions of the Software.\r\n//\r\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\r\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\r\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\r\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n//\r\n\r\nimport { connect } from 'react-redux';\r\nimport { css } from 'glamor';\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\n\r\nimport { Colors, InsetShadow } from '@bfemulator/ui-react';\r\nimport * as Constants from '../../../constants';\r\nimport * as NavBarActions from '../../../data/action/navBarActions';\r\nimport * as EditorActions from '../../../data/action/editorActions';\r\nimport * as ExplorerActions from '../../../data/action/explorerActions';\r\n\r\nconst CSS = css({\r\n  backgroundColor: Colors.NAVBAR_BACKGROUND_DARK,\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  overflow: 'hidden',\r\n  position: 'relative',\r\n  width: 48,\r\n\r\n  '& > ul': {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    listStyleType: 'none',\r\n    margin: 0,\r\n    padding: 0,\r\n\r\n    '& > li': {\r\n      backgroundColor: 'Transparent',\r\n      cursor: 'pointer',\r\n      height: 48,\r\n      transition: 'background-color .1s ease-out',\r\n\r\n      '& > div': {\r\n        height: '100%',\r\n        width: '100%',\r\n\r\n        '&:hover': {\r\n          // TODO: Don't use !important\r\n          backgroundColor: 'rgba(0, 0, 0, .15) !important'\r\n        }\r\n      },\r\n\r\n      '&.app > div': {\r\n        backgroundColor: 'initial !important'\r\n      },\r\n\r\n      '& > div.selected': {\r\n        // TODO: Don't use !important\r\n        backgroundColor: 'rgba(0, 0, 0, .15) !important'\r\n      }\r\n    }\r\n  },\r\n\r\n  // TODO: We should use WOFF and not need backgroundSize here\r\n  '& > ul > li > div': {\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundPosition: '50% 50%',\r\n    backgroundSize: 24\r\n  },\r\n\r\n  '& > ul.app': {\r\n    marginBottom: 'auto',\r\n\r\n    '& > li.app > div': {\r\n      backgroundImage: 'url(./external/media/ic_bot_framework.svg)',\r\n      backgroundSize: 26,\r\n      cursor: 'default'\r\n    },\r\n\r\n    '& > li.bot-explorer > div': {\r\n      backgroundImage: 'url(./external/media/ic_chat.svg)'\r\n    },\r\n\r\n    '& > li.assets > div': {\r\n      backgroundImage: 'url(./external/media/ic_assets.svg)'\r\n    },\r\n\r\n    '& > li.services > div': {\r\n      backgroundImage: 'url(./external/media/ic_services.svg)'\r\n    },\r\n\r\n    '& > li.analytics > div': {\r\n      backgroundImage: 'url(./external/media/ic_analytics.svg)'\r\n    }\r\n  },\r\n\r\n  '& > ul.sys': {\r\n    '& > li.settings > div': {\r\n      backgroundImage: 'url(./external/media/ic_settings.svg)'\r\n    },\r\n\r\n    '& > li.notifications > div': {\r\n      backgroundImage: 'url(./external/media/ic_notification.svg)',\r\n      backgroundSize: 22\r\n    },\r\n\r\n    '& > li.user > div': {\r\n      backgroundImage: 'url(./external/media/ic_user.svg)'\r\n    }\r\n  }\r\n});\r\n\r\nclass NavBar extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n\r\n    this.handleFilesClick = this.handleClick.bind(this, Constants.NavBar_Bot_Explorer);\r\n    this.handleServicesClick = this.handleClick.bind(this, Constants.NavBar_Services);\r\n    this.handleSettingsClick = this.handleSettingsClick.bind(this);\r\n  }\r\n\r\n  handleClick(selection) {\r\n    if (this.props.selection === selection) {\r\n      // toggle explorer when clicking the same navbar icon\r\n      this.props.dispatch(ExplorerActions.show(!this.props.explorerShowing));\r\n    } else {\r\n      // switch tabs and show explorer when clicking different navbar icon\r\n      this.props.dispatch(() => {\r\n        this.props.dispatch(NavBarActions.select(selection));\r\n        this.props.dispatch(ExplorerActions.show(true));\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSettingsClick(e) {\r\n    this.props.dispatch(EditorActions.open(Constants.ContentType_AppSettings, Constants.DocumentId_AppSettings, true, null));\r\n  }\r\n\r\n  render() {\r\n    const { selection } = this.props;\r\n\r\n    // TODO: Don't use onClick on <li>, if it is a button, make it a <button>\r\n    return (\r\n      <nav className={CSS}>\r\n        <ul className=\"app\">\r\n          <li role=\"button\" className=\"bot-explorer\" onClick={this.handleFilesClick} title=\"Bot Explorer\">\r\n            <div className={classNames({ selected: selection === Constants.NavBar_Bot_Explorer })}/>\r\n          </li>\r\n          <li role=\"button\" className=\"services\" onClick={this.handleServicesClick} title=\"Services\">\r\n            <div className={classNames({ selected: selection === Constants.NavBar_Services })}/>\r\n          </li>\r\n        </ul>\r\n        <ul className=\"sys\">\r\n          <li role=\"button\" className=\"settings\" onClick={this.handleSettingsClick} title=\"Settings\">\r\n            <div className={classNames({ selected: selection === Constants.NavBar_Settings })}/>\r\n          </li>\r\n        </ul>\r\n        <InsetShadow right={true}/>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({\r\n  selection: state.navBar.selection,\r\n  explorerShowing: state.explorer.showing\r\n}))(NavBar)\r\n","//\n// Copyright (c) Microsoft. All rights reserved.\n// Licensed under the MIT license.\n//\n// Microsoft Bot Framework: http://botframework.com\n//\n// Bot Framework Emulator Github:\n// https://github.com/Microsoft/BotFramwork-Emulator\n//\n// Copyright (c) Microsoft Corporation\n// All rights reserved.\n//\n// MIT License:\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"\"AS IS\"\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n\nimport { css } from 'glamor';\nimport React from 'react';\n\nimport { Colors } from '@bfemulator/ui-react';\n\nconst CSS = css({\n  backgroundColor: Colors.STATUS_BAR_BACKGROUND_DARK,\n  color: Colors.STATUS_BAR_FOREGROUND_DARK,\n  lineHeight: '22px',\n  minHeight: '22px',\n  width: '100%',\n  alignSelf: 'flex-end',\n  flex: 1\n});\n\nexport default props =>\n  <div className={ CSS }></div>\n","export const debounce = function (closure: (args?: any[]) => any, timeout: number = 500) {\r\n  let lastTick = Date.now();\r\n  return function (...args) {\r\n    if (Date.now() - lastTick > timeout) {\r\n      lastTick = Date.now();\r\n      return closure(...args);\r\n    }\r\n  }\r\n};\r\n","module.exports = shared_5e358c4ce1c49d05e044;","module.exports = vendors_f50214d7a018df6e22eb;"],"sourceRoot":""}